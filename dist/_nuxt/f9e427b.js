(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{1051:function(e,t,n){"use strict";n(8),n(7),n(3),n(2),n(10),n(4),n(11);var r=n(0);n(15);function o(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}function l(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?o(Object(source),!0).forEach((function(t){Object(r.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):o(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var c=n(1),d=n(28),m=n(25),f=(n(32),n(20),n(35),n(63),n(17),n(42),n(41),n(27),n(48),n(14),n(21),n(22),n(16)),_=n(1022),h=n(275),v=n(990),y=n(1150),w=n(1162),$=n(1037),k=n(1147),x=n(1205),C=n(1052),O=n(1111),P=n(1149);function S(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}function j(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?S(Object(source),!0).forEach((function(t){Object(r.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):S(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var M={components:{SellSelectModification:y.a,UploadImage:w.a,ColorOptions:$.a,DamageOptions:k.a,AddVideo:x.a,PickOnMapButton:C.a,SellFilters:O.a,CarFilters:P.a},props:{edit:Boolean,restore:Boolean,title:String,type:String,initialForm:{},announcement:{},isModeration:Boolean},mixins:[_.a,h.a,v.a],data:function(){var e,t,n=this;return{now:(new Date).toLocaleDateString("en-US"),videoUploading:!1,uploadPercentage:0,videoUploaded:(null===(e=this.announcement)||void 0===e?void 0:e.first_images_360)||!1,collapsed:!1,form:this.$clone(this.initialForm),date:Math.floor(Date.now()/1e3),files:((null===(t=this.announcement)||void 0===t?void 0:t.media)||[]).map((function(e,i){return{media:e,key:n.initialForm.saved_images[i]}})),minFiles:"moto"===this.type?2:3,maxFiles:20,savedFiles:Object(m.a)(this.initialForm.saved_images),deletedFiles:[],uploading:0,publishing:!1,showAllOptions:"cars"!==this.type||this.edit,readCarNumberDisclaimer:!1,showRules:!1,showBanners:!1,isAlreadySold:!1,showLoginPopup:!1,pending:!1}},mounted:function(){var e=this;setTimeout((function(){return e.scrollReset()}),100)},computed:j(j(j({},Object(f.e)(["sellPhoneEntered"])),Object(f.c)(["sellOptions","sellSalonRights","staticPages"])),{},{progress:function(){var progress=30;return""!==this.form.mileage&&(this.form.selectedColor instanceof Array?this.form.selectedColor.length:""!==this.form.selectedColor)&&(progress+=10),(this.form.vin||this.form.car_number)&&(progress+=10),this.savedFiles.length>=this.minFiles&&(progress+=10),this.form.price&&(progress+=10),this.form.comment&&(progress+=10),"cars"===this.type&&this.form.car_catalog_id&&(progress+=10),"cars"===this.type&&Object.keys(this.form.all_options).length>0&&(progress+=10),"cars"!==this.type&&(progress+=20),progress},helperImages:function(){var e=this;return("cars"===this.type?[1,2,3,4,5]:"commercial"===this.type?[1,2,3,4]:[1,2,3]).map((function(t){return"/img/sell-helpers/".concat(e.type,"_").concat(t,".png")}))},isAutosalon:function(){return!!(this.loggedIn&&this.user.autosalon&&1===this.user.autosalon.status||this.sellSalonRights)},getRulesPage:function(){return this.staticPages.find((function(e){return 1==e.id}))},getCurrencyOptions:function(){return[{key:1,name:"AZN",sign:"₼"},{key:2,name:"USD",sign:"$"},{key:3,name:"EUR",sign:"€"}]},getMileageOptions:function(){return[{key:1,name:this.$t("char_kilometre")},{key:2,name:this.$t("char_mile")}]},getOwnerOptions:function(){return[{key:0,name:this.$t("yes")},{key:1,name:this.$t("no")}]}}),methods:j(j({},Object(f.b)(["setSellProgress","setSellPreviewData","resetSellTokens","getMyAllAnnouncements"])),{},{upload360Video:function(e){var t=this;if(!e.target.files[0])return!1;if(e.target.files[0].size>99614720)return e.preventDefault(),void this.$toast.error(this.$t("file_size_50"));var n=new FormData;n.append("video",e.target.files[0]),this.uploading=!0,this.videoUploaded=!1,this.videoUploading=!0,this.$axios.post("/upload_temporary_video",n,{onUploadProgress:function(e){this.uploadPercentage=parseInt(Math.round(e.loaded/e.total*100))}.bind(this),headers:{"Content-Type":"multipart/form-data"}}).then((function(e){t.uploading=!1,t.videoUploading=!1,t.videoUploaded=!0,200==e.status&&(t.$toast.success(t.$t("video_360_successfully_upload")),t.form.video_360_id=e.data.data.id)})).catch((function(){t.uploading=!1,t.videoUploading=!1,t.videoUploaded=!1}))},handleModification:function(e){var t=this,n=e.key,r=e.value;if(this.$set(this.form,n,r),!this.showAllOptions&&"car_catalog_id"===n&&r){if(this.showAllOptions=!0,!this.isMobileBreakpoint)return;this.$nextTick((function(){setTimeout((function(){t.scrollTo(t.$refs.saved_images,-34,500)}),0)}))}},showCarNumberDisclaimer:function(){this.readCarNumberDisclaimer?this.$nuxt.$emit("close-popover","car-number"):(this.$nuxt.$emit("show-popover","car-number"),this.readCarNumberDisclaimer=!0)},updatePreview:function(e){var t,n,r,o=this;e&&"region"!==e||this.setSellPreviewData({value:null===(t=this.sellOptions.regions.find((function(e){return e.key===o.form.region_id})))||void 0===t?void 0:t.name[this.locale],key:"region"}),e&&"price"!==e||this.setSellPreviewData({value:this.form.price,key:"price"}),e&&"currency"!==e||this.setSellPreviewData({value:null===(n=this.getCurrencyOptions.find((function(e){return e.key===o.form.currency})))||void 0===n?void 0:n.sign,key:"currency"}),e&&"mileage"!==e||this.setSellPreviewData({value:this.form.mileage,key:"mileage"}),e&&"mileage_measure"!==e||this.setSellPreviewData({value:null===(r=this.getMileageOptions.find((function(e){return e.key===o.form.mileage_measure})))||void 0===r?void 0:r.name,key:"mileage_measure"})},updateMileage:function(e){if(e){var t=this.form.mileage;this.form.mileage=t>(2===this.form.mileage_measure?310.686:500)||!t?0:t}else this.isInvalid("mileage")&&this.removeError("mileage");this.updatePreview("mileage")},updateAddress:function(address){this.form.address=address,this.removeError("address")},updateLatLng:function(e){var t=e.lat,n=e.lng;this.form.lat=t,this.form.lng=n},updateCarDamage:function(e){this.form.part=e},updateCarFilter:function(e,t){!1===t||""===t||"object"===Object(d.a)(t)&&!Object.keys(t).length?this.$delete(this.form.all_options,e):this.$set(this.form.all_options,e,t),this.$nuxt.$emit("change-car-filters")},updateSellFilter:function(e,t){""===t?this.$delete(this.form,e):this.$set(this.form,e,t)},updateImages:function(e){var t;this.files=e,this.setSellPreviewData({value:null===(t=e[0])||void 0===t?void 0:t.image,key:"image"})},addImages:function(e){var t=this;return Object(c.a)(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e.length+t.savedFiles.length+t.uploading>=t.minFiles&&t.removeError("saved_images"),t.uploading+=e.length,n.next=4,Promise.all(e.map(function(){var e=Object(c.a)(regeneratorRuntime.mark((function e(image){var n,r,data,o,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new FormData,e.next=3,t.getResizedImage(image.file);case 3:return r=e.sent,n.append("temp_id",t.date),n.append("images[]",r),e.prev=6,e.next=9,t.$axios.$post("/upload_temporary_images",n,{progress:!1,headers:{"Content-Type":"multipart/form-data"}});case 9:data=e.sent,t.uploading--,t.$nuxt.$emit("image-uploaded",image.key,!1,data.images[0],data.ids[0]),t.$nuxt.$emit("hide-image-preloader-by-key",image.key),t.savedFiles=[].concat(Object(m.a)(t.savedFiles),Object(m.a)(data.ids)),e.next=23;break;case 16:for(l in e.prev=16,e.t0=e.catch(6),o=e.t0.response.data.data,t.uploading--,t.$nuxt.$emit("delete-image-by-key",image.key),t.clearErrors(),o)t.$toasted.error(o[l]);case 23:case"end":return e.stop()}}),e,null,[[6,16]])})));return function(t){return e.apply(this,arguments)}}()));case 4:case"end":return n.stop()}}),n)})))()},deleteImage:function(e){var t=this;return Object(c.a)(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:t.savedFiles[e]&&(t.edit&&t.form.saved_images.includes(t.savedFiles[e])?t.deletedFiles.push(t.savedFiles[e]):t.$axios.$post("/remove_temporary_image/"+t.savedFiles[e]),t.$delete(t.savedFiles,e));case 1:case"end":return n.stop()}}),n)})))()},rotateImage:function(e,t){var n=this;return Object(c.a)(regeneratorRuntime.mark((function r(){var o,data,l,c;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!n.savedFiles[e]){r.next=19;break}return r.prev=1,n.$nuxt.$loading.start(),r.next=5,n.$axios.$get("/media/".concat(n.savedFiles[e],"/rotate/right"));case 5:o=r.sent,data=o.data,n.$nuxt.$loading.finish(),n.$nuxt.$emit("image-uploaded",t,!0,data.thumb),n.$nuxt.$emit("hide-image-preloader-by-key",t),r.next=19;break;case 12:for(c in r.prev=12,r.t0=r.catch(1),l=r.t0.response.data.data,n.$nuxt.$emit("hide-image-preloader-by-key",t),n.$nuxt.$loading.finish(),n.clearErrors(),l)n.$toasted.error(l[c]);case 19:case"end":return r.stop()}}),r,null,[[1,12]])})))()},changeOrder:function(e,t){this.$set(this,"savedFiles",e),this.setSellPreviewData({value:t,key:"image"})},publishPost:function(){var e=this;return Object(c.a)(regeneratorRuntime.mark((function t(){var n,r,o,l,c,d,m,data,f,_,h,v,y,w,$;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.pending){t.next=2;break}return t.abrupt("return");case 2:if(!e.uploading){t.next=5;break}return e.$toasted.error(e.$t("please_wait_for_all_image_loading")),t.abrupt("return");case 5:if(!e.videoUploading){t.next=8;break}return e.$toasted.error(e.$t("please_wait_for_all_video_loading")),t.abrupt("return");case 8:return e.form.saved_images=e.savedFiles,e.form.is_autosalon=e.isAutosalon,e.isAlreadySold&&(e.form.can_pay=!0),(n=new FormData).append("data",JSON.stringify(e.form)),n.append("phone",e.sellPhoneEntered.replace(/[^0-9]+/g,"")),e.deletedFiles.length&&n.append("deletedImages",JSON.stringify(e.deletedFiles)),r="/sell/",r+="cars"!==e.type?e.type+"/":"",r+="commercial"===e.type&&e.edit?"":"post/",r+=e.edit?"edit/"+e.$route.params.id.slice(0,-1):"publish",r+="?is_mobile=".concat(e.isMobileBreakpoint),e.pending=!0,t.prev=21,t.next=24,e.$axios.$post(r,n);case 24:if(l=t.sent,!e.loggedIn){t.next=28;break}return t.next=28,e.$auth.fetchUser();case 28:e.edit||(e.fbTrack("Lead Api"),e.gtagTrack("AW-600951956/ccUSCJT25_IBEJSZx54C")),null!=l&&null!==(o=l.data)&&void 0!==o&&o.redirect_url?e.handlePayment(l,e.$localePath("/profile/announcements")):e.$router.push(e.$localePath("/profile/announcements"),(function(){e.restore?e.updatePaidStatus({type:"success",text:e.$t("announcement_restored"),title:e.$t("success_payment")}):e.isAlreadySold?e.updatePaidStatus({type:"success",text:e.$t("announcement_paid"),title:e.$t("success_payment")}):e.$toasted.success(e.$t("saved_changes"))})),t.next=43;break;case 32:if(t.prev=32,t.t0=t.catch(21),c=t.t0.response,d=c.status,m=c.data,data=m.data,f=m.message,e.clearErrors(),e.pending=!1,420===d)e.$toasted.error(e.$t(f)),data.need_pay&&(e.isAlreadySold=!0,e.scrollTo(".publish-post"));else if(_=data&&Object.keys(data).length)for(v in h=0,data)"car_or_vin"===(y=v)&&(y=e.form.customs_clearance?"vin":"car_number"),e.errors.push(y),w=e.errors.indexOf(y),$="(".concat(_-w,"/").concat(_,") ").concat(data[v][0]),e.showError(y,$,{fieldView:v,offset:e.isMobileBreakpoint?30:-20},0===h),h++;else f&&499!==d&&e.$toasted.error(e.$t(f));e.showLoginPopup||499!==d||(e.showLoginPopup=!0);case 43:case"end":return t.stop()}}),t,null,[[21,32]])})))()},handleAfterLogin:function(){this.resetSellTokens(),this.showLoginPopup=!1,this.publishPost()}}),watch:{progress:function(e){this.setSellProgress(e)}},created:function(){var e=this;["sellBody","sellGenerations","sellEngines","sellGearing","sellTransmissions","sellModifications"].map((function(t){e.mutate({property:t,value:[]})})),this.$nuxt.$on("login",this.handleAfterLogin),this.user.external_salon&&(this.form.customs_clearance=!0),this.updatePreview()},beforeDestroy:function(){this.$nuxt.$off("login",this.handleAfterLogin)}},F=M,D=(n(1180),n(12)),component=Object(D.a)(F,(function(){var e=this,t=e._self._c;return t(e.isMobileBreakpoint?"mobile-screen":"div",{tag:"component",attrs:{"action-icon":"reset","bar-title":e.title,"height-auto":""},on:{back:function(t){return e.$emit("close")},action:function(t){return e.$emit("clean")}}},[t("div",{staticClass:"sell_last-step"},[e.edit||"cars"!==e.type?e._e():t("sell-select-modification",{attrs:{form:e.form},on:{"update-form":e.handleModification}}),e._v(" "),e.showAllOptions?t("div",{class:{"disabled-content":"cars"===e.type&&!e.form.car_catalog_id}},[t("h2",{staticClass:"title-with-line mt-3 mt-lg-0",attrs:{id:"anchor-saved_images"}},[t("span",[e._v(e._s(e.$t("photos"))+" ("+e._s(e.$t("at_least_5_photos",{min:e.minFiles,max:e.maxFiles}).toLowerCase())+") "),t("span",{staticClass:"star"},[e._v(" *")])]),e._v(" "),t("br")]),e._v(" "),t("upload-image",{ref:"sellLastStepUploadImage",attrs:{"max-files":e.maxFiles,"min-files":e.minFiles,"default-files":e.files,helpers:e.helperImages},on:{"files-changed":e.updateImages,"files-dropped":e.addImages,"file-deleted":e.deleteImage,"file-rotated":e.rotateImage,"order-changed":e.changeOrder}}),e._v(" "),e.user.autosalon&&e.user.autosalon.access_to_360&&"cars"===e.type?[t("h2",{staticClass:"title-with-line mt-2 mt-lg-3"},[t("span",[e._v(e._s(e.$t("exterior")))])]),e._v(" "),t("div",{staticClass:"d-flex align-items-center"},[t("input",{staticClass:"inputfile",attrs:{type:"file",name:"file",id:"file"},on:{change:e.upload360Video}}),e._v(" "),t("label",{staticClass:"btn btn--dark-blue-2",class:{pending:e.videoUploading},attrs:{for:"file"}},[e._v(e._s(e.$t("video_choose")))]),e._v(" "),!e.videoUploaded&&e.uploadPercentage?t("span",{staticClass:"ml-1"},[e._v(e._s(e.uploadPercentage)+"%")]):e._e(),e._v(" "),e.videoUploaded?t("span",{staticClass:"ml-2",staticStyle:{"margin-bottom":"4px"}},[t("icon",{staticStyle:{color:"green","font-size":"20px"},attrs:{name:"check-circle"}})],1):e._e()])]:e._e(),e._v(" "),t("h2",{staticClass:"title-with-line mt-2 mt-lg-3",attrs:{id:"anchor-selectedColor"}},[t("span",[e._v(e._s(e.$t("color"))+" "),t("span",{staticClass:"star"},[e._v(" *")])])]),e._v(" "),t("color-options",{attrs:{limit:2,multiple:"cars"===e.type,matt:e.form.is_matte,"hide-matt":"cars"!==e.type},on:{"change-matt":function(t){e.form.is_matte=t},change:function(t){return e.removeError("selectedColor")}},model:{value:e.form.selectedColor,callback:function(t){e.$set(e.form,"selectedColor",t)},expression:"form.selectedColor"}}),e._v(" "),t("h2",{staticClass:"title-with-line mt-2 mt-lg-3",attrs:{id:"anchor-mileage"}},[t("span",[e._v(e._s(e.$t("mileage"))+" "),t("span",{staticClass:"star"},[e._v(" *")])])]),e._v(" "),t("div",{staticClass:"row"},[t("div",{staticClass:"col-lg-3 mb-2 mb-lg-0"},[t("div",{staticClass:"row flex-nowrap"},[t("div",{staticClass:"col-auto flex-grow-1"},[t("form-numeric-input",{attrs:{placeholder:e.$t("mileage"),"input-class":"w-133",invalid:e.isInvalid("mileage")},on:{change:function(t){e.removeError("mileage"),e.updatePreview("mileage")}},model:{value:e.form.mileage,callback:function(t){e.$set(e.form,"mileage",t)},expression:"form.mileage"}})],1),e._v(" "),t("div",{staticClass:"col-auto"},[t("form-switch",{attrs:{options:e.getMileageOptions},on:{change:function(t){return e.updatePreview("mileage_measure")}},model:{value:e.form.mileage_measure,callback:function(t){e.$set(e.form,"mileage_measure",t)},expression:"form.mileage_measure"}})],1)])]),e._v(" "),t("div",{staticClass:"col-lg-auto mb-2 mb-lg-0"},[t("div",{staticClass:"d-flex flex-wrap flex-lg-nowrap"},[t("form-checkbox",{attrs:{transparent:"",label:e.$t("is_new"),"input-name":"is_new"},on:{change:e.updateMileage},model:{value:e.form.is_new,callback:function(t){e.$set(e.form,"is_new",t)},expression:"form.is_new"}}),e._v(" "),t("form-checkbox",{attrs:{transparent:"",label:e.$t("bitie"),"input-name":"beaten","has-popover":""},model:{value:e.form.beaten,callback:function(t){e.$set(e.form,"beaten",t)},expression:"form.beaten"}},[t("popover",{staticClass:"white-space-pre-wrap-span",attrs:{message:e.$t("with_significant_damage_to_body_elements_that_do_not_move_on_their_own"),width:175}})],1),e._v(" "),e.user.external_salon?e._e():t("form-checkbox",{attrs:{transparent:"",label:e.$t("not_cleared"),"input-name":"customs_clearance"},on:{change:function(t){e.removeError("car_number",!0),e.removeError("vin",!0),e.form.car_number=""}},model:{value:e.form.customs_clearance,callback:function(t){e.$set(e.form,"customs_clearance",t)},expression:"form.customs_clearance"}}),e._v(" "),e.user.external_salon?e._e():t("form-checkbox",{attrs:{transparent:"",label:e.$t("in_garanty"),"input-name":"guaranty"},model:{value:e.form.guaranty,callback:function(t){e.$set(e.form,"guaranty",t)},expression:"form.guaranty"}})],1)])]),e._v(" "),"cars"===e.type?[e._e(),e._v(" "),e._e()]:e._e(),e._v(" "),e.isAutosalon||e.user.external_salon?e._e():[t("h2",{staticClass:"title-with-line mt-2 mt-lg-3",attrs:{id:"anchor-region_id"}},[t("span",[e._v(e._s(e.$t("region_and_place_of_inspection"))+" "),t("span",{staticClass:"star"},[e._v(" *")])])]),e._v(" "),t("div",{staticClass:"row"},[t("div",{staticClass:"col-lg-4 mb-2 mb-lg-0"},[t("form-select",{attrs:{label:e.$t("region"),options:e.sellOptions.regions,"has-search":"",invalid:e.isInvalid("region_id"),"clear-option":!1},on:{change:function(t){e.removeError("region_id"),e.updatePreview("region")}},model:{value:e.form.region_id,callback:function(t){e.$set(e.form,"region_id",t)},expression:"form.region_id"}})],1),e._v(" "),t("div",{staticClass:"col-lg-4 mb-2 mb-lg-0"},[t("form-text-input",{attrs:{placeholder:e.$t("address"),"icon-name":"placeholder"},model:{value:e.form.address,callback:function(t){e.$set(e.form,"address",t)},expression:"form.address"}})],1),e._v(" "),t("div",{staticClass:"col-lg-4 mb-2 mb-lg-0"},[t("pick-on-map-button",{attrs:{lat:e.form.lat,lng:e.form.lng,address:e.form.address},on:{"change-address":e.updateAddress,"change-latlng":e.updateLatLng}},[t("form-text-input",{attrs:{placeholder:e.$t("address"),"icon-name":"placeholder"},model:{value:e.form.address,callback:function(t){e.$set(e.form,"address",t)},expression:"form.address"}})],1)],1)])],e._v(" "),e.user.external_salon?[t("h2",{staticClass:"title-with-line mt-2 mt-lg-3",attrs:{id:"anchor-region_id"}},[t("span",[e._v(e._s(e.$t("country"))+" "),t("span",{staticClass:"star"},[e._v(" *")])])]),e._v(" "),t("div",{staticClass:"row"},[t("div",{staticClass:"col-lg-4 mb-2 mb-lg-0"},[t("form-select",{attrs:{label:e.$t("country"),options:e.sellOptions.countries,"has-search":"",invalid:e.isInvalid("region_id"),"clear-option":!1},on:{change:function(t){e.removeError("region_id"),e.updatePreview("region")}},model:{value:e.form.country_id,callback:function(t){e.$set(e.form,"country_id",t)},expression:"form.country_id"}})],1)])]:e._e(),e._v(" "),t("h2",{staticClass:"title-with-line mt-2 mt-lg-3",attrs:{id:"anchor-price"}},[t("span",[e._v(e._s(e.$t("price"))+" "),t("span",{staticClass:"star"},[e._v(" *")])])]),e._v(" "),t("div",{staticClass:"row"},[t("div",{staticClass:"col-lg-auto mb-2 mb-lg-0"},[t("div",{staticClass:"row flex-nowrap"},[t("div",{staticClass:"col-auto flex-grow-1"},[t("form-numeric-input",{attrs:{placeholder:e.$t("price"),"input-class":"w-133",invalid:e.isInvalid("price")},on:{change:function(t){e.removeError("price"),e.updatePreview("price")}},model:{value:e.form.price,callback:function(t){e.$set(e.form,"price",t)},expression:"form.price"}})],1),e._v(" "),t("div",{staticClass:"col-auto"},[t("form-switch",{attrs:{options:e.getCurrencyOptions},on:{change:function(t){return e.updatePreview("currency")}},model:{value:e.form.currency,callback:function(t){e.$set(e.form,"currency",t)},expression:"form.currency"}})],1)])]),e._v(" "),e.user.external_salon?e._e():t("div",{staticClass:"col-lg-auto mb-2 mb-lg-0"},[t("div",{staticClass:"d-flex flex-wrap flex-lg-nowrap"},[t("form-checkbox",{attrs:{transparent:"",label:e.$t("tradeable"),"input-name":"tradeable"},model:{value:e.form.tradeable,callback:function(t){e.$set(e.form,"tradeable",t)},expression:"form.tradeable"}}),e._v(" "),t("form-checkbox",{attrs:{transparent:"",label:e.$t("credit_possible"),"input-name":"credit"},model:{value:e.form.credit,callback:function(t){e.$set(e.form,"credit",t)},expression:"form.credit"}})],1)])]),e._v(" "),e.user.external_salon?[t("h2",{staticClass:"title-with-line mt-2 mt-lg-3",attrs:{id:"anchor-price"}},[t("span",[e._v(e._s(e.$t("auction"))+" / "+e._s(e.$t("end_date"))+" "),t("span",{staticClass:"star"},[e._v(" *")])])]),e._v(" "),t("div",{staticClass:"row"},[t("div",{staticClass:"col-lg-auto mb-2 mb-lg-0"},[t("div",{staticClass:"row"},[t("div",{staticClass:"col-lg-auto flex-grow-1",style:e.isMobileBreakpoint?"    max-width: 57%; margin-bottom:10px;":""},[t("form-switch",{staticStyle:{width:"fit-content !important"},attrs:{"auto-width":"",options:[{name:e.$t("auction"),key:1},{name:e.$t("sell"),key:0}]},on:{change:function(t){return e.removeError("end_date")}},model:{value:e.form.auction,callback:function(t){e.$set(e.form,"auction",t)},expression:"form.auction"}})],1),e._v(" "),1===e.form.auction?t("div",{staticClass:"col-auto"},[t("form-text-input",{attrs:{"date-type":"datetime","value-type":"datetime","date-format":"DD.MM.YYYY HH:00",placeholder:e.$t("announcement_end_date"),"input-date":""},on:{change:function(t){return e.removeError("end_date")}},model:{value:e.form.end_date,callback:function(t){e.$set(e.form,"end_date",t)},expression:"form.end_date"}})],1):e._e()])])])]:e._e(),e._v(" "),"cars"===e.type||"parts"!==e.type&&e.user.external_salon?t("h2",{staticClass:"title-with-line mt-2 mt-lg-3",attrs:{id:"anchor-car_or_vin"}},[t("span",{attrs:{id:"anchor-vin"}},[e._v(e._s(e.$t(e.form.customs_clearance||e.user.external_salon?"vin_carcase_number":"license_plate_number_vin_or_carcase_number"))+"\n            "),!e.loggedIn||e.loggedIn&&!e.user.autosalon||e.loggedIn&&e.user.autosalon&&e.user.autosalon.is_official||e.user.external_salon?["cars"===e.type||"parts"!==e.type&&e.user.external_salon?t("span",{staticClass:"star"},[e._v(" *")]):e._e()]:e._e()],2)]):e._e(),e._v(" "),"cars"===e.type&&!e.user.is_autosalon||"parts"!==e.type&&e.user.external_salon?t("div",{staticClass:"row",attrs:{id:"anchor-car_number"}},[e.form.customs_clearance||e.user.external_salon?e._e():t("div",{staticClass:"col-lg-4 mb-2 mb-lg-0"},[t("form-text-input",{attrs:{"input-class":"car-number-show-popover","img-src":"/img/flag.svg",mask:"cars"===e.type?"99 - AA - 999":"99 - A{1,2} - 999",placeholder:"cars"===e.type?"__ - __ - ___":"__ - _ - ___"},on:{focus:e.showCarNumberDisclaimer,change:function(t){return e.removeError("car_number")}},model:{value:e.form.car_number,callback:function(t){e.$set(e.form,"car_number",t)},expression:"form.car_number"}},[t("popover",{attrs:{message:e.$t("real-car-number-will-make-post-faster"),"text-class":"text-red",width:190,name:"car-number"},on:{click:function(t){e.readCarNumberDisclaimer=!0}}})],1),e._v(" "),t("form-checkbox",{staticClass:"mt-2 mt-lg-3",attrs:{label:e.$t("show_car_number_on_site"),"input-name":"show_car_number",transparent:""},model:{value:e.form.show_car_number,callback:function(t){e.$set(e.form,"show_car_number",t)},expression:"form.show_car_number"}})],1),e._v(" "),t("div",{staticClass:"col-lg-4 mb-2 mb-lg-0"},[t("form-text-input",{key:"vin",attrs:{mask:e.$maskAlphaNumeric("*****************"),placeholder:e.$t("vin_carcase_number")},on:{change:function(t){return e.removeError("vin")}},model:{value:e.form.vin,callback:function(t){e.$set(e.form,"vin",t)},expression:"form.vin"}},[t("popover",{attrs:{name:"vin",width:240}},[t("inline-svg",{attrs:{src:"/img/car-cert.svg"}})],1)],1),e._v(" "),t("form-checkbox",{staticClass:"mt-2 mt-lg-3",attrs:{label:e.$t("show_vin_on_site"),"input-name":"show_vin",transparent:""},model:{value:e.form.show_vin,callback:function(t){e.$set(e.form,"show_vin",t)},expression:"form.show_vin"}})],1)]):e._e(),e._v(" "),t("div",{staticClass:"mt-2 mt-lg-3"},["cars"===e.type?[t("car-filters",{attrs:{values:e.form.all_options,popular:"",collapsedByDefault:!0},on:{"change-filter":e.updateCarFilter}}),e._v(" "),t("div",{staticClass:"car-filters_row"})]:[t("sell-filters",{attrs:{type:e.type,selected:e.form.filters||e.form,errors:e.errors},on:{"remove-error":e.removeError,"add-form-keys":function(t){e.form=l(l({},t),e.form)},"update-sell-filter":e.updateSellFilter}})]],2),e._v(" "),t("h2",{staticClass:"title-with-line mt-2 mt-lg-3",attrs:{id:"anchor-comment"}},[t("span",[e._v(e._s(e.$t("description_placeholder")))])]),e._v(" "),t("form-textarea",{attrs:{placeholder:e.$t("description_placeholder_transport"),maxlength:3e3},model:{value:e.form.comment,callback:function(t){e.$set(e.form,"comment",t)},expression:"form.comment"}}),e._v(" "),t("p",{staticClass:"info-text full-width less-pd mt-2"},[e._v("\n          "+e._s(e.$t("it_is_forbidden_to_give_links_indicate_email_addresses_mail_address_of_the_place_of_inspection_telephones_price_offer_services"))+"\n        ")]),e._v(" "),t("hr"),e._v(" "),t("modal-popup",{attrs:{"modal-class":"wider",toggle:e.showRules,title:e.getRulesPage.title[e.locale]},on:{close:function(t){e.showRules=!1}}},[t("div",{domProps:{innerHTML:e._s(e.getRulesPage.text[e.locale])}})]),e._v(" "),e.showLoginPopup?t("backdrop",{on:{click:function(t){e.showLoginPopup=!1}},scopedSlots:e._u([{key:"default",fn:function(n){var r=n.show;return[t("transition",{attrs:{name:"translate-fade"}},[r?t("login-tabs",{attrs:{popup:!0,"skip-sign-in":!0,"action-text":{login:e.$t("login_and_publish"),register:e.$t("register_and_publish"),confirm:e.$t("confirm_and_publish")},"force-sell-phone":!0},on:{close:function(t){e.showLoginPopup=!1}}}):e._e()],1)]}}],null,!1,3343021840)}):e._e(),e._v(" "),t("div",{staticClass:"publish-post mb-4",attrs:{id:"anchor-finish"}},[e.showBanners&&!e.isAlreadySold?t("div",{staticClass:"row mt-4 mb-4"},e._l(["vip","premium"],(function(n){return t("div",{key:n,staticClass:"service-banner col-6 col-lg-4"},[t("img",{attrs:{src:"/img/card-".concat(n).concat(e.isMobileBreakpoint?"-mobile":"","-").concat(e.locale,".png"),alt:"banner"},on:{click:e.publishPost}})])})),0):e._e(),e._v(" "),t("p",{staticClass:"info-text full-width mt-2"},[t("icon",{attrs:{name:"alert-circle"}}),e._v(" "+e._s(e.$t("by_posting_an_ad_you_confirm_your_agreement_with_the_rules"))+":\n            "),t("nuxt-link",{attrs:{to:"/page/".concat(e.getRulesPage.slug[e.locale]),event:""},nativeOn:{click:function(t){t.preventDefault(),e.showRules=!0}}},[t("strong",[e._v(e._s(e.$t("general_rules")))])])],1),e._v(" "),t("p",{staticClass:"info-text full-width less-pd mt-2"},[t("span",{staticClass:"star"},[e._v("*")]),e._v(" — "+e._s(e.$t("starred_fields_are_required"))+"\n          ")]),e._v(" "),e.isAlreadySold?t("p",{staticClass:"info-text full-width less-pd text-red"},[e._v("\n            "+e._s(e.$t("this_car_already_added_last_90_days_for_new_added_need_payment"))+"\n          ")]):e.restore?t("p",{staticClass:"info-text full-width less-pd"},[e._v("\n            "+e._s(e.$t("edit_or_restore"))+"\n          ")]):e._e(),e._v(" "),t("div",{staticClass:"text-right"},[t("button",{class:["btn btn--green",{pending:e.pending}],attrs:{type:"button"},on:{click:e.publishPost}},[e._v("\n              "+e._s(e.isAlreadySold?"".concat(e.$t("place_and_pay")," 5 ₼"):e.edit?e.restore?e.$t("restore"):e.$t("edit_ad"):e.$t("place_an_ad"))+"\n            ")])])])],2):e._e()],1)])}),[],!1,null,null,null);t.a=component.exports},1128:function(e,t,n){var content=n(1181);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(39).default)("65040cb2",content,!0,{sourceMap:!1})},1150:function(e,t,n){"use strict";n(17),n(20),n(8),n(7),n(3),n(10),n(4),n(11);var r=n(25),o=n(1),l=n(0),c=(n(32),n(14),n(21),n(63),n(2),n(15),n(35),n(27),n(48),n(16));function d(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}function m(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?d(Object(source),!0).forEach((function(t){Object(l.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):d(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var f={props:{form:{},disableScroll:!1},data:function(){return{timeout:-1}},computed:m({},Object(c.c)(["sellBody","sellGenerations","sellEngines","sellGearing","sellTransmissions","sellModifications"])),methods:m(m({},Object(c.b)(["getSellBody","getSellGenerations","getSellEngines","getSellGearing","getSellTransmissions","getSellModifications"])),{},{getFormValues:function(e){var t=this,form={};return e.map((function(e){var n=e.replace("car_body_type","body").replace("generation_id","generation").replace("gearing","engine").replace("transmission","gearing").replace("modification","transmission");form[n]=t.form[e]})),form},getModificationName:function(e){var t=this,n=this.sellGenerations.find((function(e){return e.id===t.form.generation_id})),r="".concat(this.$t("box_mode_values")[e.box],"/").concat(n.start_year," - ").concat(n.end_year||this.currentYear);return e.capacity&&(r="".concat(e.capacity," ").concat(r)),e.power&&(r="".concat(e.power," ").concat(this.$t("char_h_power"),"/").concat(r)),e.complect_type&&(r+="/".concat(e.complect_type)),r},getGenerationStyle:function(e){var t,n=this,r=e.car_type_generation.find((function(t){return t.car_type_id===e.pivot.car_type_id})),o=!!((t=r&&r.transformed_media.thumb)&&t.length>0)&&n.$withBaseUrl(t[0]);return o?{backgroundImage:"url('".concat(o,"')")}:{noImg:!0}},getIcon:function(e,t){return{engine:{1:"fuel-station",2:"battery-charge",3:"diesel",4:"gas",5:"plug"},type_of_drive:{1:"drive",2:"drive",3:"drive"},box:{1:"mechanical",2:"automatic",3:"robot",4:"variator",5:"reductor"}}[e][t]},handleChange:function(e,t,n,l,c){var d=this;return Object(o.a)(regeneratorRuntime.mark((function o(){var m,f;return regeneratorRuntime.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:if(d.disableScroll||("car_catalog_id"!==n[0]||d.isMobileBreakpoint?"car_catalog_id"===n[0]&&d.isMobileBreakpoint&&(window.scrollTo({top:1200,behavior:"smooth"}),setTimeout((function(){document.querySelector("#anchor-saved_images").scrollIntoView({block:"start",behavior:"smooth"})}),500)):setTimeout((function(){window.scrollTo({top:1e3,behavior:"smooth"})}),500)),clearTimeout(d.timeout),d.isMobileBreakpoint&&(m=document.querySelector(".mobile-screen .container"),t&&(m.style.minHeight="".concat(m.scrollHeight,"px"))),l.map((function(e){d.mutate({property:e,value:[]})})),d.$emit("update-form",{key:n[n.length-1],value:e}),t){o.next=7;break}return o.abrupt("return");case 7:return["car_body_type","generation_id","gearing","transmission","modification","car_catalog_id"].map((function(e){n.includes(e)||d.$emit("update-form",{key:e,value:""})})),f=d.getFormValues([].concat(Object(r.a)(n),["brand","model","year"])),o.next=11,d[t](f);case 11:d.$nextTick((function(){var e=d[t.replace("getSell","sell")];if(1===e.length&&"car_catalog_id"!==c){var n=e[0].engine||e[0].type_of_drive||e[0].box||e[0].id;d.$emit("update-form",{key:c,value:n})}else d.isMobileBreakpoint&&(d.timeout=setTimeout((function(){d.scrollTo(d.$refs["sell-".concat(c)],-34,500),m.style.minHeight=""}),100));d.isMobileBreakpoint||(d.timeout=setTimeout((function(){d.scrollTo(d.$refs["sell-".concat(c)],-20,500)}),100))}));case 12:case"end":return o.stop()}}),o)})))()}}),fetch:function(){var e=this;return Object(o.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.sellBody.length){t.next=3;break}return t.next=3,e.getSellBody(e.getFormValues(["brand","model","year"]));case 3:case"end":return t.stop()}}),t)})))()},created:function(){this.getSellBody(this.getFormValues(["brand","model","year"]))}},_=n(12),component=Object(_.a)(f,(function(){var e=this,t=e._self._c;return t("div",{ref:"sellSelectModification",staticClass:"sell_select-modification"},[t("transition-group",{attrs:{name:"fade2"}},[e.form.year&&e.sellBody.length?t("div",{key:1,ref:"sell-car_body_type",staticClass:"mt-3 mt-lg-0 mb-3"},[t("h2",{staticClass:"title-with-line full-width"},[t("span",[e._v("\n          "+e._s(e.$t("carcase"))+"\n          "),t("span",{staticClass:"star"},[e._v("*")])])]),e._v(" "),t("form-buttons",{attrs:{"btn-class":"primary-outline select-body","group-by":e.isMobileBreakpoint?2:5,options:e.sellBody},on:{change:function(t){return e.handleChange(t,"getSellGenerations",["car_body_type"],["sellGenerations","sellEngines","sellGearing","sellTransmissions","sellModifications"],"generation_id")}},scopedSlots:e._u([{key:"custom",fn:function(n){var button=n.button;return[t("div",{staticClass:"body-img"},[t("img",{attrs:{alt:button.name[e.locale],src:e.$withBaseUrl(button.transformed_media)}})])]}}],null,!1,2479099031),model:{value:e.form.car_body_type,callback:function(t){e.$set(e.form,"car_body_type",t)},expression:"form.car_body_type"}})],1):e._e(),e._v(" "),e.form.car_body_type&&e.sellGenerations.length?t("div",{key:2,ref:"sell-generation_id",staticClass:"mb-3"},[t("h2",{staticClass:"title-with-line full-width"},[t("span",[e._v("\n          "+e._s(e.$t("generation"))+"\n          "),t("span",{staticClass:"star"},[e._v("*")])])]),e._v(" "),t("form-buttons",{attrs:{"btn-class":"primary-outline select-generation","group-by":e.isMobileBreakpoint?2:5,options:e.sellGenerations},on:{change:function(t){return e.handleChange(t,"getSellEngines",["car_body_type","generation_id"],["sellEngines","sellGearing","sellTransmissions","sellModifications"],"gearing")}},scopedSlots:e._u([{key:"custom",fn:function(n){var button=n.button;return[t("div",{class:["generation-bg",{"no-img":!!e.getGenerationStyle(button).noImg}],style:e.getGenerationStyle(button)}),e._v(" "),t("div",{staticClass:"generation-info"},[t("span",[e._v("\n              "+e._s(button.start_year)+" — "+e._s(button.end_year||e.currentYear)+"\n            ")]),e._v(" "),t("span",[e._v(e._s(button.short_name[e.locale]))])])]}}],null,!1,1522413596),model:{value:e.form.generation_id,callback:function(t){e.$set(e.form,"generation_id",t)},expression:"form.generation_id"}})],1):e._e(),e._v(" "),e.form.generation_id&&e.sellEngines.length?t("div",{key:3,ref:"sell-gearing",staticClass:"mb-3"},[t("h2",{staticClass:"title-with-line full-width"},[t("span",[e._v("\n          "+e._s(e.$t("fuel"))+"\n          "),t("span",{staticClass:"star"},[e._v("*")])])]),e._v(" "),t("form-buttons",{attrs:{"btn-class":"primary-outline","group-by":e.isMobileBreakpoint?1:5,options:e.sellEngines.map((function(t){return{name:e.$t("engine_values")[t.engine],key:t.engine}}))},on:{change:function(t){return e.handleChange(t,"getSellGearing",["car_body_type","generation_id","gearing"],["sellGearing","sellTransmissions","sellModifications"],"transmission")}},scopedSlots:e._u([{key:"icon",fn:function(n){var button=n.button;return[t("icon",{class:"engine-".concat(button.key),attrs:{name:e.getIcon("engine",button.key)}})]}}],null,!1,1529389176),model:{value:e.form.gearing,callback:function(t){e.$set(e.form,"gearing",t)},expression:"form.gearing"}}),e._v(" "),t("div",{staticClass:"mt-2 mt-lg-3"},[t("form-checkbox",{attrs:{label:e.$t("gas_equipment"),"input-name":"autogas",transparent:""},on:{change:function(t){return e.$emit("update-form",{key:"autogas",value:t})}},model:{value:e.form.autogas,callback:function(t){e.$set(e.form,"autogas",t)},expression:"form.autogas"}})],1)],1):e._e(),e._v(" "),e.form.gearing&&e.sellGearing.length?t("div",{key:4,ref:"sell-transmission",staticClass:"mb-3"},[t("h2",{staticClass:"title-with-line full-width"},[t("span",[e._v("\n          "+e._s(e.$t("type_of_drive"))+"\n          "),t("span",{staticClass:"star"},[e._v("*")])])]),e._v(" "),t("form-buttons",{attrs:{"btn-class":"primary-outline","group-by":e.isMobileBreakpoint?1:5,options:e.sellGearing.map((function(t){return{name:e.$t("type_of_drive_values")[t.type_of_drive],key:t.type_of_drive}}))},on:{change:function(t){return e.handleChange(t,"getSellTransmissions",["car_body_type","generation_id","gearing","transmission"],["sellTransmissions","sellModifications"],"modification")}},scopedSlots:e._u([{key:"icon",fn:function(n){var button=n.button;return[t("icon",{class:"type-of-drive-".concat(button.key),attrs:{name:e.getIcon("type_of_drive",button.key)}})]}}],null,!1,1982599224),model:{value:e.form.transmission,callback:function(t){e.$set(e.form,"transmission",t)},expression:"form.transmission"}})],1):e._e(),e._v(" "),e.form.transmission&&e.sellTransmissions.length?t("div",{key:5,ref:"sell-modification",staticClass:"mb-3"},[t("h2",{staticClass:"title-with-line full-width"},[t("span",[e._v("\n          "+e._s(e.$t("box"))+"\n          "),t("span",{staticClass:"star"},[e._v("*")])])]),e._v(" "),t("form-buttons",{attrs:{"btn-class":"primary-outline","group-by":e.isMobileBreakpoint?1:5,options:e.sellTransmissions.map((function(t){return{name:e.$t("box_values")[t.box],key:t.box}}))},on:{change:function(t){return e.handleChange(t,"getSellModifications",["car_body_type","generation_id","gearing","transmission","modification"],["sellModifications"],"car_catalog_id")}},scopedSlots:e._u([{key:"icon",fn:function(n){var button=n.button;return[t("icon",{class:"box-".concat(button.key),attrs:{name:e.getIcon("box",button.key)}})]}}],null,!1,2713709368),model:{value:e.form.modification,callback:function(t){e.$set(e.form,"modification",t)},expression:"form.modification"}})],1):e._e(),e._v(" "),e.form.modification&&e.sellModifications.length?t("div",{key:6,ref:"sell-car_catalog_id",staticClass:"mb-3"},[t("h2",{staticClass:"title-with-line full-width"},[t("span",[e._v("\n          "+e._s(e.$t("modification"))+"\n          "),t("span",{staticClass:"star"},[e._v("*")])])]),e._v(" "),t("form-buttons",{attrs:{"btn-class":"primary-outline","group-by":e.isMobileBreakpoint?1:3,options:e.sellModifications.map((function(t){return{name:e.getModificationName(t),key:t.id}}))},on:{change:function(t){return e.handleChange(t,!1,["car_catalog_id"],[])}},model:{value:e.form.car_catalog_id,callback:function(t){e.$set(e.form,"car_catalog_id",t)},expression:"form.car_catalog_id"}})],1):e._e()])],1)}),[],!1,null,null,null);t.a=component.exports},1180:function(e,t,n){"use strict";n(1128)},1181:function(e,t,n){var r=n(38)((function(i){return i[1]}));r.push([e.i,".white-space-pre-wrap-span span{white-space:pre-wrap!important}.inputfile{height:.1px;opacity:0;overflow:hidden;position:absolute;width:.1px;z-index:-1}.inputfile:focus+label{outline:1px dotted #000;outline:5px auto -webkit-focus-ring-color}.inputfile+label *{pointer-events:none}",""]),r.locals={},e.exports=r}}]);