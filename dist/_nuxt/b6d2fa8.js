(window.webpackJsonp=window.webpackJsonp||[]).push([[79],{1531:function(t,e,n){"use strict";n.r(e);n(7),n(10),n(4),n(11);var r=n(25),o=n(0),c=n(1),d=(n(32),n(3),n(2),n(42),n(41),n(15),n(20),n(8),n(16)),m=n(1290),l=n(994),h=n(995),f=n(1013);function y(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function O(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?y(Object(source),!0).forEach((function(e){Object(o.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):y(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var v={name:"pages-moto-index",layout:"search",components:{MotoSearchForm:m.a,Grid:l.a,NoResults:h.a,HandleIds:f.a},nuxtI18n:{paths:{az:"/moto"}},head:function(){return this.$headMeta({title:this.$t("meta-title_moto",{type:this.$t("meta-words_moto-types")[0]}),description:this.$t("meta-descr_moto",{type:this.$t("meta-words_moto-types")[0]})})},asyncData:function(t){return Object(c.a)(regeneratorRuntime.mark((function e(){var n,o,c,d,m;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.store,o=t.route,c=O({},JSON.parse(o.query.filter||"{}")),d=o.query.page||1,m={url:"/moto_home_page",prefix:"moto"},e.next=6,Promise.all([n.dispatch("getOptions"),n.dispatch("getMotoOptions"),n.dispatch("getColors"),n.dispatch("getGridSearch",O(O({},m),{},{post:c,page:d}))].concat(Object(r.a)(Object.keys((null==c?void 0:c.additional_brands)||{}).filter((function(t){var e,n;return null==c||null===(e=c.additional_brands)||void 0===e||null===(n=e[t])||void 0===n?void 0:n.brand})).map((function(t){var e=c.additional_brands[t];return n.dispatch("getMotoModels",{category:e.category,id:e.brand,index:t})})))));case 6:return e.abrupt("return",{searchParams:m,pending:!1});case 7:case"end":return e.stop()}}),e)})))()},methods:O(O({},Object(d.b)(["getGridSearch"])),{},{searchMoto:function(){var t=arguments,e=this;return Object(c.a)(regeneratorRuntime.mark((function n(){var r,o;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t.length>0&&void 0!==t[0]?t[0]:1,r=e.$route.query.page||1,o=JSON.parse(e.$route.query.filter||"{}"),e.pending=!0,n.next=6,e.getGridSearch(O(O({},e.searchParams),{},{post:o,page:r}));case 6:return n.next=8,e.$store.dispatch("fetchInfiniteMainMonetized",{type:"moto",data:o});case 8:e.pending=!1,e.scrollTo(".announcements-grid.paginated",[-15,-20]);case 10:case"end":return n.stop()}}),n)})))()}}),computed:O(O({},Object(d.c)(["motoAnnouncements","getMainMonetized"])),{},{crumbs:function(){return[{name:this.$t("moto")}]}}),mounted:function(){Object.keys(this.$route.query).length||this.$store.dispatch("fetchInfiniteMainMonetized",{type:"moto"})},beforeRouteLeave:function(t,e,n){this.$nuxt.$emit("prevent-popstate"),n()}},j=v,w=n(12),component=Object(w.a)(j,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"pages-moto-index"},[e("div",{staticClass:"container"},[e("breadcrumbs",{attrs:{crumbs:t.crumbs}}),t._v(" "),e("moto-search-form",{attrs:{"total-count":t.$paginate(t.motoAnnouncements).total,pending:t.pending,category:{}},on:{pending:function(e){t.pending=!0},submit:t.searchMoto}}),t._v(" "),t.getMainMonetized.length?e("grid",{attrs:{announcements:t.getMainMonetized,"show-title":!0,"escape-duplicates":""}}):t._e(),t._v(" "),t.motoAnnouncements.data.length?e("grid",{attrs:{announcements:t.motoAnnouncements.data,paginate:t.$paginate(t.motoAnnouncements),pending:t.pending,"escape-duplicates":""},on:{"change-page":t.searchMoto}}):e("no-results"),t._v(" "),e("HandleIds",{attrs:{type:"motorcycles",items:t.motoAnnouncements.data}})],1)])}),[],!1,null,null,null);e.default=component.exports}}]);