(window.webpackJsonp=window.webpackJsonp||[]).push([[112],{1193:function(t,e,n){"use strict";var r={computed:{videoSource:function(){return"/images/360_".concat(this.$t("language_prefix"),".mp4")}}},o=n(12),c=Object(o.a)(r,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"content__video"},[e("div",{staticClass:"panorama"},[t._m(0),t._v(" "),t._m(1),t._v(" "),t._m(2),t._v(" "),e("div",{staticClass:"panorama__video"},[e("video",{attrs:{poster:"/promotions/panorama-cover.png",controls:"",src:t.videoSource}})])])])}),[function(){var t=this._self._c;return t("div",{staticClass:"panorama__phone-outline"},[t("img",{attrs:{src:"/promotions/phone-outline-panorama.svg",alt:""}})])},function(){var t=this._self._c;return t("div",{staticClass:"panorama__phone-buttons"},[t("img",{attrs:{src:"/promotions/phone-outline-buttons.png",alt:""}})])},function(){var t=this._self._c;return t("div",{staticClass:"panorama__phone-background"},[t("img",{attrs:{src:"/promotions/dark-gray.png",alt:""}})])}],!1,null,null,null).exports,l={props:{title:String,subTitle:String,subtitle:String,isPenaltiesPage:Boolean,isPanoramaPage:Boolean,footerImage:String},components:{PanoramaVideo:c},methods:{gotoRoute:function(t){window.open(t,"_blank")}}},m=Object(o.a)(l,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"ma-promotions"},[e("div",{staticClass:"ma-promotions__body"},[e("div",{staticClass:"ma-promotions__body--left"}),t._v(" "),e("div",{staticClass:"ma-promotions__body--center"},[e("div",{staticClass:"content"},[t.isPenaltiesPage?e("div",{staticClass:"content__image"},[e("img",{attrs:{src:"/promotions/laptop.png",alt:""}})]):t._e(),t._v(" "),t.isPanoramaPage?e("panorama-video"):t._e(),t._v(" "),t.isPenaltiesPage?e("div",{staticClass:"content__bilboard"},[e("img",{attrs:{src:"/promotions/penalty-bilboard.png",alt:""}})]):t._e(),t._v(" "),e("div",{staticClass:"content__form",class:{"content__form--panorama-mobile":t.isPanoramaPage&&t.isMobileBreakpoint}},[t.title?e("h4",{staticClass:"content__form--title"},[t._v("\n            "+t._s(t.title)+"\n          ")]):t._e(),t._v(" "),t.subTitle?e("h6",{staticClass:"content__form--subtitle"},[t._v("\n            "+t._s(t.subTitle)+"\n          ")]):t._e(),t._v(" "),t._t("mainForm")],2)],1)]),t._v(" "),e("div",{staticClass:"ma-promotions__body--right"})]),t._v(" "),e("div",{staticClass:"ma-promotions__phone"},[t._m(0),t._v(" "),e("div",{staticClass:"phone-content"},[e("img",{attrs:{src:t.footerImage,alt:"image"}})])]),t._v(" "),e("div",{staticClass:"ma-promotions__footer"},[e("div",{staticClass:"container"},[e("div",{staticClass:"ma-promotions__footer--content"},[e("div",{staticClass:"info"},[e("h3",{staticClass:"info--title"},[t._v(t._s(t.$t("download_mobile_app")))]),t._v(" "),e("h6",{staticClass:"info--subtitle"},[t._v("\n            "+t._s(t.$t("we_created_a_system_that_you_can_buy_a_car_only_in_one_hour"))+"\n          ")])]),t._v(" "),e("div",{staticClass:"app-scaner"},[t._m(1),t._v(" "),e("div",{staticClass:"app-scaner__buttons"},[e("button",{staticClass:"button--scaner",on:{click:function(e){return t.gotoRoute("https://apps.apple.com/az/app/mashin-al/id1588371190")}}},[t._m(2),t._v(" "),t._m(3)]),t._v(" "),e("button",{staticClass:"button--scaner",on:{click:function(e){return t.gotoRoute("https://play.google.com/store/apps/details?id=ventures.al.mashinal")}}},[t._m(4),t._v(" "),t._m(5)])])])])])])])}),[function(){var t=this._self._c;return t("div",{staticClass:"phone-outline"},[t("img",{attrs:{src:"/promotions/phone-outline.svg",alt:"image"}})])},function(){var t=this._self._c;return t("div",{staticClass:"app-scaner__qr-image"},[t("img",{attrs:{src:"/promotions/qr.png",alt:""}})])},function(){var t=this._self._c;return t("div",{staticClass:"icon"},[t("img",{attrs:{src:"/promotions/apple.svg",alt:""}})])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"text"},[e("p",{staticClass:"text__action"},[t._v("Download on the")]),t._v(" "),e("p",{staticClass:"text__brand"},[t._v("App Store")])])},function(){var t=this._self._c;return t("div",{staticClass:"icon"},[t("img",{attrs:{src:"/promotions/google-play.svg",alt:""}})])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"text"},[e("p",{staticClass:"text__action"},[t._v("Get it on")]),t._v(" "),e("p",{staticClass:"text__brand"},[t._v("Google Play")])])}],!1,null,null,null);e.a=m.exports},1534:function(t,e,n){"use strict";n.r(e);var r=n(1),o=(n(32),n(14),n(21),n(17),n(1193)),c=(n(277),n(990)),l={components:{promotion:o.a},data:function(){return{pending:!1,form:{carNumber:"",passport:"",phone:"",otp:""},otpSent:!1,hasError:!1,title:this.$t("watch_your_penalties_on_mashinal")}},head:function(){return{title:this.$t("promotions"),meta:[{name:"viewport",content:"width=device-width, initial-scale=1"}]}},mixins:[c.a],methods:{payOnline:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.pending=!0,e.prev=1,e.next=4,t.$axios.$post("/login_and_add_car",{phone:t.form.phone.replace(/[^0-9]+/g,""),tech_id:t.form.passport.replace(/[^0-9A-Za-z]+/g,""),car_number:t.form.carNumber.replace(/[^0-9A-Za-z]+/g,"")});case 4:t.otpSent=!0,t.hasError=!1,e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),t.hasError=!0;case 11:t.pending=!1;case 12:case"end":return e.stop()}}),e,null,[[1,8]])})))()},approveOtp:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){var form;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:form={name:t.form.name,phone:t.form.phone.replace(/[^0-9]+/g,""),code:t.form.otp},t.$axios.$post("/confirm/phone",form).then(function(){var e=Object(r.a)(regeneratorRuntime.mark((function e(data){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.fbTrack("Complete Registration Api"),t.gtagTrack("AW-600951956/-O6CCJGB2fIBEJSZx54C"),t.$auth.setUser(data.user.original),t.$emit("setFinished",!0),e.next=6,t.$auth.setUserToken(data.meta.token);case 6:return t.pending=!1,t.$nuxt.$emit("login",!0),e.next=10,t.$axios.$post("/garage/register_pay",{card_id:"",is_mobile:t.isMobileBreakpoint,pay_type:"card",vehicles:[{car_number:t.form.carNumber.replace(/[^0-9A-Za-z]+/g,""),tech_id:t.form.passport.replace(/[^0-9A-Za-z]+/g,"")}]});case 10:n=e.sent,t.handlePayment(n,!1,t.$t("car_added"),"v2"),t.$router.push(t.$localePath("/garage"));case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 2:case"end":return e.stop()}}),e)})))()}},created:function(){this.$route.meta.name="promotions-page"}},m=l,d=n(12),component=Object(d.a)(m,(function(){var t=this,e=t._self._c;return e("div",[e("promotion",{attrs:{title:t.title,isPenaltiesPage:"",footerImage:"/promotions/phone-content-1.png"},scopedSlots:t._u([{key:"mainForm",fn:function(){return[t.otpSent?t._e():e("form-text-input",{staticClass:"mb-2 mb-lg-3",class:{"ma-input-error":t.hasError},attrs:{autocomplete:"tel",placeholder:t.$t("plate_number_of_vehicle"),mask:"99-AA-999",isPromotionsPage:""},model:{value:t.form.carNumber,callback:function(e){t.$set(t.form,"carNumber",e)},expression:"form.carNumber"}}),t._v(" "),t.otpSent?t._e():e("form-text-input",{staticClass:"mb-2 mb-lg-3",class:{"ma-input-error":t.hasError},attrs:{autocomplete:"tel",placeholder:t.$t("number_of_tech_id"),mask:"AA â„– 999999",masl:t.$maskTechIdNumber(),isPromotionsPage:""},model:{value:t.form.passport,callback:function(e){t.$set(t.form,"passport",e)},expression:"form.passport"}}),t._v(" "),t.otpSent?t._e():e("form-text-input",{staticClass:"mb-2 mb-lg-3",class:{"ma-input-error":t.hasError},attrs:{autocomplete:"tel",placeholder:t.$t("mobile_number"),mask:t.$maskPhone(),isPromotionsPage:""},model:{value:t.form.phone,callback:function(e){t.$set(t.form,"phone",e)},expression:"form.phone"}}),t._v(" "),t.otpSent?e("form-text-input",{key:123,staticClass:"mb-2 mb-lg-3",attrs:{placeholder:t.$t("otp_number"),maxlength:5,mask:"99999",isPromotionsPage:""},model:{value:t.form.otp,callback:function(e){t.$set(t.form,"otp",e)},expression:"form.otp"}}):t._e(),t._v(" "),t.hasError?e("h6",{staticClass:"ma-error-message"},[t._v("\n        "+t._s(t.$t("info_is_not_correct"))+"\n      ")]):t._e(),t._v(" "),t.otpSent?t._e():e("button",{staticClass:"btn btn--green w-100",class:{pending:t.pending},on:{click:t.payOnline}},[t._v("\n        "+t._s(t.$t("pay_one_azn"))+"\n      ")]),t._v(" "),t.otpSent?e("button",{staticClass:"btn btn--green w-100",class:{pending:t.pending},on:{click:t.approveOtp}},[t._v("\n        "+t._s(t.$t("confirm"))+"\n      ")]):t._e()]},proxy:!0}])})],1)}),[],!1,null,null,null);e.default=component.exports},990:function(t,e,n){"use strict";n.d(e,"a",(function(){return w}));n(8),n(7),n(3),n(10),n(4),n(11);var r=n(1),o=n(0),c=(n(32),n(63),n(2),n(35),n(16)),l=n(274),m=n(996),d={props:{popupName:{type:String,default:"payment-popup"}},methods:{show:function(){this.$nuxt.$emit("show-terminal-info",this.popupName)}}},_=n(12),f=Object(_.a)(d,(function(){var t=this,e=t._self._c;return e("p",{staticClass:"info-text text-left"},[e("inline-svg",{attrs:{src:"/icons/alert-circle.svg"}}),t._v(" "),e("span",{staticClass:"text-medium cursor-pointer text-red",on:{click:t.show}},[t._v(t._s(t.$t("pay_with_terminal")))])],1)}),[],!1,null,null,null).exports;n(17);function v(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}var h={props:{name:{type:String,default:"payment-popup"}},data:function(){return{showTerminalInfo:!1}},computed:function(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?v(Object(source),!0).forEach((function(e){Object(o.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):v(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}({},Object(c.c)(["announcement"])),methods:{open:function(t){t===this.name&&(this.showTerminalInfo=!0,this.$emit("open"))},close:function(){this.showTerminalInfo=!1,this.$emit("close")}},mounted:function(){this.$nuxt.$on("show-terminal-info",this.open)},beforeDestroy:function(){this.$nuxt.$off("show-terminal-info",this.open)}},y=h,C=Object(_.a)(y,(function(){var t=this,e=t._self._c;return e("modal-popup",{attrs:{toggle:t.showTerminalInfo,title:t.$t("pay_with_terminal"),"modal-class":"terminal-info-popup"},on:{close:t.close}},[e("div",{staticClass:"phone-section"},[t.announcement.user?e("div",{staticClass:"phone"},[t._v("\n      "+t._s(t.$parsePhone(t.announcement.user.phone))+"\n    ")]):t._e(),t._v(" "),e("span",[t._v("\n      "+t._s(t.$t("mobile_number"))+"\n    ")])]),t._v(" "),e("hr"),t._v(" "),e("div",{staticClass:"description"},[e("img",{attrs:{src:"/images/milli-on.svg",alt:""}}),t._v(" "),e("span",[t._v(t._s(t.$t("terminal_popup_title")))])]),t._v(" "),e("div",{staticClass:"steps"},t._l(t.$t("terminal_pay_steps"),(function(n,i){return e("div",{key:i,staticClass:"step-item"},[e("div",{staticClass:"step-number"},[e("span",[t._v(t._s(i))])]),t._v(" "),e("div",{staticClass:"step-text"},[t._v(t._s(n))])])})),0),t._v(" "),e("hr"),t._v(" "),e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-7"},[e("p",[t._v("\n       "+t._s(t.$t("terminal_help_description"))+"\n      ")])]),t._v(" "),e("div",{staticClass:"col-md-5"},[e("button",{staticClass:"btn btn--primary-outline full-width",attrs:{type:"button"},on:{click:t.close}},[t._v("\n        "+t._s(t.$t("go_back"))+"\n      ")])])])])}),[],!1,null,null,null).exports;function O(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function k(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?O(Object(source),!0).forEach((function(e){Object(o.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):O(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var w={mixins:[l.a],components:{SelectBankingCard:m.a,TerminalInfoButton:f,TerminalInfoPopup:C},data:function(){return{showPaymentModal:!1,paymentMethod:"card",bankingCard:""}},mounted:function(){this.selectDefaultCard()},computed:k(k(k({},Object(c.c)({bankingCards:"bankingCards/bankingCards"})),Object(c.c)(["paidStatusData"])),{},{paymentMethodOptions:function(){return[{key:"card",name:this.$t("pay_with_card")},{key:"balance",name:this.$t("pay_with_balance"),disabled:!this.haveBalanceToPay}]}}),methods:k(k({},Object(c.b)(["updatePaidStatus"])),{},{selectDefaultCard:function(){var t=this.bankingCards.find((function(t){return t.default}));t&&(this.bankingCard=t.id)},callUpdatePaidStatus:function(t,text){var e=t?"success":"error";t||(text=this.$t("try_again")),this.updatePaidStatus({type:e,text:text,title:this.$t("".concat(e,"_payment"))})},handlePayment:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],text=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"v1";if(this.isMobileBreakpoint){var c;this.$nuxt.$loading.start(),setTimeout((function(){return e.$nuxt.$loading.finish()}),500),window.location=(null==t||null===(c=t.data)||void 0===c?void 0:c.redirect_url)||t}else{var l,m,d={v1:"width=494,height=718",v2:"width=1042,height=725"}[o];window.open((null==t||null===(l=t.data)||void 0===l?void 0:l.redirect_url)||t,"purchaseservice","toolbar=yes,scrollbars=yes,resizable=yes,top=50,left=100,"+d);var _=null==t||null===(m=t.data)||void 0===m?void 0:m.payment_id;_&&this.connectEcho("purchase.".concat(_),!1).listen("PurchaseInitiated",function(){var t=Object(r.a)(regeneratorRuntime.mark((function t(data){var r,o,c,l,m;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.showPaymentModal=!1,r=data.payment,o=r.is_paid,c=r.status,l=o||1===c,n=n instanceof Array?n[l?0:1]:n,!l){t.next=17;break}if("attorney_pay"!==data.payment.operation_key){t.next=7;break}return t.abrupt("return",e.$router.push({path:e.$localePath("/garage"),query:{tab:"attorney-list"}}));case 7:if(!e.loggedIn){t.next=10;break}return t.next=10,e.$auth.fetchUser();case 10:if(n){t.next=14;break}return t.next=13,e.$nuxt.refresh();case 13:e.callUpdatePaidStatus(l,text);case 14:localStorage.removeItem("selectedPackage"),t.next=18;break;case 17:e.callUpdatePaidStatus(l);case 18:m=function(){e.connectEcho("purchase.".concat(_),!1).stopListening("PurchaseInitiated")},n?l?e.$router.push(n,(function(){e.callUpdatePaidStatus(l,text),m()})):(e.$store.dispatch("fetchResetForm",!1),e.callUpdatePaidStatus(l,text),m()):m(),"offer_payment_key"==data.payment.operation_key&&l&&setTimeout((function(){e.$router.push("/offer")}),2e3);case 21:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}}}),watch:{bankingCards:function(t){this.selectDefaultCard()},haveBalanceToPay:function(t){t||(this.paymentMethod="card")}}}},996:function(t,e,n){"use strict";n(15),n(8),n(7),n(3),n(10),n(4),n(11);var r=n(1),o=n(0),c=(n(32),n(20),n(24),n(63),n(2),n(16));function l(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function m(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?l(Object(source),!0).forEach((function(e){Object(o.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):l(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var d={props:{value:{},showCardImage:{type:Boolean,default:!0}},computed:m(m({},Object(c.c)({bankingCards:"bankingCards/bankingCards"})),{},{activeCardId:{get:function(){return this.value},set:function(t){this.$emit("input",t)}},cardOptions:function(){var t=this;return this.bankingCards.map((function(e){return{key:e.id,name:t.$parseCardNum(e.masked_pan).join(" "),icon:"/img/cards/".concat(e.brand.toLowerCase()).concat(t.isDarkMode?"-white":"",".svg"),brand:e.brand}}))},activeCard:function(){var t=this;return this.bankingCards.find((function(e){return e.id===t.activeCardId}))}}),methods:m(m({},Object(c.b)({getBankingCards:"bankingCards/getBankingCards"})),{},{cardNumber:function(t){return this.$parseCardNum(t).map((function(t){return"<span>".concat(t,"</span>")})).join("")}}),fetch:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getBankingCards();case 2:case"end":return e.stop()}}),e)})))()}},_=n(12),component=Object(_.a)(d,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"select-banking-card"},[e("form-select",{attrs:{label:t.$t("pay_with_card"),options:t.cardOptions,"clear-option-text":t.$t("other_card"),"clear-option-pull-down":!0,"has-cards":!0,"skip-select":!0,"img-key":"icon"},model:{value:t.activeCardId,callback:function(e){t.activeCardId=e},expression:"activeCardId"}}),t._v(" "),t.activeCard&&t.showCardImage?e("div",{staticClass:"banking-cards_item mt-3"},[e("div",{staticClass:"card-img"},[e("img",{attrs:{src:"/img/cards/card-".concat(t.activeCard.brand.toLowerCase(),"-").concat(t.activeCard.img,".png"),alt:t.activeCard.brand}})]),t._v(" "),e("div",{staticClass:"card-details d-flex flex-column justify-content-between"},[e("div",{staticClass:"card-top d-flex"}),t._v(" "),e("div",{staticClass:"card-number d-flex justify-content-between",domProps:{innerHTML:t._s(t.cardNumber(t.activeCard.masked_pan))}}),t._v(" "),t._m(0)])]):t._e()],1)}),[function(){var t=this._self._c;return t("div",{staticClass:"card-bottom d-flex"},[t("span",[this._v("**/**")])])}],!1,null,null,null);e.a=component.exports}}]);