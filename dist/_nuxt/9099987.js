(window.webpackJsonp=window.webpackJsonp||[]).push([[100],{1e3:function(e,t,n){"use strict";n(27),n(15),n(7),n(53),n(143),n(17);var r=n(1015),o=n(1016),c=n(1009),l=n(1012),d={props:{announcement:{},showStatus:Boolean,showMonetizationActions:{type:Boolean,default:!0},showCheckbox:Boolean,showPhoneCount:Boolean,showGallery:Boolean,showOverlay:Boolean,clickable:Boolean,trackViews:Boolean,colClass:String,isProfilePage:{type:Boolean,default:!1}},components:{MonetizationStatsButton:l.a,MonetizationButton:c.a,AddFavorite:r.a,AddComparison:o.a},data:function(){return{selected:!1}},computed:{getType:function(){var e=this.announcement;return e.moto_brand?"Motorcycle":e.scooter_brand?"Scooter":e.moto_atv_brand?"Atv":e.commercial_brand?"Commercial":e.car_catalog?"Car":e.title?"Part":""},getLink:function(){var e="cars";["Motorcycle","Scooter","Atv"].includes(this.getType)?e="moto":["Commercial"].includes(this.getType)?e="commercial":["Part"].includes(this.getType)&&(e="parts");var path="/".concat(e,"/announcement/").concat(this.announcement.id);return this.$localePath(path)},getTextLine:function(){if(["Part"].includes(this.getType))return this.announcement.description;var text="".concat(this.announcement.year," ").concat(this.$t("plural_forms_year")[0]);return this.showOverlay&&this.getCapacity&&(text+=", ".concat(this.getCapacity)),text},getImage:function(){var e=this.announcement;return this.$withBaseUrl(e.image)},getCapacity:function(){var e,t=this.announcement,n=this.getType,r=(null===(e=t.car_catalog)||void 0===e?void 0:e.capacity)||t.capacity,o=["Car","Commercial"].includes(n);return r&&"0"!=r?(o&&r>50&&(r=(r/1e3).toFixed(1)),"".concat(r," ").concat(this.$t(o?"char_litre":"char_sm_cube"))):""},getOdometer:function(){if(this.showOverlay)return"".concat(this.announcement.humanize_mileage," ").concat(this.$t("char_kilometre"))}},methods:{getShineSize:function(e){return e.shine_width.name+"/"+e.height.name+"R"+e.diameter.name},goToAnnouncement:function(){this.clickable&&(this.trackViews&&this.fbTrack("ViewContent",{content_type:"product",content_category:this.getType,content_ids:[this.announcement.id],content_name:this.getAnnouncementTitle(this.announcement)+", "+this.announcement.year}),(this.isMobileBreakpoint||this.$env.DEV)&&this.$router.push(this.getLink))},handleChange:function(e){this.selected=e,this.$nuxt.$emit("select-announcement",this.announcement.id,e,!0)},selectAnnouncement:function(e,t){arguments.length>2&&void 0!==arguments[2]&&arguments[2]||e!=this.announcement.id||this.handleChange(t)},checkPendingBadge:function(e){return!(2!=e.status&&5!=e.status&&3!=e.status||1!=e.is_autosalon&&1!=e.is_part_salon)}},mounted:function(){this.$nuxt.$on("select-announcement",this.selectAnnouncement)},beforeDestroy:function(){this.$nuxt.$off("select-announcement",this.selectAnnouncement)}},m=d,h=(n(1001),n(12)),component=Object(h.a)(m,(function(){var e,t,n=this,r=n._self._c;return r("div",{class:n.colClass||"stratch-child-block"},[n.showGallery?r("div",{staticClass:"announcements-grid_gallery",on:{click:n.goToAnnouncement}},[!n.clickable||n.isMobileBreakpoint||n.$env.DEV?n._e():r("a",{staticClass:"abs-link",attrs:{target:"_blank",href:n.getLink},on:{click:function(e){e.stopPropagation()}}},[r("span",{staticClass:"sr-only"},[n._v(n._s(n.getAnnouncementTitle(n.announcement)))])]),n._v(" "),r("div",{staticClass:"d-flex"},[r("div",[r("div",{directives:[{name:"lazy",rawName:"v-lazy:background-image",value:n.$withBaseUrl(n.announcement.media.thumb[0]),expression:"$withBaseUrl(announcement.media.thumb[0])",arg:"background-image"}],staticClass:"item-bg",attrs:{role:"img"}})]),n._v(" "),r("div",[r("div",{directives:[{name:"lazy",rawName:"v-lazy:background-image",value:n.$withBaseUrl(n.announcement.media.thumb[1]),expression:"$withBaseUrl(announcement.media.thumb[1])",arg:"background-image"}],staticClass:"item-bg wider",attrs:{role:"img"}}),n._v(" "),r("div",{directives:[{name:"lazy",rawName:"v-lazy:background-image",value:n.$withBaseUrl(n.announcement.media.thumb[2]),expression:"$withBaseUrl(announcement.media.thumb[2])",arg:"background-image"}],staticClass:"item-bg wider",attrs:{role:"img"}})])])]):n._e(),n._v(" "),r("div",{staticClass:"announcements-grid__item",class:"id"+n.announcement.id,on:{click:n.goToAnnouncement}},[!n.clickable||n.isMobileBreakpoint||n.$env.DEV?n._e():r("a",{staticClass:"abs-link",attrs:{target:"_blank",href:n.getLink},on:{click:function(e){e.stopPropagation()}}}),n._v(" "),n.showGallery?n._e():r("div",{directives:[{name:"lazy",rawName:"v-lazy:background-image",value:n.getImage+"?width=308",expression:"getImage+'?width=308'",arg:"background-image"}],staticClass:"item-bg",attrs:{role:"img","aria-label":n.getAnnouncementTitle(n.announcement)}},[n.showOverlay?r("div",{staticClass:"item-overlay"},[r("div",{staticClass:"item-overlay__top"},[r("div",{staticClass:"item-overlay__top--left"},[n.announcement.is_auto_salon?r("div",{staticClass:"item-overlay__top--left_item"},[(n.announcement.is_auto_salon,[n._v(n._s(n.$t("salon")))])],2):n._e()]),n._v(" "),r("div",{staticClass:"item-overlay__top--right",class:{"pending-badge-centered":n.checkPendingBadge(n.announcement)}},[n.isProfilePage?n._e():r("add-favorite",{attrs:{announcement:n.announcement}})],1)]),n._v(" "),r("div",{staticClass:"item-overlay__bottom"},[r("div",{staticClass:"item-overlay__bottom--left"},[n.announcement.has_monetization?r("inline-svg",{attrs:{src:"/icons/promote.svg"}}):n._e()],1),n._v(" "),r("div",{staticClass:"item-overlay__bottom--right"},[n.announcement.show_vin?r("inline-svg",{attrs:{src:"/icons/vin.svg"}}):n._e(),n._v(" "),n.announcement.has_360?r("inline-svg",{attrs:{src:"/icons/360_deg.svg"}}):n._e()],1)])]):n._e()]),n._v(" "),r("div",{staticClass:"item-details"},[r("div",{staticClass:"item-details__item d-flex align-items-center justify-content-between"},[r("h3",[n._v(n._s(n.announcement.price))]),n._v(" "),n.announcement.tradeable||n.announcement.credit?r("div",{staticClass:"item-details__icons"},[n.announcement.tradeable?r("inline-svg",{attrs:{src:"/icons/barter.svg"}}):n._e(),n._v(" "),n.announcement.credit?r("inline-svg",{attrs:{src:"/icons/credit.svg"}}):n._e()],1):n._e()]),n._v(" "),r("div",{staticClass:"item-details__item"},[n._v("\n               "+n._s(n.announcement.brand)+" "+n._s(n.announcement.model)+"\n            ")]),n._v(" "),r("div",{staticClass:"item-details__item"},[r("span",[n._v(n._s(n.announcement.year)+" "+n._s(n.$t("year")))]),n._v(" "),r("span",[n._v(n._s(null===(e=n.announcement)||void 0===e||null===(t=e.car_catalog)||void 0===t?void 0:t.capacity)+" "+n._s(n.$t("char_litre")))]),n._v(" "),r("span",[n._v("\n                  "+n._s(n.announcement.mileage)+"\n\n                  "),1===n.announcement.mileage_measure?[n._v("\n                     "+n._s(n.$t("char_kilometre"))+"\n                  ")]:n._e()],2)]),n._v(" "),r("div",{staticClass:"item-details__item"},[n._v("\n               "+n._s(n.announcement.created_at)+"\n            ")])]),n._v(" "),n.isProfilePage?r("div",{staticClass:"item-details"},[r("monetization-button",{attrs:{announcement:n.announcement,disabled:1!==n.announcement.status}})],1):n._e()])])}),[],!1,null,null,null);t.a=component.exports},1001:function(e,t,n){"use strict";n(991)},1002:function(e,t,n){var r=n(38)((function(i){return i[1]}));r.push([e.i,".badge-icon{height:20px;margin-bottom:1px;margin-right:3px;width:20px}.badge-external{border-bottom-right-radius:0!important;border-top-right-radius:0!important;margin-right:-17px}.shine-size{margin-left:auto}",""]),r.locals={},e.exports=r},1003:function(e,t,n){"use strict";n(992)},1004:function(e,t,n){var r=n(38)((function(i){return i[1]}));r.push([e.i,".announcements-grid .registrationMarks-grid .registrationMarksGridItem{margin:0 0 1.5rem!important;width:214px}.announcements-grid .registrationMarks-grid .registrationMarksGridItem__head h3{font-size:35px}.announcements-grid .registrationMarks-grid .registrationMarksGridItem__main .divider.info p span{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.announcements-grid .registrationMarks-grid .registrationMarks__title{align-items:center;display:flex;justify-content:space-between;margin:52px 0 40px;visibility:hidden;width:1185px}.announcements-grid .registrationMarks-grid .registrationMarks__title .divider{align-items:center;display:flex}.announcements-grid .registrationMarks-grid .registrationMarks__title .divider:first-child span{color:#000;font-size:32px;font-weight:700;line-height:40px;margin-right:12px;margin-top:-5px}.announcements-grid .registrationMarks-grid .registrationMarks__title .divider a{align-items:center;color:#121926;display:flex;font-size:18px;font-weight:600;line-height:20px;text-decoration-line:underline;z-index:5}.announcements-grid .registrationMarks-grid .registrationMarks__title .divider a svg{margin-left:9px}.announcements-grid .registrationMarks-grid.active .registrationMarks__title{visibility:visible}.announcements-grid .registrationMarks-grid.not-mt .registrationMarks__title{display:none}.index-salon-view{align-items:center;background:#fff;background-size:contain;border-radius:6px;display:flex;justify-content:center;padding:35px 6px}.dark-mode .index-salon-view{background:#1c1c1e}@media (max-width:1250px){.announcements-grid .registrationMarks-grid .registrationMarks__title{width:900px}}@media (max-width:1025px){.announcements-grid .registrationMarks-grid .registrationMarks__title{width:490px}.announcements-grid .registrationMarks-grid .registrationMarks__title .divider:first-child{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.announcements-grid .registrationMarks-grid .registrationMarks__title .divider:first-child span{font-size:20px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.announcements-grid .registrationMarks-grid .registrationMarks__title .divider:first-child svg{display:none}.announcements-grid .registrationMarks-grid .registrationMarks__title .divider a{font-size:16px}.announcements-grid .registrationMarks-grid .registrationMarks__title .divider a span{white-space:nowrap}.announcements-grid .registrationMarks-grid .registrationMarksGridItem{width:238px}.announcements-grid .registrationMarks-grid .registrationMarksGridItem__head h3{font-size:38px}}@media (max-width:520px){.announcements-grid .registrationMarks-grid .registrationMarks__title{width:205%}.announcements-grid .registrationMarks-grid .registrationMarks__title .divider:first-child span{margin-top:1px}.announcements-grid .registrationMarks-grid .registrationMarksGridItem{width:100%}.announcements-grid .registrationMarks-grid .registrationMarksGridItem__head h3{font-size:35px}}@media (max-width:460px){.announcements-grid .registrationMarks-grid .registrationMarksGridItem__head h3{font-size:32px}}@media (max-width:430px){.announcements-grid .registrationMarks-grid .registrationMarksGridItem__head h3{font-size:29px}}@media (max-width:400px){.announcements-grid .registrationMarks-grid .registrationMarks__title .divider a{font-size:16px}.announcements-grid .registrationMarks-grid .registrationMarksGridItem__head img{width:17px}.announcements-grid .registrationMarks-grid .registrationMarksGridItem__head h3{font-size:27px}}@media (max-width:375px){.announcements-grid .registrationMarks-grid .registrationMarks__title .divider:first-child span{font-size:20px}.announcements-grid .registrationMarks-grid .registrationMarks__title .divider a{font-size:14px}.announcements-grid .registrationMarks-grid .registrationMarksGridItem__head img{width:15px}.announcements-grid .registrationMarks-grid .registrationMarksGridItem__head h3{font-size:25px}}@media (max-width:355px){.announcements-grid .registrationMarks-grid .registrationMarksGridItem__head{height:60px;padding:0 12px}.announcements-grid .registrationMarks-grid .registrationMarksGridItem__head img{width:30px}.announcements-grid .registrationMarks-grid .registrationMarksGridItem__head h3{font-size:50px}}@media (min-width:1025px){.announcements-grid .col-lg-auto{width:20%}.dark-mode .index-salon-view{background:#242426}}",""]),r.locals={},e.exports=r},1251:function(e,t,n){var content=n(1398);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(39).default)("db6cb51c",content,!0,{sourceMap:!1})},1252:function(e,t,n){var content=n(1400);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(39).default)("cebbeac4",content,!0,{sourceMap:!1})},1397:function(e,t,n){"use strict";n(1251)},1398:function(e,t,n){var r=n(38)((function(i){return i[1]}));r.push([e.i,".ma-announcement-card[data-v-8251fb0c]{background:#e3e8ef;border-radius:8px;height:392px;width:256px}",""]),r.locals={},e.exports=r},1399:function(e,t,n){"use strict";n(1252)},1400:function(e,t,n){var r=n(38)((function(i){return i[1]}));r.push([e.i,'.ma-announcements__top-cards{display:flex;justify-content:space-between;margin-bottom:40px}.ma-announcements__top-cards .ma-announcements__top-card{border:1px solid #d8dce0;border-radius:12px;min-height:100%;padding:16px;width:calc(20% - 16px)}.ma-announcements__top-cards .ma-announcements__top-card--image{align-items:center;background:#eff4ff;border-radius:50%;display:flex;height:40px;justify-content:center;margin-bottom:16px;width:40px}.ma-announcements__top-cards .ma-announcements__top-card--title{color:#3c4f65;font:500 16px/20px "TTHoves";margin-bottom:4px}.ma-announcements__top-cards .ma-announcements__top-card--count{color:#10243c;font:600 18px/22px "TTHoves"}@media (max-width:991px){.ma-announcements__body h4{font:600 19px/22px "TTHoves"}.ma-announcements__head{background:#fff;box-sizing:border-box;margin-bottom:10px;overflow-y:scroll;padding-bottom:12px;padding-left:0}.ma-announcements__head--item{background:#fff;border:1px solid #cdd5df;border-radius:50px;color:#697586;font:500 14px/16px "TTHoves";margin-right:20px;padding:12px 16px;white-space:nowrap}.ma-announcements__head--item:hover{background:#155eef}.ma-announcements__head--item--active{background:#155eef;color:#fff;position:relative}.ma-announcements__head--item--active:before{background:#155eef;border-radius:3px 3px 0 0;bottom:0;content:"";height:3px;left:0;position:relative;width:0}}.dark-mode .ma-announcements__top-cards .ma-announcements__top-card{background:#1b2434;border:1px solid #1b2434}.dark-mode .ma-announcements__top-cards .ma-announcements__top-card--count,.dark-mode .ma-announcements__top-cards .ma-announcements__top-card--title{color:#fff}',""]),r.locals={},e.exports=r},1505:function(e,t,n){"use strict";n.r(t);n(17),n(2);var r=n(0),o=n(1),c=(n(32),n(27),n(42),n(41),n(8),n(7),n(3),n(10),n(4),n(11),n(16)),l=n(994),d=n(995),m=n(25);n(52),n(14),n(21),n(48),n(15),n(123),n(20),n(63),n(97);function h(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}function _(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?h(Object(source),!0).forEach((function(t){Object(r.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):h(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var f={components:{MonetizationButton:n(1009).a},props:{showToolbar:Boolean,type:Number,clearSelected:!1},data:function(){return{chat:{user_type:1,phone:"",email:""},selected:[],selectedAnnouncements:[],selectedMarks:[],selectAll:!1,showDeactivateModal:!1,showChatModal:!1,showDeleteModal:!1,pending:!1}},computed:_(_({},Object(c.c)(["myAnnouncements","getMyPlates"])),{},{userTypes:function(){return[{key:1,name:this.$t("mobile_number")},{key:2,name:this.$t("email")}]}}),methods:_(_({},Object(c.b)(["deactivateMyAnnounement","deleteMyAnnounement"])),{},{closeChatModal:function(){this.showChatModal=!1,this.chat.user_type=1,this.chat.phone="",this.chat.email=""},sendToChat:function(){var e=this;return Object(o.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.pending=!0,t.prev=1,t.next=4,e.$axios.$post("/deactivate_and_send",{announcements:e.selected,user_type:e.chat.user_type,phone:e.chat.phone.replace(/[^0-9]+/g,""),email:e.chat.email});case 4:e.pending=!1,e.closeChatModal(),e.$toasted.success(e.$t("user_add_successfully")),e.selected=[],e.$nuxt.refresh(),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(1),e.pending=!1;case 14:e.pending=!1;case 15:case"end":return t.stop()}}),t,null,[[1,11]])})))()},selectAnnouncement:function(e,t){arguments.length>2&&void 0!==arguments[2]&&arguments[2]&&(this.$set(this,"selected",t?this.selected.includes(e)?Object(m.a)(this.selected):[].concat(Object(m.a)(this.selected),[e]):this.selected.filter((function(t){return t!=e}))),this.handleSelectAnnouncementObject(e),this.selectAll&&!t?this.selectAll=!1:!this.selectAll&&t&&this.selected.length===this.myAnnouncements.data.length&&(this.selectAll=!0))},selectMark:function(e){var t,n=this;this.selectedMarks.forEach((function(r,i){r===e&&(n.selectedMarks.splice(i,1),t=!0)})),t||this.selectedMarks.push(e)},handleSelectAll:function(e){var t=this;this.myAnnouncements.data.map((function(n){t.$nuxt.$emit("select-announcement",n.id_unique,e,!1)}))},handleSelectAnnouncementObject:function(e){var t=this.myAnnouncements.data.find((function(t){return t.id_unique==e})),n=this.selectedAnnouncements.findIndex((function(t){return t.id_unique==e}));-1!==n?this.selectedAnnouncements.splice(n,1):1==t.status&&!t.has_monetization&&t.car_number&&this.selectedAnnouncements.push(t)},deactivateAnouncement:function(e){var t=this;return Object(o.a)(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.pending){n.next=2;break}return n.abrupt("return");case 2:if(r=!0,"announcement"===e?t.selected.map((function(e){var n=t.myAnnouncements.data.find((function(t){return t.id_unique==e}));[0,1].includes(n.status)||(r=!1)})):t.selectedMarks.map((function(e){var n=t.getMyPlates.data.find((function(t){return t.id_unique==e}));[0,1].includes(n.status)||(r=!1)})),r){n.next=7;break}return t.$toasted.error(t.$t("cant_deactivate_selected_announcements")),n.abrupt("return");case 7:if(t.pending=!0,n.prev=8,"announcement"!==e){n.next=14;break}return n.next=12,Promise.all(t.selected.map(t.deactivateMyAnnounement));case 12:n.next=16;break;case 14:return n.next=16,Promise.all(t.selectedMarks.map(t.deactivateMyAnnounement));case 16:return t.handleSelectAll(!1),n.next=19,t.$nuxt.refresh();case 19:t.pending=!1,t.showDeactivateModal=!1,n.next=26;break;case 23:n.prev=23,n.t0=n.catch(8),t.pending=!1;case 26:case"end":return n.stop()}}),n,null,[[8,23]])})))()},deleteAnouncement:function(e){var t=this;return Object(o.a)(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.pending){n.next=2;break}return n.abrupt("return");case 2:if(r=!0,"announcement"===e?t.selected.map((function(e){var n=t.myAnnouncements.data.find((function(t){return t.id_unique==e}));[0,3].includes(n.status)||(r=!1)})):t.selectedMarks.map((function(e){var n=t.getMyPlates.data.find((function(t){return t.id_unique==e}));[0,3].includes(n.status)||(r=!1)})),r){n.next=7;break}return t.$toasted.error(t.$t("cant_delete_selected_announcements")),n.abrupt("return");case 7:if(t.pending=!0,n.prev=8,"announcement"!==e){n.next=14;break}return n.next=12,Promise.all(t.selected.map(t.deleteMyAnnounement));case 12:n.next=16;break;case 14:return n.next=16,Promise.all(t.selectedMarks.map(t.deleteMyAnnounement));case 16:return t.handleSelectAll(!1),n.next=19,t.$nuxt.refresh();case 19:t.pending=!1,t.showDeleteModal=!1,n.next=26;break;case 23:n.prev=23,n.t0=n.catch(8),t.pending=!1;case 26:case"end":return n.stop()}}),n,null,[[8,23]])})))()}}),watch:{clearSelected:function(){this.selected=this.selectedMarks=[]}},asyncData:function(e){return Object(o.a)(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.store,t.next=3,n.dispatch("fetchPlates");case 3:case"end":return t.stop()}}),t)})))()},mounted:function(){this.$nuxt.$on("select-announcement",this.selectAnnouncement),this.$nuxt.$on("select-mark",this.selectMark)},beforeDestroy:function(){this.$nuxt.$off("select-announcement",this.selectAnnouncement),this.$nuxt.$off("select-mark",this.selectMark)}},v=f,y=n(12),component=Object(y.a)(v,(function(){var e=this,t=e._self._c;return e.showToolbar||e.isMobileBreakpoint?t("div",{staticClass:"controls-panel card mt-n3 mt-lg-0 mb-lg-3"},[e.showToolbar?t("div",{staticClass:"row flex-nowrap justify-content-between align-items-center"},[1===e.type?t("div",{staticClass:"col d-flex align-items-center justify-content-end"},[e._e(),e._v(" "),e.user.autosalon&&e.user.autosalon.id?t("span",{class:["control-icon cursor-pointer text-hover-red",{"disabled-ui":!e.selectedAnnouncements.length}],staticStyle:{"border-right":"1px solid #ccc6"}},[t("monetization-button",{attrs:{multiple:!0,"multiple-announcements":e.selectedAnnouncements,tag:"span",classes:" ",announcement:e.myAnnouncements.data[0]}})],1):e._e(),e._v(" "),t("span",{class:["control-icon cursor-pointer text-hover-red",{"disabled-ui":!e.selected.length}],on:{click:function(t){e.showDeactivateModal=!0}}},[t("inline-svg",{attrs:{src:"/icons/minus-circle.svg",height:14}}),e._v(" "),t("span",[e._v(e._s(e.$t("inactive_make")))]),e._v(" "),t("modal-popup",{attrs:{toggle:e.showDeactivateModal,title:e.$t("are_you_sure_you_want_to_deactivate_the_announcements")},on:{close:function(t){e.showDeactivateModal=!1}}},[t("form",{staticClass:"form",attrs:{novalidate:""},on:{submit:function(t){return t.preventDefault(),e.deactivateAnouncement("announcement")}}},[t("button",{class:["btn btn--green full-width",{pending:e.pending}],attrs:{type:"submit"}},[e._v("\n                        "+e._s(e.$t("confirm"))+"\n                     ")])])]),e._v(" "),t("modal-popup",{attrs:{toggle:e.showChatModal,title:"MashinAL Business"},on:{close:e.closeChatModal}},[t("form",{staticClass:"form",attrs:{novalidate:""},on:{submit:function(t){return t.preventDefault(),e.sendToChat.apply(null,arguments)}}},[t("p",{staticClass:"mb-2 mb-lg-3"},[e._v("\n                        Müştəri ilə Mashin Chat-da alış verişə davam etmək üçün\n                        mobil nömrə və ya email daxil etməlisiniz.\n                     ")]),e._v(" "),t("form-switch",{attrs:{options:e.userTypes,"auto-width":""},model:{value:e.chat.user_type,callback:function(t){e.$set(e.chat,"user_type",t)},expression:"chat.user_type"}}),e._v(" "),1===e.chat.user_type?t("form-text-input",{key:"phone",staticClass:"mt-2 mb-2",attrs:{placeholder:e.$t("mobile_number"),mask:e.$maskPhone()},model:{value:e.chat.phone,callback:function(t){e.$set(e.chat,"phone",t)},expression:"chat.phone"}}):e._e(),e._v(" "),2===e.chat.user_type?t("form-text-input",{key:"email",staticClass:"mt-2 mb-2",attrs:{placeholder:e.$t("email"),mask:e.$maskEmail()},model:{value:e.chat.email,callback:function(t){e.$set(e.chat,"email",t)},expression:"chat.email"}}):e._e(),e._v(" "),t("button",{class:["btn btn--green full-width",{pending:e.pending}],attrs:{type:"submit"}},[e._v("\n                        "+e._s(e.$t("confirm"))+"\n                     ")])],1)])],1),e._v(" "),t("span",{class:["control-icon cursor-pointer text-hover-red",{"disabled-ui":!e.selected.length}],on:{click:function(t){e.showDeleteModal=!0}}},[t("icon",{attrs:{name:"garbage"}}),e._v(" "),t("span",[e._v(e._s(e.$t("delete")))]),e._v(" "),t("modal-popup",{attrs:{toggle:e.showDeleteModal,title:e.$t("are_you_sure_you_want_to_delete_the_announcements")},on:{close:function(t){e.showDeleteModal=!1}}},[t("form",{staticClass:"form",attrs:{novalidate:""},on:{submit:function(t){return t.preventDefault(),e.deleteAnouncement("announcement")}}},[t("button",{class:["btn btn--green full-width",{pending:e.pending}],attrs:{type:"submit"}},[e._v("\n                        "+e._s(e.$t("confirm"))+"\n                     ")])])])],1)]):t("div",{staticClass:"col d-flex align-items-center justify-content-end"},[t("span",{class:["control-icon cursor-pointer text-hover-red",{"disabled-ui":!e.selectedMarks.length}],on:{click:function(t){e.showDeactivateModal=!0}}},[t("inline-svg",{attrs:{src:"/icons/minus-circle.svg",height:14}}),e._v(" "),t("span",[e._v(e._s(e.$t("inactive_make")))]),e._v(" "),t("modal-popup",{attrs:{toggle:e.showDeactivateModal,title:e.$t("are_you_sure_you_want_to_deactivate_the_announcements")},on:{close:function(t){e.showDeactivateModal=!1}}},[t("form",{staticClass:"form",attrs:{novalidate:""},on:{submit:function(t){return t.preventDefault(),e.deactivateAnouncement.apply(null,arguments)}}},[t("button",{class:["btn btn--green full-width",{pending:e.pending}],attrs:{type:"submit"}},[e._v("\n                        "+e._s(e.$t("confirm"))+"\n                     ")])])]),e._v(" "),t("modal-popup",{attrs:{toggle:e.showChatModal,title:"MashinAL Business"},on:{close:e.closeChatModal}},[t("form",{staticClass:"form",attrs:{novalidate:""},on:{submit:function(t){return t.preventDefault(),e.sendToChat.apply(null,arguments)}}},[t("p",{staticClass:"mb-2 mb-lg-3"},[e._v("\n                        Müştəri ilə Mashin Chat-da alış verişə davam etmək üçün\n                        mobil nömrə və ya email daxil etməlisiniz.\n                     ")]),e._v(" "),t("form-switch",{attrs:{options:e.userTypes,"auto-width":""},model:{value:e.chat.user_type,callback:function(t){e.$set(e.chat,"user_type",t)},expression:"chat.user_type"}}),e._v(" "),1===e.chat.user_type?t("form-text-input",{key:"phone",staticClass:"mt-2 mb-2",attrs:{placeholder:e.$t("mobile_number"),mask:e.$maskPhone()},model:{value:e.chat.phone,callback:function(t){e.$set(e.chat,"phone",t)},expression:"chat.phone"}}):e._e(),e._v(" "),2===e.chat.user_type?t("form-text-input",{key:"email",staticClass:"mt-2 mb-2",attrs:{placeholder:e.$t("email"),mask:e.$maskEmail()},model:{value:e.chat.email,callback:function(t){e.$set(e.chat,"email",t)},expression:"chat.email"}}):e._e(),e._v(" "),t("button",{class:["btn btn--green full-width",{pending:e.pending}],attrs:{type:"submit"}},[e._v("\n                        "+e._s(e.$t("confirm"))+"\n                     ")])],1)])],1),e._v(" "),t("span",{class:["control-icon cursor-pointer text-hover-red",{"disabled-ui":!e.selectedMarks.length}],on:{click:function(t){e.showDeleteModal=!0}}},[t("icon",{attrs:{name:"garbage"}}),e._v(" "),t("span",[e._v(e._s(e.$t("delete")))]),e._v(" "),t("modal-popup",{attrs:{toggle:e.showDeleteModal,title:e.$t("are_you_sure_you_want_to_delete_the_announcements")},on:{close:function(t){e.showDeleteModal=!1}}},[t("form",{staticClass:"form",attrs:{novalidate:""},on:{submit:function(t){return t.preventDefault(),e.deleteAnouncement.apply(null,arguments)}}},[t("button",{class:["btn btn--green full-width",{pending:e.pending}],attrs:{type:"submit"}},[e._v("\n                        "+e._s(e.$t("confirm"))+"\n                     ")])])])],1)])]):e._e()]):e._e()}),[],!1,null,null,null),k=component.exports,w=n(1021),x=n(1e3),M={},C=(n(1397),Object(y.a)(M,(function(){return(0,this._self._c)("div",{staticClass:"ma-announcement-card"})}),[],!1,null,"8251fb0c",null).exports),$=n(1027);function P(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}function O(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?P(Object(source),!0).forEach((function(t){Object(r.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):P(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var A={name:"pages-profile-announcements",middleware:"auth_general",layout:"garageLayout",data:function(){return{activeTab:null,announceItems:[{id:null,title:"all2",link:"/"},{id:1,title:"active",link:"/"},{id:2,title:"under_consideration_2",link:"/"},{id:3,title:"inactive",link:"/"},{id:0,title:"timed_out",link:"/"}],escapeDuplicates:!1}},components:{GridItem:x.a,Grid:l.a,NoResults:d.a,ControlsPanel:k,PlatesGrid:w.a,AnnouncementCard:C,PlatesGridItem:$.a},nuxtI18n:{paths:{az:"/profil/elanlarim"}},head:function(){return this.$headMeta({title:this.$t("my_announces")})},mounted:function(){var e=this;this.$nuxt.$on("refresh-my-announcements",(function(){return e.refresh++})),document.getElementById("announcementsContainer").addEventListener("mousedown",this.startDragging),document.getElementById("platesContainer").addEventListener("mousedown",this.startDragging)},asyncData:function(e){return Object(o.a)(regeneratorRuntime.mark((function t(){var n,r,o,c;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.store,r=e.route,o=["0","1","2","3"].includes(r.query.status)?parseInt(r.query.status):"",c=!!["1","2"].includes(r.query.type)&&(2==r.query.type?"part":"salon"),t.next=5,Promise.all([n.dispatch("getMyAllAnnouncements",{status:o,shop:c}),n.dispatch("fetchPlates")]);case 5:return t.abrupt("return",{pending:!1,statusReady:o,form:{status:o},refresh:0});case 6:case"end":return t.stop()}}),t)})))()},methods:O(O({},Object(c.b)(["getMyAllAnnouncements"])),{},{changePageMarks:function(e){this.$store.dispatch("fetchPlates","?page=".concat(e)),this.scrollTo(".pages-annoucements",[-15,-20])},changePage:function(){var e=arguments,t=this;return Object(o.a)(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=e.length>0&&void 0!==e[0]?e[0]:1,t.pending=!0,n.next=4,t.getMyAllAnnouncements(O({page:r},t.form));case 4:t.statusReady=t.form.status,t.pending=!1,t.scrollTo(".announcements-grid.paginated",[-15,-20]);case 7:case"end":return n.stop()}}),n)})))()},isValid:function(e){return[0,1,2,3].includes(e)},startDragging:function(e){e.preventDefault();var t=e.currentTarget,n=e.clientX,r=t.scrollLeft,o=function(e){var o=e.clientX-n;t.scrollLeft=r-o};document.addEventListener("mousemove",o),document.addEventListener("mouseup",(function e(){document.removeEventListener("mousemove",o),document.removeEventListener("mouseup",e),t.style.userSelect=""})),t.style.userSelect="none"}}),computed:O(O({},Object(c.c)(["myAnnouncements","getMyPlates"])),{},{crumbs:function(){return[{name:this.$t("my_announces")}]},topCards:function(){return[{name:"announcements",value:14,image:"doc"},{name:"views_count",value:14,image:"eye"},{name:"favorites",value:14,image:"favorite"},{name:"messages",value:14,image:"message-text"},{name:"total_calls",value:14,image:"call"}]},getStatusOptions:function(){return[{key:1,name:this.$t("active")},{key:2,name:this.$t("under_consideration")},{key:0,name:this.$t("rejected_many")},{key:3,name:this.$t("inactive")}]},tabs:function(){return[{id:1,name:this.$t("my_vehicles")},{id:2,name:this.$t("registration_badges")}]},showTopCards:function(){return!this.isMobileBreakpoint&&1==this.$route.query.type}})},j=A,T=(n(1399),Object(y.a)(j,(function(){var e=this,t=e._self._c;return t("div",{key:e.refresh,staticClass:"pages-annoucements pt-2 pt-lg-6"},[t("portal",{attrs:{to:"breadcrumbs"}},[t("breadcrumbs",{attrs:{crumbs:e.crumbs}})],1),e._v(" "),t("div",{staticClass:"container"},[t("div",{staticClass:"ma-announcements"},[t("h2",{staticClass:"ma-title--md"},[e._v(e._s(e.$t("my_announces")))]),e._v(" "),e.showTopCards?t("div",{staticClass:"ma-announcements__top-cards"},e._l(e.topCards,(function(n,r){return t("div",{key:r+8923764,staticClass:"ma-announcements__top-card"},[t("div",{staticClass:"ma-announcements__top-card--image"},[t("inline-svg",{attrs:{src:"/new-icons/announcements/".concat(n.image,".svg")}})],1),e._v(" "),t("div",{staticClass:"ma-announcements__top-card--title"},[e._v(e._s(e.$t(n.name)))]),e._v(" "),t("div",{staticClass:"ma-announcements__top-card--count"},[e._v(e._s(e.$t(n.value)))])])})),0):e._e(),e._v(" "),t("div",{staticClass:"ma-announcements__head"},e._l(e.announceItems,(function(n,r){return t("button",{staticClass:"ma-announcements__head--item",class:{"ma-announcements__head--item--active":n.id==e.activeTab},on:{click:function(t){e.activeTab=n.id}}},[e._v("\n               "+e._s(e.$t(n.title))+"\n            ")])})),0)]),e._v(" "),t("div",{staticClass:"ma-announcements__body"},[t("h4",{staticClass:"ma-subtitle--lg"},[e._v(e._s(e.$t("my_vehicle_announcements")))]),e._v(" "),t("div",{staticClass:"ma-announcements__body--row",attrs:{id:"announcementsContainer"},on:{mousedown:e.startDragging}},[e.myAnnouncements.data.length?t("div",{staticClass:"ma-announcements__body--row__inner"},[e._l(e.myAnnouncements.data,(function(n,r){return[null==e.activeTab||e.activeTab==n.status?t("div",{staticClass:"ma-announcements__body--row__inner--item-plate"},[t("grid-item",{key:n.id_unique+"_"+r,attrs:{announcement:n,clickable:"",isProfilePage:"","show-monetization-actions":"","show-overlay":"","show-phone-count":"","show-status":"","track-views":""}})],1):e._e()]}))],2):e._e(),e._v(" "),0===e.myAnnouncements.data.length||null!==e.activeTab&&!e.myAnnouncements.data.some((function(t){return e.activeTab===t.status}))?t("no-results",{attrs:{text:""!==e.statusReady?"":e.$t("add_an_ad_and_thousands_of_potential_buyers_will_see_it"),type:2==e.$route.query.type?"part":"car"}},[""===e.statusReady?t("nuxt-link",{staticClass:"btn btn--green mt-2 mt-lg-3",attrs:{to:e.$localePath("/sell")},domProps:{innerHTML:e._s(e.$t("to_sell"))}}):e._e()],1):e._e()],1),e._v(" "),t("h4",{staticClass:"ma-subtitle--lg"},[e._v(e._s(e.$t("my_car_number_announcements")))]),e._v(" "),t("div",{staticClass:"ma-announcements__body--row",attrs:{id:"platesContainer"},on:{mousedown:e.startDragging}},[e.getMyPlates.data.length?t("div",{staticClass:"ma-announcements__body--row__inner"},[e._l(e.getMyPlates.data,(function(n,r){return[null==e.activeTab||e.activeTab==n.status?t("div",{staticClass:"ma-announcements__body--row__inner--item-plate"},[t("plates-grid-item",{key:r,attrs:{item:n,moreInfo:""}})],1):e._e()]}))],2):e._e(),e._v(" "),0===e.getMyPlates.data.length||null!==e.activeTab&&!e.getMyPlates.data.some((function(t){return e.activeTab===t.status}))?t("no-results",{attrs:{template:"new-img",text:e.$t("empty_plates"),url:"/img/empty_plates.png",urlDarkMode:"/img/empty_plates_dark-mode.png"}}):e._e()],1)])])],1)}),[],!1,null,null,null));t.default=T.exports},991:function(e,t,n){var content=n(1002);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(39).default)("51a77f35",content,!0,{sourceMap:!1})},992:function(e,t,n){var content=n(1004);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(39).default)("418edd76",content,!0,{sourceMap:!1})},994:function(e,t,n){"use strict";n(8),n(7),n(10),n(4),n(11);var r=n(0),o=(n(52),n(27),n(14),n(21),n(35),n(3),n(2),n(1e3)),c=n(124),l=n(1021),d=n(1027);function m(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}function h(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?m(Object(source),!0).forEach((function(t){Object(r.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):m(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var _={props:{showMonetizationActions:{type:Boolean,default:!0},announcements:{type:Array,default:function(){return[]}},title:{type:Boolean,default:!0},numberOfAds:[Number,String],iconName:String,showAll:String,trackViews:{type:Boolean,default:!0},pushIntoRouter:{type:Boolean,default:!0},showStatus:Boolean,showCheckbox:Boolean,showPhoneCount:Boolean,paginate:{},pending:Boolean,watchRoute:Boolean,escapeDuplicates:Boolean,hasContainer:Boolean,banner:String,bannerPlace:Number,bannerCount:Number,bannerFor:String,bannerLink:String,where:String,showOverlay:{type:Boolean,default:!0},clickable:{type:Boolean,default:!0},isProfilePage:Boolean,needAutoScroll:Boolean,myAnnouncementsPage:Boolean},components:{SiteBanner:c.a,GridItem:o.a,PlatesGrid:l.a,PlatesGridItem:d.a},data:function(){return{showBanner:!1}},methods:{changePage:function(e){var t=this;this.showAll?(this.$emit("pending"),this.$router.push({path:this.showAll,query:{page:e}},(function(){t.scrollTo(".announcements-grid",[-15,-20])}))):this.pushIntoRouter?this.$router.push({query:h(h({},this.$route.query),{},{page:e})},(function(){t.$emit("change-page",e)})):this.$emit("change-page",e)},checkItemIndex:function(e,t){return this.getAnnouncementType(t)===this.bannerFor&&(this.banner&&e%this.bannerPlace==0)},checkItemB:function(e,t){return this.checkItemIndex(e+1,t)||this.checkItemIndex(e+2,t)||this.checkItemIndex(e+3,t)||this.checkItemIndex(e+4,t)},switchSecondTemplate:function(){this.$cookies.set("show_bn",!this.$cookies.get("show_bn"))},checkSecondTemplate:function(e){return[20,21,22,23].includes(e)&&this.$cookies.get("show_bn")&&!this.isMobileBreakpoint},checkItemTop:function(e,t){return this.checkItemIndex(e+3,t)||this.checkItemIndex(e+4,t)},checkItemBottom:function(e,t){return this.checkItemIndex(e+1,t)||this.checkItemIndex(e+2,t)},getBannerImage:function(e){var t=e/this.bannerPlace%this.bannerCount;return t=0===t?this.bannerCount:t,this.banner.replace("{count}",t).replace("{locale}",this.locale)},scrollFunc:function(){var e=this;setTimeout((function(){var t=e.$refs.scrollToMe;t&&t.scrollIntoView({behavior:"smooth",block:"start"})}),1e3)}},computed:{registrationMarks:function(){return this.announcements.filter((function(e){return 6===e.type}))}},watch:{"$route.query.page":function(e){this.watchRoute&&this.changePage(e)}},mounted:function(){this.switchSecondTemplate(),this.needAutoScroll&&this.scrollFunc()}},f=(n(1003),n(12)),component=Object(f.a)(_,(function(){var e=this,t=e._self._c;return t("div",{class:["announcements-grid",{"loading-content":e.pending,paginated:e.paginate}]},[e.title?t("div",{staticClass:"container"},[e._t("cap"),e._v(" "),t("div",{staticClass:"announcements-grid__inner",class:{"my-announcements-grid__inner":e.myAnnouncementsPage}},e._l(e.announcements,(function(n,r){return t("grid-item",{key:n.id_unique+(e.escapeDuplicates?"_"+r:""),attrs:{announcement:n,"show-monetization-actions":e.showMonetizationActions,"show-checkbox":e.showCheckbox,"show-status":e.showStatus,"show-phone-count":e.showPhoneCount,"show-overlay":e.showOverlay,clickable:e.clickable,"track-views":e.trackViews,isProfilePage:e.isProfilePage}})})),1)],2):e._e(),e._v(" "),e.paginate&&e.paginate.last_page>1?t("pagination",{attrs:{"page-count":e.paginate.last_page,value:e.paginate.current_page},on:{"change-page":e.changePage}}):e._e()],1)}),[],!1,null,null,null);t.a=component.exports},995:function(e,t,n){"use strict";n(27);var r={props:{text:String,type:{type:String,required:!1,default:"car",validator:function(e){return["car","part"].includes(e)}},template:{type:String,default:""},url:{type:String,default:""},urlDarkMode:{type:String,default:""}}},o=n(12),component=Object(o.a)(r,(function(){var e=this,t=e._self._c;return e.template?"new"===e.template?t("div",{staticClass:"no-results"},[t("inline-svg",{attrs:{src:e.url}}),e._v(" "),t("span",[e._v(e._s(e.text||e.$t("no_results_found")))]),e._v(" "),e._t("default")],2):"new-img"===e.template?t("div",{staticClass:"no-results"},[t("img",{staticClass:"light-mode",attrs:{src:e.url,alt:"img"}}),e._v(" "),t("img",{staticClass:"dark-mode",attrs:{src:e.urlDarkMode,alt:"img"}}),e._v(" "),t("span",[e._v(e._s(e.text||e.$t("no_results_found")))]),e._v(" "),e._t("default")],2):e._e():t("div",{staticClass:"no-results"},[t("img",{attrs:{src:"/img/".concat(e.type,".svg"),alt:""}}),e._v(" "),t("span",[e._v(e._s(e.text||e.$t("no_results_found")))]),e._v(" "),e._t("default")],2)}),[],!1,null,null,null);t.a=component.exports}}]);