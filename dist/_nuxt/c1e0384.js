(window.webpackJsonp=window.webpackJsonp||[]).push([[44],{1013:function(e,t,n){"use strict";var r={props:{type:{type:String,default:"car"},single:{type:Boolean,default:!1},items:{type:Array,default:function(){return[]}},watchIds:{type:Boolean,default:!0}},mounted:function(){this.$store.dispatch("fetchHandleIds",{single:this.single,type:this.type,ids:this.items})},watch:{items:function(e){!this.single&&this.watchIds&&this.$store.dispatch("fetchHandleIds",{type:this.type,ids:e})}}},c=n(12),component=Object(c.a)(r,(function(){return(0,this._self._c)("div")}),[],!1,null,null,null);t.a=component.exports},1544:function(e,t,n){"use strict";n.r(t);n(7),n(10),n(4),n(11);var r=n(25),c=n(0),o=n(1),l=(n(32),n(3),n(2),n(42),n(41),n(15),n(20),n(8),n(16)),d=n(1288),m=n(994),h=n(995),f=n(1013);function y(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}function v(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?y(Object(source),!0).forEach((function(t){Object(c.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):y(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var O={name:"pages-commercial-index",layout:"search",components:{CommercialSearchForm:d.a,Grid:m.a,NoResults:h.a,HandleIds:f.a},nuxtI18n:{paths:{az:"/ticari-avtomobiller"}},head:function(){return this.$headMeta({title:this.$t("meta-title_commercial",{type:this.$t("meta-words_commercial-types")[0]}),description:this.$t("meta-descr_commercial",{type:this.$t("meta-words_commercial-types")[0]})})},asyncData:function(e){return Object(o.a)(regeneratorRuntime.mark((function t(){var n,c,o,l,d;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.store,c=e.route,o=v({},JSON.parse(c.query.filter||"{}")),l=c.query.page||1,d={url:"/grid/commercial",prefix:"commercial"},t.next=6,Promise.all([n.dispatch("getGridSearch",v(v({},d),{},{post:o,page:l,type:"commercials"}))].concat(Object(r.a)(Object.keys((null==o?void 0:o.additional_brands)||{}).filter((function(e){var t,n;return null==o||null===(t=o.additional_brands)||void 0===t||null===(n=t[e])||void 0===n?void 0:n.category})).map((function(e){var t=o.additional_brands[e];return n.dispatch("getCommercialBrands",{category:t.category,index:e})}))),Object(r.a)(Object.keys((null==o?void 0:o.additional_brands)||{}).filter((function(e){var t,n;return null==o||null===(t=o.additional_brands)||void 0===t||null===(n=t[e])||void 0===n?void 0:n.brand})).map((function(e){var t=o.additional_brands[e];return n.dispatch("getCommercialModels",{category:t.category,id:t.brand,index:e})})))));case 6:return t.abrupt("return",{searchParams:d,pending:!1});case 7:case"end":return t.stop()}}),t)})))()},methods:v(v({},Object(l.b)(["getGridSearch"])),{},{searchCommercial:function(){var e=arguments,t=this;return Object(o.a)(regeneratorRuntime.mark((function n(){var r,c;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e.length>0&&void 0!==e[0]?e[0]:1,r=t.$route.query.page||1,c=JSON.parse(t.$route.query.filter||"{}"),t.pending=!0,n.next=6,t.getGridSearch(v(v({},t.searchParams),{},{post:c,page:r,type:"commercials"}));case 6:return n.next=8,t.$store.dispatch("fetchInfiniteMainMonetized",{type:"commercial",data:c});case 8:t.pending=!1,t.scrollTo(".announcements-grid.paginated",[-15,-20]);case 10:case"end":return n.stop()}}),n)})))()}}),computed:v(v({},Object(l.c)(["commercialAnnouncements","getMainMonetized"])),{},{crumbs:function(){return[{name:this.$t("commercial")}]}}),mounted:function(){Object.keys(this.$route.query).length||this.$store.dispatch("fetchInfiniteMainMonetized",{type:"commercial"})},beforeRouteLeave:function(e,t,n){this.$nuxt.$emit("prevent-popstate"),n()}},j=O,w=n(12),component=Object(w.a)(j,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"pages-commercial-index"},[t("div",{staticClass:"container"},[t("breadcrumbs",{attrs:{crumbs:e.crumbs}}),e._v(" "),t("commercial-search-form",{attrs:{"total-count":e.$paginate(e.commercialAnnouncements).total,pending:e.pending,category:{}},on:{pending:function(t){e.pending=!0},submit:e.searchCommercial}}),e._v(" "),e.getMainMonetized.length?t("grid",{attrs:{announcements:e.getMainMonetized,"show-title":!0,"escape-duplicates":""}}):e._e(),e._v(" "),e.commercialAnnouncements.data.length?t("grid",{attrs:{announcements:e.commercialAnnouncements.data,paginate:e.$paginate(e.commercialAnnouncements),pending:e.pending,"escape-duplicates":""},on:{"change-page":e.searchCommercial}}):t("no-results"),e._v(" "),t("HandleIds",{attrs:{type:"commercials",items:e.commercialAnnouncements.data}})],1)])}),[],!1,null,null,null);t.default=component.exports}}]);