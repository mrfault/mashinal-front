(window.webpackJsonp=window.webpackJsonp||[]).push([[134],{1462:function(t,e){},1600:function(t,e,r){"use strict";r.r(e);r(15),r(1458),r(1460);var o=r(1190),n=(r(1489),r(1284)),c=r.n(n),d=r(1484),l=r.n(d),v=r(1485),h=r.n(v),f={data:function(){return{player:"",timer:"0:00",starting:!1,recording:!1,started:!1,blob:"",ready:!1}},mounted:function(){var t=this;window.FFmpegjsEngine||(window.FFmpegjsEngine=h.a),window.Record||(window.Record=l.a),window.RecordRTC||(window.RecordRTC=c.a);var e=this.isMobileBreakpoint?this.isMobileDevice&&this.isPortraitOrientation?[600,441]:[441,600]:[1150,600];this.player=Object(o.default)(this.$refs.video,{controls:!1,bigPlayButton:!1,controlBar:{deviceButton:!1,recordToggle:!1,pipToggle:!1},fill:!0,width:e[0],height:e[1],plugins:{record:{pip:!1,audio:!0,video:{width:{min:e[0],ideal:e[0],max:e[0]},height:{min:e[1],ideal:e[1],max:e[1]}},maxLength:60,debug:this.$env.DEV,frameWidth:e[0],frameHeight:e[1]}}}),this.player.on("deviceReady",(function(){t.ready?t.player.record().start():t.ready=!0})),this.player.on("deviceError",(function(){t.$toasted.error("Device error:",t.player.deviceErrorCode)})),this.player.on("error",(function(element,e){console.error(e),t.$toasted.error(e)})),this.player.on("startRecord",(function(){t.starting=!1,t.started=!0,t.recording=!0,t.$emit("start")})),this.player.on("progressRecord",(function(){if(t.recording){var time=parseInt(t.player.record().getCurrentTime()),e=Math.floor(time/60),r=time%60;t.timer="".concat(e,":").concat(r<10?"0"+r:r)}})),this.player.on("finishRecord",(function(){t.recording=!1,t.player.record().stopDevice(),t.started&&(t.blob=t.player.recordedData,t.$emit("result",t.blob),t.$emit("finish"))})),this.player.record().getDevice()},methods:{toggleRecording:function(){this.starting||this.started&&!this.recording||this["".concat(this.recording?"stop":"start","Recording")]()},startRecording:function(){this.starting=!0,this.player.record().getDevice()},stopRecording:function(){this.player.record().stopDevice()},retakeVideo:function(){this.starting||(this.started=!1,this.timer="0:00",this.stopRecording(),this.startRecording(),this.$emit("retake"))}},beforeDestroy:function(){var t;null===(t=this.player)||void 0===t||t.dispose()}},y=r(12),component=Object(y.a)(f,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"video-record"},[e("div",{staticClass:"video-record_inner"},[e("div",{staticClass:"video-record_player"},[e("video",{ref:"video",staticClass:"video-js vjs-default-skin",attrs:{playsinline:""}}),t._v(" "),e("div",{staticClass:"video-record_square"})]),t._v(" "),e("div",{staticClass:"video-record_overlay"},[t._t("default"),t._v(" "),e("div",{staticClass:"video-record_controls"},[e("button",{staticClass:"video-record_control",attrs:{type:"button"},on:{click:t.toggleRecording}},[e("span",{class:t.recording?"stop":"rec"})]),t._v(" "),e("span",{staticClass:"video-record_control"},[e("span",{staticClass:"time"},[t._v(t._s(t.timer)),t.isMobileBreakpoint?t._e():[t._v(t._s(" / 1:00"))]],2)]),t._v(" "),e("button",{staticClass:"video-record_control",attrs:{type:"button"},on:{click:t.retakeVideo}},[e("icon",{attrs:{name:"reset"}})],1)])],2)])])}),[],!1,null,null,null);e.default=component.exports}}]);