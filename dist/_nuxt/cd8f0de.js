(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{1081:function(e,t,r){"use strict";var n=r(0),o=(r(8),r(7),r(3),r(10),r(4),r(11),r(1)),c=(r(32),r(15),r(17),r(2),r(42),r(41),r(16)),l=r(990),d=r(557);r(14),r(21);function f(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}function m(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?f(Object(source),!0).forEach((function(t){Object(n.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):f(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var v={props:{car:{}},computed:m(m({},Object(c.c)("letterOfAttorney",["stepReceivedData","stepSendData","currentRealStep","hasGeneralPower","hasAnyPower"])),{},{users:function(){return[{name:this.stepReceivedData.senderFullName,fatherName:this.stepReceivedData.senderFatherName,image:this.stepReceivedData.senderImage},{name:this.stepReceivedData.recepientFullName,fatherName:this.stepReceivedData.recepientFatherName,image:this.stepReceivedData.recepientImage}]},specs:function(){var e=[{},{},{}];return this.car&&(e[0].vehicle_id_mark=this.car.mark,e[0].vehicle_id_sign=this.car.car_number.replace(/([A-Z]{1,2})/," $1 ")),this.currentRealStep>1&&(e[0].letter_type=this.$t("letter_type_options")[this.stepSendData.letterType-1],this.currentRealStep>2&&this.currentRealStep>2&&(this.stepReceivedData.hasDriverLicense&&(e[1].driver_license_serial_number=this.stepSendData.driverLicenseNumber,e[1].driver_license_given_date=this.stepSendData.driverLicenseGivenDate,e[1].driver_license_expiry_date=this.stepSendData.driverLicenseExpiryDate),this.currentRealStep>3&&this.currentRealStep>5&&(e[2].recepient_id_serial_number=this.stepSendData.idSerialNumberB,e[2].recepient_id_fin_code=this.stepSendData.idFinCodeB,this.hasGeneralPower||(e[2].recepient_driver_license_serial_number=this.stepSendData.driverLicenseNumberB)))),e}}),methods:m({},Object(c.b)("letterOfAttorney",["updateSendData"])),created:function(){this.car&&this.updateSendData([{key:"garageId",value:this.car.id},{key:"carNumber",value:this.car.car_number}])}},h=r(12),y=Object(h.a)(v,(function(){var e=this,t=e._self._c;return t("div",{class:["steps-summary",{"show-data":e.hasAnyPower}]},[e.hasAnyPower?t("div",{staticClass:"row"},[e._l(e.users,(function(r,i){return t("div",{key:i,staticClass:"col-12 col-lg-6"},[t("div",{staticClass:"card-bordered"},[t("div",{staticClass:"img"},[t("img",{attrs:{src:r.image||"/img/user.".concat(e.isDarkMode?"jpg":"svg"),alt:""}})]),e._v(" "),t("h4",[t("span",{class:{empty:!r.name},domProps:{innerHTML:e._s(r.name?"".concat(r.name,"<br/>").concat(r.fatherName):"----- ---")}})]),e._v(" "),t("p",{staticClass:"text-dark-blue-3"},[e._v(e._s(e.$t("letter_"+(0===i?"sender":"recepient"))))])])])})),e._v(" "),t("div",{staticClass:"col-12"},[t("div",{staticClass:"card-bordered"},[t("vue-scroll",[t("div",{staticClass:"card-bordered_scrollview"},[t("div",{staticClass:"vehicle-specs"},[t("div",{staticClass:"row"},[t("div",{staticClass:"col col-12"},[t("ul",e._l(e.specs[0],(function(r,n){return t("li",{key:n},[t("span",{staticClass:"wider"},[e._v(e._s(e.$t(n)))]),e._v(" "),t("span",[e._v(e._s(r))])])})),0)]),e._v(" "),e.currentRealStep>3?t("div",{staticClass:"col col-12"},[t("hr"),e._v(" "),t("ul",e._l(e.specs[2],(function(r,n){return t("li",{key:n},[t("span",{staticClass:"wider"},[e._v(e._s(e.$t(n)))]),e._v(" "),t("span",[e._v(e._s(r))])])})),0)]):e._e()])])])])],1)])],2):t("div",[t("div",{staticClass:"card-bordered"},[t("div",{staticClass:"status-text error"},[t("img",{attrs:{src:"/icons/alert-2.svg",alt:""}}),e._v(" "),t("div",[t("h4",[e._v(e._s(e.$t("wrong_data")))]),e._v(" "),t("p",[e._v(e._s(e.$t("you_cant_submit_letter_of_attorney")))])])])])])])}),[],!1,null,null,null).exports,_=r(174);function O(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}function D(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?O(Object(source),!0).forEach((function(t){Object(n.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):O(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var j={components:{QrcodeBox:r(278).a},data:function(){return{pending:!1}},validations:{carNumber:{required:Object(_.requiredIf)((function(){return this.stepSendData.garageId>0}))},idFinCode:{required:_.required},idSerialNumber:{required:_.required}},computed:D(D({},Object(c.c)("letterOfAttorney",["stepSendData"])),{},{letterType:{get:function(){return this.stepSendData.letterType},set:function(e){this.updateSendData({key:"letterType",value:e})}},idFinCode:{get:function(){return this.stepSendData.idFinCode.toUpperCase()},set:function(e){this.updateSendData({key:"idFinCode",value:e})}},carNumber:{get:function(){return this.stepSendData.carNumber},set:function(e){this.updateSendData({key:"carNumber",value:e})}},idSerialNumber:{get:function(){return this.stepSendData.idSerialNumber.toUpperCase()},set:function(e){this.updateSendData({key:"idSerialNumber",value:e})}},letterTypeOptions:function(){return[{key:1,name:this.$t("letter_type_options")[0]},{key:2,name:this.$t("letter_type_options")[1]}]}}),methods:D(D({},Object(c.b)("letterOfAttorney",["updateSendData","checkUserAccess","checkOwnInfo"])),{},{submit:function(){var e=this;return Object(o.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.$v.$touch(),!e.pending&&!e.$v.$error){t.next=3;break}return t.abrupt("return");case 3:return e.pending=!0,t.prev=4,t.next=7,e.checkUserAccess();case 7:if(!t.sent){t.next=21;break}return t.prev=9,t.next=12,e.checkOwnInfo();case 12:t.sent?(e.pending=!1,e.$emit("next")):(e.pending=!1,e.$toasted.error(e.$t("data_is_not_valid"))),t.next=19;break;case 16:t.prev=16,t.t0=t.catch(9),e.pending=!1;case 19:t.next=22;break;case 21:e.pending=!1;case 22:t.next=27;break;case 24:t.prev=24,t.t1=t.catch(4),e.pending=!1;case 27:case"end":return t.stop()}}),t,null,[[4,24],[9,16]])})))()}})},w=Object(h.a)(j,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"test"},[e.$auth.loggedIn?t("form",{staticClass:"form",attrs:{novalidate:""},on:{submit:function(t){return t.preventDefault(),e.submit.apply(null,arguments)}}},[e.stepSendData.garageId?e._e():t("form-text-input",{staticClass:"mb-2 mb-lg-3",attrs:{mask:"99 - AA - 999",placeholder:e.$t("car_number"),invalid:e.$v.carNumber.$error},model:{value:e.carNumber,callback:function(t){e.carNumber=t},expression:"carNumber"}}),e._v(" "),t("form-text-input",{staticClass:"mb-2 mb-lg-3",attrs:{placeholder:e.$t("id_fin_code"),invalid:e.$v.idFinCode.$error},model:{value:e.idFinCode,callback:function(t){e.idFinCode=t},expression:"idFinCode"}}),e._v(" "),t("form-text-input",{staticClass:"mb-2 mb-lg-3",attrs:{placeholder:e.$t("id_serial_number"),invalid:e.$v.idSerialNumber.$error},model:{value:e.idSerialNumber,callback:function(t){e.idSerialNumber=t},expression:"idSerialNumber"}}),e._v(" "),t("form-buttons",{staticClass:"mb-2 mb-lg-3",attrs:{options:e.letterTypeOptions,"group-by":2,"height-auto":!0},model:{value:e.letterType,callback:function(t){e.letterType=t},expression:"letterType"}}),e._v(" "),t("button",{class:["btn btn--green full-width",{pending:e.pending}],attrs:{type:"submit"}},[e._v("\n      "+e._s(e.$t("go_further"))+"\n    ")]),e._v(" "),t("qrcode-box",{staticClass:"mt-2"})],1):t("login-tabs",{attrs:{"in-attorney":!0}})],1)}),[],!1,null,null,null),k=w.exports;function x(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}function $(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?x(Object(source),!0).forEach((function(t){Object(n.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):x(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var P={data:function(){return{pending:!1}},validations:{birthDate:{required:_.required},idExpiryDate:{required:_.required}},computed:$($({},Object(c.c)("letterOfAttorney",["stepSendData"])),{},{birthDate:{get:function(){return this.stepSendData.birthDate},set:function(e){this.updateSendData({key:"birthDate",value:e})}},idExpiryDate:{get:function(){return this.stepSendData.idExpiryDate},set:function(e){this.updateSendData({key:"idExpiryDate",value:e})}},gender:{get:function(){return this.stepSendData.gender},set:function(e){this.updateSendData({key:"gender",value:e})}},getGenderOptions:function(){return[{key:1,name:this.$t("male")},{key:2,name:this.$t("female")}]}}),methods:$($({},Object(c.b)("letterOfAttorney",["updateSendData","checkPinCode"])),{},{submit:function(){var e=this;return Object(o.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.$v.$touch(),!e.pending&&!e.$v.$error){t.next=3;break}return t.abrupt("return");case 3:return e.pending=!0,t.prev=4,t.next=7,e.checkPinCode();case 7:t.sent?(e.pending=!1,e.$emit("next")):(e.pending=!1,e.$toasted.error(e.$t("data_is_not_valid"))),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(4),e.pending=!1;case 14:case"end":return t.stop()}}),t,null,[[4,11]])})))()}})},S=Object(h.a)(P,(function(){var e=this,t=e._self._c;return t("form",{staticClass:"form",attrs:{novalidate:""},on:{submit:function(t){return t.preventDefault(),e.submit.apply(null,arguments)}}},[t("form-text-input",{staticClass:"mb-2 mb-lg-3",attrs:{placeholder:e.$t("birth_date"),invalid:e.$v.birthDate.$error,"input-date":""},model:{value:e.birthDate,callback:function(t){e.birthDate=t},expression:"birthDate"}}),e._v(" "),t("form-text-input",{staticClass:"mb-2 mb-lg-3",attrs:{placeholder:e.$t("date_till"),invalid:e.$v.idExpiryDate.$error,"input-date":""},model:{value:e.idExpiryDate,callback:function(t){e.idExpiryDate=t},expression:"idExpiryDate"}}),e._v(" "),t("p",{staticClass:"mb-1"},[e._v(e._s(e.$t("gender")))]),e._v(" "),t("form-buttons",{staticClass:"mb-2 mb-lg-3",attrs:{options:e.getGenderOptions,"group-by":2,"btn-class":"primary-outline"},model:{value:e.gender,callback:function(t){e.gender=t},expression:"gender"}}),e._v(" "),t("button",{class:["btn btn--green full-width",{pending:e.pending}],attrs:{type:"submit"}},[e._v("\n    "+e._s(e.$t("go_further"))+"\n  ")])],1)}),[],!1,null,null,null),C=S.exports;function N(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}function E(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?N(Object(source),!0).forEach((function(t){Object(n.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):N(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var R={data:function(){return{pending:!1}},validations:{driverLicenseNumber:{required:_.required},driverLicenseGivenDate:{required:_.required},driverLicenseExpiryDate:{required:_.required}},computed:E(E({},Object(c.c)("letterOfAttorney",["stepSendData"])),{},{driverLicenseNumber:{get:function(){return this.stepSendData.driverLicenseNumber},set:function(e){this.updateSendData({key:"driverLicenseNumber",value:e})}},driverLicenseGivenDate:{get:function(){return this.stepSendData.driverLicenseGivenDate},set:function(e){this.updateSendData({key:"driverLicenseGivenDate",value:e})}},driverLicenseExpiryDate:{get:function(){return this.stepSendData.driverLicenseExpiryDate},set:function(e){this.updateSendData({key:"driverLicenseExpiryDate",value:e})}}}),methods:E(E({},Object(c.b)("letterOfAttorney",["updateSendData","checkOwnDriverLicense"])),{},{submit:function(){var e=this;return Object(o.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.$v.$touch(),!e.pending&&!e.$v.$error){t.next=3;break}return t.abrupt("return");case 3:return e.pending=!0,t.prev=4,t.next=7,e.checkOwnDriverLicense();case 7:t.sent?(e.pending=!1,e.$emit("next")):(e.pending=!1,e.$toasted.error(e.$t("data_is_not_valid"))),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(4),e.pending=!1;case 14:case"end":return t.stop()}}),t,null,[[4,11]])})))()}})},L=Object(h.a)(R,(function(){var e=this,t=e._self._c;return t("form",{staticClass:"form",attrs:{novalidate:""},on:{submit:function(t){return t.preventDefault(),e.submit.apply(null,arguments)}}},[t("form-text-input",{staticClass:"mb-2 mb-lg-3",attrs:{mask:e.$maskAlphaNumeric("*{+}"," "),placeholder:e.$t("license_serial_number"),invalid:e.$v.driverLicenseNumber.$error},model:{value:e.driverLicenseNumber,callback:function(t){e.driverLicenseNumber=t},expression:"driverLicenseNumber"}}),e._v(" "),t("form-text-input",{staticClass:"mb-2 mb-lg-3",attrs:{placeholder:e.$t("license_given_date"),invalid:e.$v.driverLicenseGivenDate.$error,"input-date":""},model:{value:e.driverLicenseGivenDate,callback:function(t){e.driverLicenseGivenDate=t},expression:"driverLicenseGivenDate"}}),e._v(" "),t("form-text-input",{staticClass:"mb-2 mb-lg-3",attrs:{placeholder:e.$t("date_till"),invalid:e.$v.driverLicenseExpiryDate.$error,"input-date":""},model:{value:e.driverLicenseExpiryDate,callback:function(t){e.driverLicenseExpiryDate=t},expression:"driverLicenseExpiryDate"}}),e._v(" "),t("button",{class:["btn btn--green full-width",{pending:e.pending}],attrs:{type:"submit"}},[e._v("\n    "+e._s(e.$t("go_further"))+"\n  ")])],1)}),[],!1,null,null,null),I=L.exports;function B(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}function A(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?B(Object(source),!0).forEach((function(t){Object(n.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):B(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var T={data:function(){return{pending:!1}},validations:{vehicleIdNumber:{required:_.required},vehicleIdGivenDate:{required:_.required}},computed:A(A({},Object(c.c)("letterOfAttorney",["stepSendData"])),{},{vehicleIdNumber:{get:function(){return this.stepSendData.vehicleIdNumber},set:function(e){this.updateSendData({key:"vehicleIdNumber",value:e})}},vehicleIdGivenDate:{get:function(){return this.stepSendData.vehicleIdGivenDate},set:function(e){this.updateSendData({key:"vehicleIdGivenDate",value:e})}}}),methods:A(A({},Object(c.b)("letterOfAttorney",["updateSendData","checkVehicleLicense"])),{},{submit:function(){var e=this;return Object(o.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.$v.$touch(),!e.pending&&!e.$v.$error){t.next=3;break}return t.abrupt("return");case 3:return e.pending=!0,t.prev=4,t.next=7,e.checkVehicleLicense();case 7:t.sent?(e.pending=!1,e.$emit("next")):(e.pending=!1,e.$toasted.error(e.$t("data_is_not_valid"))),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(4),e.pending=!1;case 14:case"end":return t.stop()}}),t,null,[[4,11]])})))()}})},G=Object(h.a)(T,(function(){var e=this,t=e._self._c;return t("form",{staticClass:"form",attrs:{novalidate:""},on:{submit:function(t){return t.preventDefault(),e.submit.apply(null,arguments)}}},[t("form-text-input",{staticClass:"mb-2 mb-lg-3",attrs:{mask:e.$maskAlphaNumeric("*{+}"," "),placeholder:e.$t("license_serial_number"),invalid:e.$v.vehicleIdNumber.$error},model:{value:e.vehicleIdNumber,callback:function(t){e.vehicleIdNumber=t},expression:"vehicleIdNumber"}}),e._v(" "),t("form-text-input",{staticClass:"mb-2 mb-lg-3",attrs:{placeholder:e.$t("license_given_date"),invalid:e.$v.vehicleIdGivenDate.$error,"input-date":""},model:{value:e.vehicleIdGivenDate,callback:function(t){e.vehicleIdGivenDate=t},expression:"vehicleIdGivenDate"}}),e._v(" "),t("button",{class:["btn btn--green full-width",{pending:e.pending}],attrs:{type:"submit"}},[e._v("\n    "+e._s(e.$t("go_further"))+"\n  ")])],1)}),[],!1,null,null,null),F=G.exports;function M(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}function U(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?M(Object(source),!0).forEach((function(t){Object(n.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):M(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var V={data:function(){return{pending:!1,confirmed:!1}},validations:{idFinCodeB:{required:_.required},idSerialNumberB:{required:_.required},driverLicenseNumberB:{required:Object(_.requiredIf)((function(){return!this.hasGeneralPower}))}},computed:U(U({},Object(c.c)("letterOfAttorney",["stepSendData","hasGeneralPower"])),{},{idFinCodeB:{get:function(){return this.stepSendData.idFinCodeB},set:function(e){this.updateSendData({key:"idFinCodeB",value:e})}},idSerialNumberB:{get:function(){return this.stepSendData.idSerialNumberB},set:function(e){this.updateSendData({key:"idSerialNumberB",value:e})}},driverLicenseNumberB:{get:function(){return this.stepSendData.driverLicenseNumberB},set:function(e){this.updateSendData({key:"driverLicenseNumberB",value:e})}}}),methods:U(U({},Object(c.b)("letterOfAttorney",["updateSendData","checkOtherUserInfo","checkDriverLicense"])),{},{submit:function(){var e=arguments,t=this;return Object(o.a)(regeneratorRuntime.mark((function r(){var n;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(n=!(e.length>0&&void 0!==e[0])||e[0],t.$v.$touch(),!t.pending&&!t.$v.$error){r.next=4;break}return r.abrupt("return");case 4:if(t.pending=!0,t.confirmed=n,r.prev=6,r.t0=!t.hasGeneralPower,!r.t0){r.next=12;break}return r.next=11,t.checkDriverLicense();case 11:r.t0=r.sent;case 12:if(!r.t0&&!t.hasGeneralPower){r.next=26;break}return r.prev=14,r.next=17,t.checkOtherUserInfo();case 17:r.sent?(t.pending=!1,n&&t.$emit("next")):(t.pending=!1,t.$toasted.error(t.$t("data_is_not_valid"))),r.next=24;break;case 21:r.prev=21,r.t1=r.catch(14),t.pending=!1;case 24:r.next=28;break;case 26:t.pending=!1,t.$toasted.error(t.$t("data_is_not_valid"));case 28:r.next=33;break;case 30:r.prev=30,r.t2=r.catch(6),t.pending=!1;case 33:case"end":return r.stop()}}),r,null,[[6,30],[14,21]])})))()},check:function(){var e=this;return Object(o.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.submit(!1);case 2:case"end":return t.stop()}}),t)})))()}})},H=V,Y=Object(h.a)(H,(function(){var e=this,t=e._self._c;return t("form",{staticClass:"form",attrs:{novalidate:""},on:{submit:function(t){return t.preventDefault(),e.submit.apply(null,arguments)}}},[t("form-text-input",{staticClass:"mb-2 mb-lg-3",attrs:{mask:e.$maskAlphaNumeric("*{+}"," "),placeholder:e.$t("id_fin_code"),invalid:e.$v.idFinCodeB.$error},model:{value:e.idFinCodeB,callback:function(t){e.idFinCodeB=t},expression:"idFinCodeB"}}),e._v(" "),t("form-text-input",{staticClass:"mb-2 mb-lg-3",attrs:{mask:e.$maskAlphaNumeric("*{+}"," "),placeholder:e.$t("id_serial_number"),invalid:e.$v.idSerialNumberB.$error},model:{value:e.idSerialNumberB,callback:function(t){e.idSerialNumberB=t},expression:"idSerialNumberB"}}),e._v(" "),e.hasGeneralPower?e._e():[t("form-text-input",{staticClass:"mb-2 mb-lg-3",attrs:{mask:e.$maskAlphaNumeric("*{+}"," "),placeholder:e.$t("driver_license_serial_number"),invalid:e.$v.driverLicenseNumberB.$error},model:{value:e.driverLicenseNumberB,callback:function(t){e.driverLicenseNumberB=t},expression:"driverLicenseNumberB"}})],e._v(" "),t("div",{staticClass:"row"},[t("div",{staticClass:"col"},[t("button",{class:["btn btn--green-outline full-width",{pending:e.pending&&!e.confirmed}],attrs:{type:"button"},on:{click:e.check}},[t("icon",{attrs:{name:"search"}}),e._v(" "+e._s(e.$t("find"))+"\n      ")],1)]),e._v(" "),t("div",{staticClass:"col"},[t("button",{class:["btn btn--green full-width",{pending:e.pending&&e.confirmed}],attrs:{type:"submit"}},[e._v("\n        "+e._s(e.$t("go_further"))+"\n      ")])])])],2)}),[],!1,null,null,null),z=Y.exports;function J(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}function Q(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?J(Object(source),!0).forEach((function(t){Object(n.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):J(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var W={data:function(){return{pending:!1}},computed:Q(Q({},Object(c.c)("letterOfAttorney",["stepSendData","hasGeneralPower"])),{},{mobileNotariatConfirm:{get:function(){return this.stepSendData.mobileNotariatConfirm},set:function(e){this.updateSendData({key:"mobileNotariatConfirm",value:e})}}}),methods:Q(Q({},Object(c.b)("letterOfAttorney",["updateSendData"])),{},{submit:function(){this.mobileNotariatConfirm&&this.$emit("next")}})},Z=Object(h.a)(W,(function(){var e=this,t=e._self._c;return t("form",{staticClass:"form",attrs:{novalidate:""},on:{submit:function(t){return t.preventDefault(),e.submit.apply(null,arguments)}}},[t("div",{staticClass:"scrollable-text mb-2 mb-lg-3"},[t("vue-scroll",[t("div",{staticClass:"scrollable-text_scrollview"},[t("div",{staticClass:"iframe mb-2"},[t("iframe",{attrs:{src:"https://www.youtube.com/embed/Wo1wmo5qxeQ",frameborder:"0",allowfullscreen:"",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"}})]),e._v(" "),t("div",{domProps:{innerHTML:e._s(e.$t("mobile_notariat_rules"))}})])])],1),e._v(" "),t("hr",{staticClass:"mt-0 mb-2 mb-lg-3"}),e._v(" "),t("form-checkbox",{staticClass:"mb-3 step-6__form white-space-pre-wrap",attrs:{label:e.$t("mobile_notariat_confirm"),"input-name":"mobile_notariat_confirm",transparent:"","skip-truncate":""},model:{value:e.mobileNotariatConfirm,callback:function(t){e.mobileNotariatConfirm=t},expression:"mobileNotariatConfirm"}}),e._v(" "),t("button",{class:["btn btn--green full-width",{pending:e.pending,disabled:!e.mobileNotariatConfirm}],attrs:{type:"submit"}},[e._v("\n    "+e._s(e.$t("go_further"))+"\n  ")])],1)}),[],!1,null,null,null),K=Z.exports;r(20);function X(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}function ee(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?X(Object(source),!0).forEach((function(t){Object(n.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):X(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var te={data:function(){return{pending:!1}},computed:ee(ee({},Object(c.c)("letterOfAttorney",["stepSendData"])),{},{letterPermissions:{get:function(){return this.stepSendData.letterPermissions},set:function(e){this.updateSendData({key:"letterPermissions",value:e})}},letterPermissionOptions:function(){return this.$t("letter_permission_options").map((function(e,i){return{key:i+1,name:e}}))}}),methods:ee(ee({},Object(c.b)("letterOfAttorney",["updateSendData"])),{},{submit:function(){this.$emit("next")}})},re=Object(h.a)(te,(function(){var e=this,t=e._self._c;return t("form",{staticClass:"form",attrs:{novalidate:""},on:{submit:function(t){return t.preventDefault(),e.submit.apply(null,arguments)}}},[t("div",{staticClass:"checkbox-row bg-greyish-blue-2 round-4 mb-2 mb-lg-3 pb-1 pt-1"},e._l(e.letterPermissionOptions,(function(option,r){return t("form-checkbox",{key:r,attrs:{label:e.$t(option.name),"checked-value":option.key,id:""+option.key},model:{value:e.letterPermissions,callback:function(t){e.letterPermissions=t},expression:"letterPermissions"}})})),1),e._v(" "),t("button",{class:["btn btn--green full-width",{pending:e.pending}],attrs:{type:"submit"}},[e._v("\n    "+e._s(e.$t("go_further"))+"\n  ")])])}),[],!1,null,null,null),ne=re.exports,ae=r(25);r(63);function ie(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}function se(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ie(Object(source),!0).forEach((function(t){Object(n.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):ie(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var oe={data:function(){return{pending:!1,rangeShortcut:""}},validations:{letterExpiryDate:{required:_.required}},computed:se(se({},Object(c.c)("letterOfAttorney",["stepSendData","stepReceivedData","hasGeneralPower"])),{},{letterExpiryDate:{get:function(){return this.stepSendData.letterExpiryDate},set:function(e){this.updateSendData({key:"letterExpiryDate",value:e})}},maxDate:function(){if(this.hasGeneralPower)return this.stepReceivedData.maxExpiryDate?this.$moment(this.stepReceivedData.maxExpiryDate):this.$moment().add("1","years");if(this.stepReceivedData.maxExpiryDate){var e=this.$moment(this.stepReceivedData.maxExpiryDate),t=this.$moment(this.stepReceivedData.driverLicenseExpiryDateB);if(this.$moment.duration(t.diff(e)).asDays()>0)return e}return this.$moment(this.stepReceivedData.driverLicenseExpiryDateB)},rangeShortcutOptions:function(){return[{name:this.$readPlural(1,this.$t("plural_forms_week")),key:1,params:["1","weeks"]},{name:this.$readPlural(1,this.$t("plural_forms_month")),key:3,params:["1","months"]},{name:this.$readPlural(6,this.$t("plural_forms_month")),key:5,params:["6","months"]},{name:this.$readPlural(1,this.$t("plural_forms_year")),key:6,params:["1","years"]}]}}),methods:se(se({},Object(c.b)("letterOfAttorney",["updateSendData"])),{},{disabledDatesRange:function(e){return e>this.maxDate},handleExpiryDate:function(e){var t,r,n=null===(t=this.rangeShortcutOptions.find((function(option){return option.key===e})))||void 0===t?void 0:t.params;n&&(this.letterExpiryDate=this.$moment.min(this.maxDate,(r=this.$moment()).add.apply(r,Object(ae.a)(n))).format("DD.MM.YYYY"))},submit:function(){this.$v.$touch(),this.$v.$error||this.$emit("next")}})},ce=Object(h.a)(oe,(function(){var e=this,t=e._self._c;return t("form",{staticClass:"form",attrs:{novalidate:""},on:{submit:function(t){return t.preventDefault(),e.submit.apply(null,arguments)}}},[t("form-text-input",{staticClass:"mb-2 mb-lg-3",attrs:{placeholder:e.$t("date_till"),invalid:e.$v.letterExpiryDate.$error,"disabled-date":e.disabledDatesRange,"input-date":""},on:{change:function(t){e.rangeShortcut=""}},model:{value:e.letterExpiryDate,callback:function(t){e.letterExpiryDate=t},expression:"letterExpiryDate"}}),e._v(" "),t("div",{staticClass:"mb-2 mb-lg-3"},[t("form-buttons",{attrs:{options:e.rangeShortcutOptions,"group-by":2,"btn-class":"primary-outline"},on:{change:e.handleExpiryDate},model:{value:e.rangeShortcut,callback:function(t){e.rangeShortcut=t},expression:"rangeShortcut"}})],1),e._v(" "),t("button",{class:["btn btn--green full-width",{pending:e.pending}],attrs:{type:"submit"}},[e._v("\n    "+e._s(e.$t("go_further"))+"\n  ")])],1)}),[],!1,null,null,null),ue=ce.exports;function le(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}function pe(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?le(Object(source),!0).forEach((function(t){Object(n.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):le(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var de={data:function(){return{pending:!1}},validations:{region:{required:_.required},senderPhone:{required:_.required},recepientPhone:{required:_.required}},computed:pe(pe({},Object(c.c)("letterOfAttorney",["stepSendData"])),{},{region:{get:function(){return this.stepSendData.region},set:function(e){this.updateSendData({key:"region",value:e})}},senderPhone:{get:function(){return this.stepSendData.senderPhone},set:function(e){this.updateSendData({key:"senderPhone",value:e})}},recepientPhone:{get:function(){return this.stepSendData.recepientPhone},set:function(e){this.updateSendData({key:"recepientPhone",value:e})}},letterPermissionsTransfer:{get:function(){return this.stepSendData.letterPermissionsTransfer},set:function(e){this.updateSendData({key:"letterPermissionsTransfer",value:e})}},letterConfirmData:{get:function(){return this.stepSendData.letterConfirmData},set:function(e){this.updateSendData({key:"letterConfirmData",value:e})}}}),methods:pe(pe({},Object(c.b)("letterOfAttorney",["updateSendData","checkAllData"])),{},{submit:function(){var e=this;return Object(o.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.$v.$touch(),!e.pending&&!e.$v.$error){t.next=3;break}return t.abrupt("return");case 3:return e.pending=!0,t.prev=4,t.next=7,e.checkAllData();case 7:t.sent?(e.pending=!1,e.$emit("next")):(e.pending=!1,e.$toasted.error(e.$t("data_is_not_valid"))),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(4),e.pending=!1;case 14:case"end":return t.stop()}}),t,null,[[4,11]])})))()}})},be=Object(h.a)(de,(function(){var e=this,t=e._self._c;return t("form",{staticClass:"form",attrs:{novalidate:""},on:{submit:function(t){return t.preventDefault(),e.submit.apply(null,arguments)}}},[t("form-text-input",{staticClass:"mb-2 mb-lg-3",attrs:{placeholder:e.$t("current_city"),invalid:e.$v.region.$error},model:{value:e.region,callback:function(t){e.region=t},expression:"region"}}),e._v(" "),t("form-text-input",{staticClass:"mb-2 mb-lg-3",attrs:{placeholder:e.$t("mobile_phone_number"),invalid:e.$v.senderPhone.$error,mask:e.$maskPhone(),autocomplete:"tel"},model:{value:e.senderPhone,callback:function(t){e.senderPhone=t},expression:"senderPhone"}}),e._v(" "),t("form-text-input",{staticClass:"mb-3",attrs:{placeholder:e.$t("recepient_mobile_phone_number"),invalid:e.$v.recepientPhone.$error,mask:e.$maskPhone(),autocomplete:"tel"},model:{value:e.recepientPhone,callback:function(t){e.recepientPhone=t},expression:"recepientPhone"}}),e._v(" "),t("form-checkbox",{staticClass:"mb-2 mb-lg-3 white-space-pre-wrap",attrs:{label:e.$t("letter_permissions_can_be_given"),"input-name":"letter_permissions_can_be_given",transparent:"","skip-truncate":""},model:{value:e.letterPermissionsTransfer,callback:function(t){e.letterPermissionsTransfer=t},expression:"letterPermissionsTransfer"}}),e._v(" "),t("hr",{staticClass:"mt-0 mb-2 mb-lg-3"}),e._v(" "),t("form-checkbox",{staticClass:"mb-3 white-space-pre-wrap",attrs:{label:e.$t("letter_data_confirm"),"input-name":"letter_data_confirm",transparent:"","skip-truncate":""},model:{value:e.letterConfirmData,callback:function(t){e.letterConfirmData=t},expression:"letterConfirmData"}}),e._v(" "),t("button",{class:["btn btn--green full-width",{pending:e.pending,disabled:!e.letterConfirmData}],attrs:{type:"submit"}},[e._v("\n    "+e._s(e.$t("go_further"))+"\n  ")])],1)}),[],!1,null,null,null),fe=be.exports;function me(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}function ve(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?me(Object(source),!0).forEach((function(t){Object(n.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):me(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var he={components:{VideoRecord:function(){return Promise.all([r.e(130),r.e(134)]).then(r.bind(null,1600))}},data:function(){return{pending:!1,disabled:!0,showModal:!0,showText:!1}},computed:ve(ve({},Object(c.c)("letterOfAttorney",["stepSendData","stepReceivedData"])),{},{videoFile:{get:function(){return this.stepSendData.videoFile},set:function(e){this.updateSendData({key:"videoFile",value:e})}}}),methods:ve(ve({},Object(c.b)("letterOfAttorney",["updateSendData"])),{},{submit:function(){var e=this;return Object(o.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.disabled){t.next=2;break}return t.abrupt("return");case 2:e.$emit("confirm");case 3:case"end":return t.stop()}}),t)})))()}})},ge=Object(h.a)(he,(function(){var e=this,t=e._self._c;return t("form",{staticClass:"form",attrs:{novalidate:""},on:{submit:function(t){return t.preventDefault(),e.submit.apply(null,arguments)}}},[t("div",{staticClass:"row"},[t("div",{staticClass:"col-lg-8"},[t("div",{staticClass:"video-record_wrapper"},[t("client-only",[t("video-record",{key:e.isMobileBreakpoint,on:{start:function(t){e.disabled=!0,e.showText=!0},retake:function(t){e.disabled=!0,e.showText=!1},finish:function(t){e.disabled=!1,e.showText=!1},result:function(t){e.videoFile=t}}},[t("transition",{attrs:{name:"fade"}},[e.showText&&e.isMobileBreakpoint?t("div",{staticClass:"running-text"},[t("p",[e._v(e._s(e.stepReceivedData.runningText))])]):e._e()])],1)],1)],1)]),e._v(" "),e.isMobileBreakpoint?e._e():t("div",{staticClass:"col-lg-4"},[t("h4",{staticClass:"mt-0"},[e._v(e._s(e.$t("video_recording")))]),e._v(" "),t("div",{staticClass:"info-text full-width mb-3 mt-3"},[t("icon",{attrs:{name:"alert-circle"}}),e._v(" "),t("span",[e._v(e._s(e.$t("video_recording_info_text")))])],1),e._v(" "),t("transition",{attrs:{name:"fade"}},[e.showText&&!e.isMobileBreakpoint?t("div",{staticClass:"running-text"},[t("p",[e._v(e._s(e.stepReceivedData.runningText))])]):e._e()])],1)]),e._v(" "),t("hr",{staticClass:"mb-2 mb-lg-3"}),e._v(" "),t("div",{staticClass:"row justify-content-end pb-2 pb-lg-0"},[t("div",{staticClass:"col-12 col-lg-1-5"},[t("button",{class:["btn btn--green full-width",{pending:e.pending,disabled:e.disabled}],attrs:{type:"submit"}},[e._v("\n        "+e._s(e.$t("confirm"))+"\n      ")])])]),e._v(" "),e.isMobileBreakpoint?t("modal-popup",{attrs:{toggle:e.showModal,title:"<i class='icon-alert-circle mr-6' aria-hidden='true'></i> "+e.$t("attention")},on:{close:function(t){e.showModal=!1}}},[t("p",[t("span",[e._v(e._s(e.$t("video_recording_info_text")))])])]):e._e()],1)}),[],!1,null,null,null),ye=ge.exports,_e=r(276);function Oe(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}function De(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?Oe(Object(source),!0).forEach((function(t){Object(n.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):Oe(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var je={props:{car:{},classes:{default:"btn btn--green-outline"},tag:{default:"button"}},components:{AnimatedSpinner:r(1106).a,StepsProgress:d.a,StepsSummary:y,Step1:k,Step2:C,Step3:I,Step4:F,Step5:z,Step6:K,Step7:ne,Step8:ue,Step9:fe,Step10:ye},mixins:[l.a,_e.a],data:function(){return{vehicles:{},showVehicleList:!1,showSteps:!1,finished:!1,pending:!1}},mounted:function(){this.$route.query.hasOwnProperty("attorney")&&this.showVehicles()},methods:De(De({},Object(c.b)("letterOfAttorney",["increaseStep","updateStep","resetSteps","resetAllSteps","payForSubmission","updateSendData","updateReceivedData"])),{},{selectVehicle:function(e){this.updateReceivedData([{key:"senderFullName",value:"".concat(e.name," ").concat(e.surname)},{key:"senderFatherName",value:e.fatherName}]),this.updateSendData({key:"carNumber",value:e.vehicleNumber})},continueToSteps:function(){this.stepSendData.carNumber&&(this.showVehicleList=!1,this.showSteps=!0)},getVehicles:function(e){var t=this;return Object(o.a)(regeneratorRuntime.mark((function r(){var data;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t.updateSendData({key:"carNumber",value:null}),t.pending=!0,r.next=4,t.$axios.$get("/attorney/get_vehicle_list/"+e);case 4:data=r.sent,t.pending=!1,t.$set(t,"vehicles",data);case 7:case"end":return r.stop()}}),r)})))()},showVehicles:function(){var e=this;return Object(o.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.$auth.loggedIn){t.next=4;break}return t.next=3,e.$router.push(e.$localePath("/login?param=attorney"));case 3:return t.abrupt("return",t.sent);case 4:return t.next=6,e.asanLogin();case 6:e.showVehicleList=!0;case 7:case"end":return t.stop()}}),t)})))()},pay:function(){var e=this;return Object(o.a)(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.pending){t.next=2;break}return t.abrupt("return");case 2:return e.pending=!0,t.prev=3,t.next=6,e.payForSubmission({card_id:e.bankingCard,pay_type:e.paymentMethod,is_mobile:e.isMobileBreakpoint});case 6:if(r=t.sent,"card"!==e.paymentMethod||e.bankingCard){t.next=14;break}e.pending=!1,e.showPaymentModal=!1,e.close(),e.handlePayment(r,!1,e.$t("letter_of_attorney_submitted"),"v2"),t.next=21;break;case 14:return t.next=16,Promise.all([e.$nuxt.refresh(),e.$auth.fetchUser()]);case 16:e.pending=!1,e.showPaymentModal=!1,e.bankingCard="",e.updatePaidStatus({type:"success",text:e.$t("letter_of_attorney_submitted"),title:e.$t("success_payment")}),e.close();case 21:t.next=27;break;case 23:t.prev=23,t.t0=t.catch(3),e.pending=!1,console.error(t.t0);case 27:case"end":return t.stop()}}),t,null,[[3,23]])})))()},close:function(){this.finished=!1,this.showSteps=!1,this.showVehicleList=!1,this.vehicles={},this.resetAllSteps()}}),computed:De(De({},Object(c.c)("letterOfAttorney",["stepSendData","currentStep","currentRealStep","maxSteps","hasGeneralPower"])),{},{letterTypeOptions:function(){return[{key:1,name:this.$t("letter_type_options")[0]},{key:2,name:this.$t("letter_type_options")[1]}]},letterType:{get:function(){return this.stepSendData.letterType},set:function(e){this.updateSendData({key:"letterType",value:e})}},stepHints:function(){return{1:{imgs:["id-card"]},2:{imgs:["id-card"]},3:{imgs:["drivers-card-front","drivers-card-back"]},4:{imgs:["tech-passport-front","tech-passport-back"]},5:{imgs:this.hasGeneralPower?["id-card"]:["id-card","drivers-card-front"]}}},stepInfoTitle:function(){var e=this.currentRealStep,t=this.stepSendData.letterType;return this.$t("step_".concat(e,"_").concat(5===e?t+"_":"","info_title"),{type:this.$t("letter_type_options")[t-1]})},price:function(){return this.hasGeneralPower?24:12},haveBalanceToPay:function(){return parseFloat(this.price)<=this.user.balance}})},we=(r(1323),Object(h.a)(je,(function(){this._self._c;return this._e()}),[],!1,null,null,null));t.a=we.exports},1106:function(e,t,r){"use strict";var n={name:"AnimatedSpinner"},o=r(12),component=Object(o.a)(n,(function(){this._self._c;return this._m(0)}),[function(){var e=this,t=e._self._c;return t("div",{staticClass:"lds-spinner"},[t("div"),e._v(" "),t("div"),e._v(" "),t("div"),e._v(" "),t("div"),e._v(" "),t("div"),e._v(" "),t("div"),e._v(" "),t("div"),e._v(" "),t("div"),e._v(" "),t("div"),e._v(" "),t("div"),e._v(" "),t("div"),e._v(" "),t("div")])}],!1,null,"1ef746f4",null);t.a=component.exports},1216:function(e,t,r){var content=r(1324);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(39).default)("5489326f",content,!0,{sourceMap:!1})},1323:function(e,t,r){"use strict";r(1216)},1324:function(e,t,r){var n=r(38)((function(i){return i[1]}));n.push([e.i,"@media screen and (min-width:1025px){.attorney-vehicles{width:590px}}.attorney-vehicles .attorney_scrollview{max-height:calc(100vh - 555px);min-height:255px}.attorney-vehicles .car-bg{background-color:#fff}.attorney-vehicle{border:1px solid #b6bbd5;cursor:pointer}.attorney-vehicle .vehicle-info{border-top:1px solid #b6bbd5}.attorney-vehicle .vehicle-info.active{background:#d8e6f6}.attorney-before-step1 .sub-category{color:#246eb2;font-size:15px;font-weight:400}",""]),n.locals={},e.exports=n},990:function(e,t,r){"use strict";r.d(t,"a",(function(){return w}));r(8),r(7),r(3),r(10),r(4),r(11);var n=r(1),o=r(0),c=(r(32),r(63),r(2),r(35),r(16)),l=r(274),d=r(996),f={props:{popupName:{type:String,default:"payment-popup"}},methods:{show:function(){this.$nuxt.$emit("show-terminal-info",this.popupName)}}},m=r(12),v=Object(m.a)(f,(function(){var e=this,t=e._self._c;return t("p",{staticClass:"info-text text-left"},[t("inline-svg",{attrs:{src:"/icons/alert-circle.svg"}}),e._v(" "),t("span",{staticClass:"text-medium cursor-pointer text-red",on:{click:e.show}},[e._v(e._s(e.$t("pay_with_terminal")))])],1)}),[],!1,null,null,null).exports;r(17);function h(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}var y={props:{name:{type:String,default:"payment-popup"}},data:function(){return{showTerminalInfo:!1}},computed:function(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?h(Object(source),!0).forEach((function(t){Object(o.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):h(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}({},Object(c.c)(["announcement"])),methods:{open:function(e){e===this.name&&(this.showTerminalInfo=!0,this.$emit("open"))},close:function(){this.showTerminalInfo=!1,this.$emit("close")}},mounted:function(){this.$nuxt.$on("show-terminal-info",this.open)},beforeDestroy:function(){this.$nuxt.$off("show-terminal-info",this.open)}},_=y,O=Object(m.a)(_,(function(){var e=this,t=e._self._c;return t("modal-popup",{attrs:{toggle:e.showTerminalInfo,title:e.$t("pay_with_terminal"),"modal-class":"terminal-info-popup"},on:{close:e.close}},[t("div",{staticClass:"phone-section"},[e.announcement.user?t("div",{staticClass:"phone"},[e._v("\n      "+e._s(e.$parsePhone(e.announcement.user.phone))+"\n    ")]):e._e(),e._v(" "),t("span",[e._v("\n      "+e._s(e.$t("mobile_number"))+"\n    ")])]),e._v(" "),t("hr"),e._v(" "),t("div",{staticClass:"description"},[t("img",{attrs:{src:"/images/milli-on.svg",alt:""}}),e._v(" "),t("span",[e._v(e._s(e.$t("terminal_popup_title")))])]),e._v(" "),t("div",{staticClass:"steps"},e._l(e.$t("terminal_pay_steps"),(function(r,i){return t("div",{key:i,staticClass:"step-item"},[t("div",{staticClass:"step-number"},[t("span",[e._v(e._s(i))])]),e._v(" "),t("div",{staticClass:"step-text"},[e._v(e._s(r))])])})),0),e._v(" "),t("hr"),e._v(" "),t("div",{staticClass:"row"},[t("div",{staticClass:"col-md-7"},[t("p",[e._v("\n       "+e._s(e.$t("terminal_help_description"))+"\n      ")])]),e._v(" "),t("div",{staticClass:"col-md-5"},[t("button",{staticClass:"btn btn--primary-outline full-width",attrs:{type:"button"},on:{click:e.close}},[e._v("\n        "+e._s(e.$t("go_back"))+"\n      ")])])])])}),[],!1,null,null,null).exports;function D(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}function j(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?D(Object(source),!0).forEach((function(t){Object(o.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):D(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var w={mixins:[l.a],components:{SelectBankingCard:d.a,TerminalInfoButton:v,TerminalInfoPopup:O},data:function(){return{showPaymentModal:!1,paymentMethod:"card",bankingCard:""}},mounted:function(){this.selectDefaultCard()},computed:j(j(j({},Object(c.c)({bankingCards:"bankingCards/bankingCards"})),Object(c.c)(["paidStatusData"])),{},{paymentMethodOptions:function(){return[{key:"card",name:this.$t("pay_with_card")},{key:"balance",name:this.$t("pay_with_balance"),disabled:!this.haveBalanceToPay}]}}),methods:j(j({},Object(c.b)(["updatePaidStatus"])),{},{selectDefaultCard:function(){var e=this.bankingCards.find((function(e){return e.default}));e&&(this.bankingCard=e.id)},callUpdatePaidStatus:function(e,text){var t=e?"success":"error";e||(text=this.$t("try_again")),this.updatePaidStatus({type:t,text:text,title:this.$t("".concat(t,"_payment"))})},handlePayment:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],text=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"v1";if(this.isMobileBreakpoint){var c;this.$nuxt.$loading.start(),setTimeout((function(){return t.$nuxt.$loading.finish()}),500),window.location=(null==e||null===(c=e.data)||void 0===c?void 0:c.redirect_url)||e}else{var l,d,f={v1:"width=494,height=718",v2:"width=1042,height=725"}[o];window.open((null==e||null===(l=e.data)||void 0===l?void 0:l.redirect_url)||e,"purchaseservice","toolbar=yes,scrollbars=yes,resizable=yes,top=50,left=100,"+f);var m=null==e||null===(d=e.data)||void 0===d?void 0:d.payment_id;m&&this.connectEcho("purchase.".concat(m),!1).listen("PurchaseInitiated",function(){var e=Object(n.a)(regeneratorRuntime.mark((function e(data){var n,o,c,l,d;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.showPaymentModal=!1,n=data.payment,o=n.is_paid,c=n.status,l=o||1===c,r=r instanceof Array?r[l?0:1]:r,!l){e.next=17;break}if("attorney_pay"!==data.payment.operation_key){e.next=7;break}return e.abrupt("return",t.$router.push({path:t.$localePath("/garage"),query:{tab:"attorney-list"}}));case 7:if(!t.loggedIn){e.next=10;break}return e.next=10,t.$auth.fetchUser();case 10:if(r){e.next=14;break}return e.next=13,t.$nuxt.refresh();case 13:t.callUpdatePaidStatus(l,text);case 14:localStorage.removeItem("selectedPackage"),e.next=18;break;case 17:t.callUpdatePaidStatus(l);case 18:d=function(){t.connectEcho("purchase.".concat(m),!1).stopListening("PurchaseInitiated")},r?l?t.$router.push(r,(function(){t.callUpdatePaidStatus(l,text),d()})):(t.$store.dispatch("fetchResetForm",!1),t.callUpdatePaidStatus(l,text),d()):d(),"offer_payment_key"==data.payment.operation_key&&l&&setTimeout((function(){t.$router.push("/offer")}),2e3);case 21:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}}),watch:{bankingCards:function(e){this.selectDefaultCard()},haveBalanceToPay:function(e){e||(this.paymentMethod="card")}}}},996:function(e,t,r){"use strict";r(15),r(8),r(7),r(3),r(10),r(4),r(11);var n=r(1),o=r(0),c=(r(32),r(20),r(24),r(63),r(2),r(16));function l(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}function d(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?l(Object(source),!0).forEach((function(t){Object(o.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):l(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var f={props:{value:{},showCardImage:{type:Boolean,default:!0}},computed:d(d({},Object(c.c)({bankingCards:"bankingCards/bankingCards"})),{},{activeCardId:{get:function(){return this.value},set:function(e){this.$emit("input",e)}},cardOptions:function(){var e=this;return this.bankingCards.map((function(t){return{key:t.id,name:e.$parseCardNum(t.masked_pan).join(" "),icon:"/img/cards/".concat(t.brand.toLowerCase()).concat(e.isDarkMode?"-white":"",".svg"),brand:t.brand}}))},activeCard:function(){var e=this;return this.bankingCards.find((function(t){return t.id===e.activeCardId}))}}),methods:d(d({},Object(c.b)({getBankingCards:"bankingCards/getBankingCards"})),{},{cardNumber:function(e){return this.$parseCardNum(e).map((function(e){return"<span>".concat(e,"</span>")})).join("")}}),fetch:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getBankingCards();case 2:case"end":return t.stop()}}),t)})))()}},m=r(12),component=Object(m.a)(f,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"select-banking-card"},[t("form-select",{attrs:{label:e.$t("pay_with_card"),options:e.cardOptions,"clear-option-text":e.$t("other_card"),"clear-option-pull-down":!0,"has-cards":!0,"skip-select":!0,"img-key":"icon"},model:{value:e.activeCardId,callback:function(t){e.activeCardId=t},expression:"activeCardId"}}),e._v(" "),e.activeCard&&e.showCardImage?t("div",{staticClass:"banking-cards_item mt-3"},[t("div",{staticClass:"card-img"},[t("img",{attrs:{src:"/img/cards/card-".concat(e.activeCard.brand.toLowerCase(),"-").concat(e.activeCard.img,".png"),alt:e.activeCard.brand}})]),e._v(" "),t("div",{staticClass:"card-details d-flex flex-column justify-content-between"},[t("div",{staticClass:"card-top d-flex"}),e._v(" "),t("div",{staticClass:"card-number d-flex justify-content-between",domProps:{innerHTML:e._s(e.cardNumber(e.activeCard.masked_pan))}}),e._v(" "),e._m(0)])]):e._e()],1)}),[function(){var e=this._self._c;return e("div",{staticClass:"card-bottom d-flex"},[e("span",[this._v("**/**")])])}],!1,null,null,null);t.a=component.exports}}]);