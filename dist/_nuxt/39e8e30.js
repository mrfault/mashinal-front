(window.webpackJsonp=window.webpackJsonp||[]).push([[51],{1022:function(e,t,r){"use strict";r.d(t,"a",(function(){return n}));r(27),r(48),r(3),r(2);var n={data:function(){return{errors:[],toasts:{}}},methods:{showError:function(e,t){var r=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];this.toasts[e]=this.$toasted.error(t,{duration:0,action:{text:this.$t("update")}}),this.toasts[e].el.addEventListener("click",(function(){r.scrollTo("#anchor-".concat(n.fieldView||e),n.offset||0)})),o&&this.scrollTo("#anchor-".concat(n.fieldView||e),n.offset||0)},removeError:function(e){(arguments.length>1&&void 0!==arguments[1]&&arguments[1]||this.form[e]&&""!==this.form[e])&&this.errors.includes(e)&&(this.errors=this.errors.filter((function(t){return t!==e})),this.toasts[e].goAway(100))},clearErrors:function(){this.errors=[],this.toasts={},this.$toasted.clear()},isInvalid:function(e){return this.errors.includes(e)},hasValue:function(e,t){var r=void 0!==t?this.form[e][t]:this.form[e];return{"has-value":null!=r&&(r.length||""!==r)}}},mounted:function(){this.$nuxt.$on("clear-toast-errors",this.clearErrors)},beforeDestroy:function(){this.$toasted.clear(),this.$nuxt.$off("clear-toast-errors",this.clearErrors)}}},1024:function(e,t,r){"use strict";r.d(t,"a",(function(){return n}));r(2),r(15);var n={methods:{ymapsScriptLoad:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new Promise((function(r,n){if(window.ymaps)return r();if(document.getElementById("yandex-maps-script"))e.$nuxt.$on("ymaps-script-loaded",(function(){r()}));else{var o=document.createElement("SCRIPT"),l=t.apiKey,c=void 0===l?e.$env.YANDEX_MAPS_API:l,d=t.lang,m=void 0===d?"az_AZ":d,f=t.version,h=void 0===f?"2.1":f,v=t.coordorder,y=void 0===v?"latlong":v,w=t.debug,_=void 0===w?!!e.$env.DEV:w,k=t.enterprise,x=void 0!==k&&k,$=_?"debug":"release",C="lang=".concat(m,"&apikey=").concat(c,"&mode=").concat($,"&coordorder=").concat(y),link="https://".concat(x?"enterprise.":"","api-maps.yandex.ru/").concat(h,"/?").concat(C);o.setAttribute("src",link),o.setAttribute("async",""),o.setAttribute("defer",""),o.setAttribute("id","yandex-maps-script"),document.head.appendChild(o),o.onload=function(){e.$nuxt.$emit("ymaps-script-loaded"),r()},o.onerror=function(){n()}}}))}}}},1052:function(e,t,r){"use strict";r(52),r(20);var n=r(1024),o={props:{lat:Number,lng:Number,address:String},mixins:[n.a],data:function(){return{showMap:!1,map:null,placemark:null,cacheLat:this.lat,cacheLng:this.lng,cacheAddress:this.address}},methods:{beforeInit:function(){var e=this;this.ymapsScriptLoad().then((function(){ymaps.ready(e.init)})),this.cacheLat=this.lat,this.cacheLng=this.lng,this.cacheAddress=this.address},init:function(){var e=this;this.map=new ymaps.Map("map",{center:[this.lat||40.400651,this.lng||49.8694303],zoom:12,controls:["zoomControl"]},{restrictMapArea:[[85,-178.9],[-73.87011,180]]}),this.placemark=new ymaps.Placemark(this.map.getCenter(),{},{draggable:!0,iconLayout:"default#imageWithContent",iconLayoutSize:[28,40],iconImageHref:"",iconImageOffset:[-14,-40],iconContentLayout:ymaps.templateLayoutFactory.createClass('\n          <div class="map-placemark">\n            <img src="/icons/maps-placeholder.svg" alt="" />\n          </div>\n        ')}),this.placemark.events.add("beforedragstart",(function(e){document.querySelector(".map-placemark").classList.add("grabbing")})),this.placemark.events.add("dragend",(function(t){var r=t.get("target").geometry.getCoordinates();e.applyCoordinates(r),e.map.setCenter(r,e.map.getZoom(),{duration:300}),document.querySelector(".map-placemark").classList.remove("grabbing")})),this.map.geoObjects.add(this.placemark);var t=new ymaps.control.GeolocationControl({options:{noPlacemark:!0}});t.events.add("locationchange",(function(t){var r=t.get("position");e.placemark.geometry.setCoordinates(r),e.applyCoordinates(r),e.map.setCenter(r,e.map.getZoom(),{duration:300})})),this.map.controls.add(t)},applyCoordinates:function(e){var t=this;this.$emit("change-latlng",{lat:e[0],lng:e[1]}),ymaps.geocode(e).then((function(e){var data=e.geoObjects.get(0).properties.getAll();t.$emit("change-address",data.text)}))},savePlaceOnMap:function(){this.map&&(this.lat||this.lng||this.placemark.events.fire("dragend"),this.showMap=!1)},closeMap:function(){var e=this;this.$emit("change-latlng",{lat:this.cacheLat,lng:this.cacheLng}),this.$emit("change-address",this.cacheAddress),this.$nextTick((function(){e.showMap=!1}))},handleEscapeKey:function(e){"Escape"===e.key&&this.closeMap()}},mounted:function(){window.addEventListener("keydown",this.handleEscapeKey)},beforeDestroy:function(){window.removeEventListener("keydown",this.handleEscapeKey)}},l=(r(1126),r(12)),component=Object(l.a)(o,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"show-map-button"},[t("button",{staticClass:"btn btn--dark-blue full-width",on:{click:function(t){e.showMap=!0}}},[e._v("\n      "+e._s(e.$t("map"))+"\n      "),t("icon",{attrs:{name:"placeholder"}})],1),e._v(" "),t("portal",{attrs:{to:"modals"}},[e.showMap?t("backdrop",{on:{click:e.closeMap,mount:e.beforeInit},scopedSlots:e._u([{key:"default",fn:function(r){var n=r.show;return[t("transition",{attrs:{name:"fade"}},[t("div",{directives:[{name:"show",rawName:"v-show",value:n,expression:"show"}],staticClass:"map-wrapper",on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:(t.preventDefault(),e.savePlaceOnMap.apply(null,arguments))}}},[t("div",{staticClass:"full-width",on:{click:function(e){e.stopPropagation()}}},[t("div",{staticClass:"row mt-2 mt-lg-3"},[t("div",{staticClass:"col-lg-10"},[e._t("default")],2),e._v(" "),t("div",{staticClass:"col-lg-2 mt-2 mt-lg-0"},[t("button",{staticClass:"btn btn--green full-width",on:{click:e.savePlaceOnMap}},[e._v("\n                              "+e._s(e.$t("confirm"))+"\n                           ")])])])]),e._v(" "),t("div",{staticClass:"map lower mt-3",on:{click:function(e){e.stopPropagation()}}},[t("div",{attrs:{id:"map"}})])])])]}}],null,!0)}):e._e()],1)],1)}),[],!1,null,null,null);t.a=component.exports},1076:function(e,t,r){var content=r(1127);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(39).default)("6c187c4a",content,!0,{sourceMap:!1})},1103:function(e,t,r){"use strict";r(17),r(74),r(7),r(53),r(79);var n=r(25),o=r(1),l=(r(32),r(52),r(22),r(42),r(41),r(14),r(69),r(63),r(2),r(586),r(221),r(8),r(3),r(1075)),c=r.n(l),d=r(1022),m=r(275);function f(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return h(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return h(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var i=0,n=function(){};return{s:n,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,l=!0,c=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return l=e.done,e},e:function(e){c=!0,o=e},f:function(){try{l||null==r.return||r.return()}finally{if(c)throw o}}}}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,r=new Array(t);i<t;i++)r[i]=e[i];return r}var v={mixins:[d.a,m.a],components:{Draggable:c.a},props:{itemClass:{type:[String,Array,Object],required:!1,default:"col-4 col-lg-1-5 mb-lg-3 mb-2"},rotatable:{type:Boolean,required:!1,default:!1},maxFiles:{type:Number,required:!0},uploadPath:{required:!1},initialFiles:{type:Array,required:!1,default:function(){return[]}}},data:function(){return{files:[],date:Math.floor(Date.now()/1e3)}},mounted:function(){this.files=JSON.parse(JSON.stringify(this.initialFiles))},methods:{handleFiles:function(e){var t=this;return Object(o.a)(regeneratorRuntime.mark((function r(){var o,l,c,d;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:o=Object(n.a)(e.target.files),t.files.length+o.length>=t.maxFiles&&(o=o.slice(0,t.maxFiles-t.files.length),t.$toast.error(t.$t("you_can_add_a_maximum_of_count_photos",{count:t.maxFiles}))),l=f(o),r.prev=3,d=regeneratorRuntime.mark((function e(){var r,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=c.value,r.type.match("image.*")){e.next=4;break}return e.abrupt("return","break");case 4:n=String(Math.random()).split(".")[1],t.files.push({key:n,preview:null,blob:null,loading:!0}),t.getResizedImage(r).then((function(e){t.fileLoaded(e,n)}));case 7:case"end":return e.stop()}}),e)})),l.s();case 6:if((c=l.n()).done){r.next=13;break}return r.delegateYield(d(),"t0",8);case 8:if("break"!==r.t0){r.next=11;break}return r.abrupt("break",13);case 11:r.next=6;break;case 13:r.next=18;break;case 15:r.prev=15,r.t1=r.catch(3),l.e(r.t1);case 18:return r.prev=18,l.f(),r.finish(18);case 21:e.target.value="";case 22:case"end":return r.stop()}}),r,null,[[3,15,18,21]])})))()},fileLoaded:function(e,t){var r=this;return Object(o.a)(regeneratorRuntime.mark((function n(){var o,l;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((o=r.files.find((function(e){return e.key===t}))).preview=URL.createObjectURL(e),o.blob=e,o.loading=!0,!r.uploadPath){n.next=9;break}return n.next=7,r.uploadFile(e);case 7:(l=n.sent)?(r.setFilePropertyByKey(t,"id",l.id),r.setFilePropertyByKey(t,"preview",l.path)):r.deleteFile(t);case 9:r.setFilePropertyByKey(t,"loading",!1);case 10:case"end":return n.stop()}}),n)})))()},uploadFile:function(e){var t=this;return Object(o.a)(regeneratorRuntime.mark((function r(){var n,data,o,l;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return(n=new FormData).append("temp_id",t.date),n.append("images[]",e),r.prev=3,r.next=6,t.$axios.$post(t.uploadPath,n,{headers:{"Content-Type":"multipart/form-data"}});case 6:return data=r.sent,r.abrupt("return",{id:data.ids[0],path:data.images[0]});case 10:if(r.prev=10,r.t0=r.catch(3),(o=r.t0.response.data).data&&Object.keys(o.data).length)for(l in o.data)t.$toast.error(o.data[l][0]);case 14:case"end":return r.stop()}}),r,null,[[3,10]])})))()},rotateFile:function(e){var t=this;return Object(o.a)(regeneratorRuntime.mark((function r(){var n,o,data,l,c;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(n=t.files.find((function(t){return t.key===e})))){r.next=17;break}return t.setFilePropertyByKey(e,"loading",!0),r.prev=3,r.next=6,t.$axios.$get("/media/".concat(n.id,"/rotate/right"));case 6:o=r.sent,data=o.data,t.setFilePropertyByKey(e,"preview",data.thumb),r.next=16;break;case 11:for(c in r.prev=11,r.t0=r.catch(3),l=r.t0.response.data.data,t.clearErrors(),l)t.$toasted.error(l[c]);case 16:t.setFilePropertyByKey(e,"loading",!1);case 17:case"end":return r.stop()}}),r,null,[[3,11]])})))()},deleteFile:function(e){var t=this.files.find((function(t){return t.key===e}));this.files=this.files.filter((function(t){return t.key!==e})),this.$emit("fileDeleted",{deletedFile:t,files:this.files})},setFilePropertyByKey:function(e,t,r){var n=this.files.find((function(t){return t.key===e}));n&&(n[t]=r),this.$forceUpdate()}},computed:{loading:function(){return Boolean(this.files.filter((function(e){return e.loading})).length)}},watch:{initialFiles:{deep:!0,handler:function(e){this.files=JSON.parse(JSON.stringify(e))}},files:{deep:!0,handler:function(e){this.$emit("change",e)}},loading:function(e){this.$emit("loading",e)}}},y=r(12),component=Object(y.a)(v,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"form-gallery mb-n2 mb-lg-n3"},[t("draggable",{staticClass:"row full-width",attrs:{draggable:".draggable"},model:{value:e.files,callback:function(t){e.files=t},expression:"files"}},[e._l(e.files,(function(r){return t("div",{key:r.key,staticClass:"draggable",class:e.itemClass},[t("div",{staticClass:"form-gallery_thumbnail"},[r.loading?t("loader"):[t("img",{attrs:{src:r.preview}}),e._v(" "),t("div",{staticClass:"overlay"},[e.rotatable?t("button",{staticClass:"btn-transparent",attrs:{type:"button"},on:{click:function(t){return t.preventDefault(),e.rotateFile(r.key)}}},[t("inline-svg",{attrs:{src:"/icons/reset-new.svg",height:"14"}})],1):e._e(),e._v(" "),t("button",{staticClass:"btn-transparent ml-auto",attrs:{type:"button"},on:{click:function(t){return t.stopPropagation(),e.deleteFile(r.key)}}},[t("icon",{attrs:{name:"cross"}})],1)])]],2)])})),e._v(" "),e.files.length<this.maxFiles?t("div",{class:e.itemClass},[t("label",{staticClass:"form-gallery_thumbnail add-image cursor-pointer",attrs:{for:"upload-input"}},[t("input",{staticClass:"sr-only",attrs:{id:"upload-input",type:"file",accept:"image/*",multiple:""},on:{change:e.handleFiles}}),e._v(" "),t("div",{staticClass:"overlay"},[t("inline-svg",{attrs:{src:"/icons/camera.svg",height:14}}),e._v(" "),t("p",[e._v(e._s(e.$t("add_image")))])],1)])]):e._e(),e._v(" "),t("template",{slot:"header"},[e._t("header")],2)],2)],1)}),[],!1,null,null,null);t.a=component.exports},1126:function(e,t,r){"use strict";r(1076)},1127:function(e,t,r){var n=r(38)((function(i){return i[1]}));n.push([e.i,".btn--dark-blue{background-color:#e3e8ef;border:1px solid #e3e8ef;border-radius:8px;color:#121926;font-size:16px;font-weight:500;gap:4px;height:52px;justify-content:center;letter-spacing:0;line-height:20px;padding:14px 16px;text-align:center;width:164px}.btn--dark-blue i{margin-left:5px}.btn--green{border-radius:8px;gap:8px;height:52px;padding:14px 16px;width:240px}.backdrop{align-items:center;display:flex;justify-content:center}.backdrop .map-wrapper{background-color:#fff;border:1px solid #fff;border-radius:12px;height:-moz-max-content;height:max-content;max-height:-moz-max-content;max-height:max-content;padding:20px}.map.lower{border-radius:12px}",""]),n.locals={},e.exports=n},1595:function(e,t,r){"use strict";r.r(t);r(17),r(7),r(53),r(10),r(11);var n=r(28),o=r(0),l=r(25),c=r(1),d=(r(32),r(2),r(42),r(41),r(20),r(22),r(3),r(14),r(21),r(123),r(69),r(99),r(40),r(27),r(4),r(48),r(8),r(15),r(35),r(16)),m=r(1022),f=r(1052),h=r(1103);function v(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}function y(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?v(Object(source),!0).forEach((function(t){Object(o.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):v(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var w={name:"pages-dashboard-settings",mixins:[m.a],components:{PickOnMapButton:f.a,FormGallery:h.a},middleware:["auth_general","auth_salon"],nuxtI18n:{paths:{az:"/idareetme-paneli/:type/parametrler-old"}},head:function(){return this.$headMeta({title:this.$t("user_information_edit")})},asyncData:function(e){return Object(c.a)(regeneratorRuntime.mark((function t(){var r,n,o,c;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.store,n=e.route,o=e.app,t.next=3,Promise.all([r.dispatch("getOptions"),r.dispatch("getMySalon",{id:o.$getDashboardId(n.params.type)})]);case 3:return c=r.getters.mySalon,t.abrupt("return",{showPasswordModal:!1,refreshCroppa:0,pending:!1,pwdForm:{old:"",password:"",password_confirmation:""},form:{name:c.name||"",phones:Object(l.a)(c.phones||[]).map((function(e){return"+"+e})),telegram:Object(l.a)(c.telegram||[]).slice(0,(c.phones||[]).length),whatsapp:Object(l.a)(c.whatsapp||[]).slice(0,(c.phones||[]).length),address:c.address||"",lat:c.lat||0,lng:c.lng||0,region_id:c.region_id||1,working_days:Object(l.a)(c.working_days||[]),working_hours:y({},c.working_hours)||{start:"09:00",end:"18:00"},short_description:c.short_description||"",description:c.description||"",logo:null,cover:null,facebook:c.facebook||"",instagram:c.instagram||"",short_number:c.short_number||"",remove_cover:!1,remove_logo:!1},files:[],hasLogo:!!c.logo,hasCover:!!c.cover});case 5:case"end":return t.stop()}}),t)})))()},computed:y(y({},Object(d.c)(["sellOptions","mySalon"])),{},{crumbs:function(){return[{name:this.$t("dashboard"),route:"/dashboard/"+this.$route.params.type},{name:this.$t("user_information_edit")}]},hoursOptions:function(){for(var e=[],i=0;i<24;i++){var t="".concat(i<10?"0"+i:i,":00");e.push({name:t,key:t})}return e},daysOptions:function(){for(var e=[],i=1;i<=7;i++)e.push(this.getDayOption(i));return e},initialFiles:function(){var e,t,r=this;return(null===(e=this.mySalon)||void 0===e||null===(t=e.gallery_thumbs)||void 0===t?void 0:t.map((function(image,e){return{preview:image,id:r.mySalon.gallery_ids[e],key:r.mySalon.gallery_ids[e]}})))||[]}}),methods:y(y({},Object(d.b)(["updateMySalon","getMySalon"])),{},{removeImage:function(e){var t=this;return Object(c.a)(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:"cover"===e?t.$set(t.form,"remove_cover",!0):t.$set(t.form,"remove_logo",!0),t.refreshCroppa++;case 2:case"end":return r.stop()}}),r)})))()},submit:function(){var e=this;return Object(c.a)(regeneratorRuntime.mark((function t(){var r,o,l,c,d,m,f,h,v,y,data,w;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.pending){t.next=2;break}return t.abrupt("return");case 2:e.clearErrors(),e.pending=!0,e.form.phones=e.form.phones.filter((function(t,i){var r=t&&12===t.replace(/[\+\-\(\)]|[ ]|[\_]/g,"").length;return r||(e.form.telegram.splice(i,1),e.form.whatsapp.splice(i,1)),r})),e.form.phones.length||e.$set(e.form.phones,0,""),["facebook","instagram"].map((function(t){e.form[t].match(new RegExp(/^(https?|chrome):\/\/[^\s$.?#].[^\s]*$/))||(e.form[t]="")})),r=new FormData,t.t0=regeneratorRuntime.keys(e.form);case 9:if((t.t1=t.t0()).done){t.next=29;break}if("name"!==(o=t.t1.value)){t.next=13;break}return t.abrupt("continue",9);case 13:if(l=e.form[o],c=["cover","logo"].includes(o),d="object"===Object(n.a)(l)&&!c,"phones"===o&&(l=l.map((function(e){return e.replace(/[\+\-\(\)]|[ ]/g,"")}))),!c){t.next=26;break}if(("logo"!==o||e.hasLogo)&&("cover"!==o||e.hasCover)){t.next=20;break}return t.abrupt("continue",9);case 20:return t.next=22,null===(m=l)||void 0===m?void 0:m.promisedBlob("image/jpeg",.8);case 22:l=t.sent,r.append(o,l),t.next=27;break;case 26:l&&r.append(o,d?JSON.stringify(l):l);case 27:t.next=9;break;case 29:return e.files.forEach((function(e){e.hasOwnProperty("blob")&&r.append("saved_gallery[]",e.blob)})),f=[],e.files.forEach((function(e,t){e.hasOwnProperty("id")&&f.push({position:t,id:e.id})})),r.append("gallery_ids",JSON.stringify(f)),h=[],e.mySalon.gallery_ids.forEach((function(t){e.files.map((function(e){return e.id})).includes(t)||h.push(t)})),r.append("deleted_gallery",JSON.stringify(h)),r.append("gallery_count",e.files.length),t.prev=37,t.next=40,e.updateMySalon({id:e.$getDashboardId(e.$route.params.type),form:r});case 40:return t.next=42,Promise.all([e.getMySalon({id:e.$getDashboardId(e.$route.params.type)}),e.$auth.fetchUser()]);case 42:e.$toasted.success(e.$t("saved_changes")),e.$set(e.form,"logo",null),e.$set(e.form,"cover",null),e.$nuxt.$emit("gallery-update"),e.pending=!1,t.next=60;break;case 49:t.prev=49,t.t2=t.catch(37),v=t.t2.response,v.status,y=v.data,data=y.data,y.message,e.clearErrors(),e.pending=!1,w=0,Object.keys(data).reverse().map((function(t){e.errors.push(t),e.showError(t,data[t][0],{fieldView:t,offset:e.isMobileBreakpoint?-15:-20},0===w),w++}));case 60:case"end":return t.stop()}}),t,null,[[37,49]])})))()},getSalonImg:function(e){return this.form["remove_".concat(e)]?"/img/salon-".concat("cover"===e?"".concat(e,"-").concat(this.mySalon.type_id):e,"-").concat(this.colorMode,".jpg"):this.mySalon[e]?this.$withBaseUrl(this.mySalon[e]):"/img/salon-".concat("cover"===e?"".concat(e,"-").concat(this.mySalon.type_id):e,"-").concat(this.colorMode,".jpg")},getDayOption:function(i){return i=parseInt(i),{name:this.$t("days")[i-1],nameShort:this.$t("days-short")[i-1],key:i}},focusOnPhoneInput:function(i){var e=this;setTimeout((function(){e.$nextTick((function(){document.getElementById("phone_"+i).focus()}))}),0)},updateAddress:function(address){this.form.address=address,this.removeError("address")},updateLatLng:function(e){var t=e.lat,r=e.lng;this.form.lat=t,this.form.lng=r},changePassword:function(){var e=this;return Object(c.a)(regeneratorRuntime.mark((function t(){var data;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.pending){t.next=2;break}return t.abrupt("return");case 2:return e.pending=!0,t.prev=3,t.next=6,e.$axios.$post("/profile/change_password",e.pwdForm);case 6:data=t.sent,e.pwdForm.old="",e.pwdForm.password="",e.pwdForm.password_confirmation="",e.pending=!1,e.showPasswordModal=!1,e.$nextTick((function(){e.$toasted.show(data.message,{type:"success"})})),t.next=18;break;case 15:t.prev=15,t.t0=t.catch(3),e.pending=!1;case 18:case"end":return t.stop()}}),t,null,[[3,15]])})))()},filesOnChange:function(e){this.files=e}}),created:function(){this.form.phones.length||this.$set(this.form.phones,0,"")}},_=r(12),component=Object(_.a)(w,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"pages-dashboard-settings pt-2 pt-lg-5"},[t("div",{staticClass:"container"},[t("breadcrumbs",{attrs:{crumbs:e.crumbs}}),e._v(" "),t(e.isMobileBreakpoint?"mobile-screen":"div",{tag:"component",attrs:{"bar-title":e.$t("user_information_edit"),"height-auto":""},on:{back:function(t){e.$router.push(e.pageRef||e.$localePath("/dashboard/"+e.$route.params.type))}}},[t("div",{staticClass:"card profile-settings-card"},[t("div",{staticClass:"row flex-wrap position-relative cover-with-avatar_edit"},[t("div",{staticClass:"avatar_edit col-auto mb-2",attrs:{id:"anchor-logo"}},[t("div",{staticClass:"avatar_edit-inner"},[t("form-image",{attrs:{refreshCroppa:e.refreshCroppa,type:"logo","initial-image":e.getSalonImg("logo"),"no-image":!e.hasLogo,width:e.isMobileBreakpoint?80:100,height:e.isMobileBreakpoint?80:100,croppable:"",autoSizing:!1},on:{removeImage:e.removeImage,"new-image":function(t){e.hasLogo=!0}},model:{value:e.form.logo,callback:function(t){e.$set(e.form,"logo",t)},expression:"form.logo"}})],1)]),e._v(" "),t("div",{staticClass:"avatar_edit col-auto mb-2 cover",attrs:{id:"anchor-cover"}},[t("div",{staticClass:"avatar_edit-inner"},[t("form-image",{attrs:{refreshCroppa:e.refreshCroppa,type:"cover","initial-image":e.getSalonImg("cover"),"no-image":!e.hasCover,croppable:"","auto-sizing":""},on:{removeImage:e.removeImage,"new-image":function(t){e.hasCover=!0}},model:{value:e.form.cover,callback:function(t){e.$set(e.form,"cover",t)},expression:"form.cover"}})],1)]),e._v(" "),e.isMobileBreakpoint?e._e():t("p",{domProps:{innerHTML:e._s(e.$t("logo_and_cover_sizing_info"))}})]),e._v(" "),e.isMobileBreakpoint?t("p",{domProps:{innerHTML:e._s(e.$t("logo_and_cover_sizing_info"))}}):e._e(),e._v(" "),t("div",{staticClass:"row"},[t("div",{staticClass:"col-lg-4 mb-2 mb-lg-3"},[t("form-text-input",{attrs:{maxlength:30,placeholder:e.$t("name"),invalid:e.isInvalid("name"),disabled:""},on:{change:function(t){return e.removeError("name")}},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),e._v(" "),e._l(3,(function(i){return t("div",{key:i,staticClass:"col-lg-4 mb-2 mb-lg-3",attrs:{id:"anchor-phones"+(1===i?"":i)}},[1===i||"string"==typeof e.form.phones[i-1]?t("form-text-input",{attrs:{autocomplete:"tel","has-inputs":"",id:"phone_"+i,placeholder:e.$t("contact_number"),mask:e.$maskPhone(),invalid:e.isInvalid("phones")},on:{change:function(t){return e.removeError("phones")}},scopedSlots:e._u([{key:"inputs",fn:function(){return[t("form-checkbox",{attrs:{"input-name":"telegram_"+i,transparent:"",label:"<img src='/icons/telegram-circle.svg' alt='' />"},model:{value:e.form.telegram[i-1],callback:function(t){e.$set(e.form.telegram,i-1,t)},expression:"form.telegram[i - 1]"}}),e._v(" "),t("form-checkbox",{attrs:{"input-name":"whatsapp_"+i,transparent:"",label:"<img src='/icons/whatsapp-circle.svg' alt='' />"},model:{value:e.form.whatsapp[i-1],callback:function(t){e.$set(e.form.whatsapp,i-1,t)},expression:"form.whatsapp[i - 1]"}})]},proxy:!0}],null,!0),model:{value:e.form.phones[i-1],callback:function(t){e.$set(e.form.phones,i-1,t)},expression:"form.phones[i - 1]"}}):t("button",{staticClass:"btn btn--primary-outline full-width text-left",on:{click:function(t){e.$set(e.form.phones,i-1,""),e.focusOnPhoneInput(i)}}},[t("icon",{attrs:{name:"plus-circle"}}),e._v("\n                     "+e._s(e.$t(2==i?"add_second_number":"add_third_number"))+"\n                  ")],1)],1)})),e._v(" "),t("div",{staticClass:"col-lg-4 mb-2 mb-lg-3",attrs:{id:"anchor-facebook"}},[t("form-text-input",{attrs:{placeholder:e.$t("short_number")},model:{value:e.form.short_number,callback:function(t){e.$set(e.form,"short_number",t)},expression:"form.short_number"}})],1),e._v(" "),t("div",{staticClass:"col-lg-4 mb-2 mb-lg-3",attrs:{id:"anchor-region_id"}},[t("form-select",{attrs:{label:e.$t("region"),options:e.sellOptions.regions,"has-search":"",invalid:e.isInvalid("region_id")},on:{change:function(t){return e.removeError("region_id")}},model:{value:e.form.region_id,callback:function(t){e.$set(e.form,"region_id",t)},expression:"form.region_id"}})],1),e._v(" "),t("div",{staticClass:"col-lg-4 mb-2 mb-lg-3",attrs:{id:"anchor-address"}},[t("form-text-input",{attrs:{placeholder:e.$t("address"),"icon-name":"placeholder",invalid:e.isInvalid("address")},on:{change:function(t){return e.removeError("address")}},model:{value:e.form.address,callback:function(t){e.$set(e.form,"address",t)},expression:"form.address"}})],1),e._v(" "),t("div",{staticClass:"col-lg-2 mb-2 mb-lg-3"},[t("pick-on-map-button",{attrs:{lat:e.form.lat,lng:e.form.lng,address:e.form.address},on:{"change-address":e.updateAddress,"change-latlng":e.updateLatLng}},[t("form-text-input",{attrs:{placeholder:e.$t("address"),"icon-name":"placeholder",invalid:e.isInvalid("address")},on:{change:function(t){return e.removeError("address")}},model:{value:e.form.address,callback:function(t){e.$set(e.form,"address",t)},expression:"form.address"}})],1)],1),e._v(" "),t("div",{staticClass:"col-lg-2 mb-2 mb-lg-3"},[t("button",{staticClass:"btn btn--dark-blue-2-outline full-width",on:{click:function(t){e.showPasswordModal=!0}}},[e._v("\n                     "+e._s(e.$t("change_password"))+"\n                  ")]),e._v(" "),t("modal-popup",{attrs:{toggle:e.showPasswordModal,title:e.$t("change_password_title")},on:{close:function(t){e.showPasswordModal=!1}}},[t("form",{staticClass:"form",attrs:{novalidate:""},on:{submit:function(t){return t.preventDefault(),e.changePassword.apply(null,arguments)}}},[t("div",{staticClass:"mb-2 mb-lg-3"},[t("form-text-input",{attrs:{type:"password",autocomplete:"old-password",maxlength:255,placeholder:e.$t("current_password")},model:{value:e.pwdForm.old,callback:function(t){e.$set(e.pwdForm,"old",t)},expression:"pwdForm.old"}})],1),e._v(" "),t("div",{staticClass:"mb-2 mb-lg-3"},[t("form-text-input",{attrs:{type:"password",autocomplete:"new-password",maxlength:255,placeholder:e.$t("new_password")},model:{value:e.pwdForm.password,callback:function(t){e.$set(e.pwdForm,"password",t)},expression:"pwdForm.password"}})],1),e._v(" "),t("div",{staticClass:"mb-2 mb-lg-3"},[t("form-text-input",{attrs:{type:"password",autocomplete:"new-password",maxlength:255,placeholder:e.$t("confirm_new_password")},model:{value:e.pwdForm.password_confirmation,callback:function(t){e.$set(e.pwdForm,"password_confirmation",t)},expression:"pwdForm.password_confirmation"}})],1),e._v(" "),t("button",{class:["btn btn--green full-width",{pending:e.pending&&e.showPasswordModal}],attrs:{type:"submit"}},[e._v("\n                           "+e._s(e.$t("confirm"))+"\n                        ")])])])],1),e._v(" "),t("div",{staticClass:"col-lg-4 mb-2 mb-lg-3",attrs:{id:"anchor-working_days"}},[t("form-select",{attrs:{label:e.$t("work_days"),options:e.daysOptions,"clear-option":!1,invalid:e.isInvalid("working_days"),multiple:"","short-names-label":""},on:{change:function(t){return e.removeError("working_days")}},model:{value:e.form.working_days,callback:function(t){e.$set(e.form,"working_days",t)},expression:"form.working_days"}})],1),e._v(" "),t("div",{staticClass:"col-lg-4 mb-2 mb-lg-3",attrs:{id:"anchor-working_hours"}},[t("form-select",{attrs:{label:e.$t("work_hours"),custom:"",values:{from:e.form.working_hours.start,to:e.form.working_hours.end,showPreposition:!1},"allow-clear":!1}},[t("div",{staticClass:"form-merged"},[t("form-select",{attrs:{label:e.$t("from_time"),options:e.hoursOptions,"show-label-on-select":!1,"clear-option":!1,"allow-clear":!1,wider:""},on:{change:function(t){return e.removeError("working_time")}},model:{value:e.form.working_hours.start,callback:function(t){e.$set(e.form.working_hours,"start",t)},expression:"form.working_hours.start"}}),e._v(" "),t("form-select",{attrs:{label:e.$t("to_time"),options:e.hoursOptions,"show-label-on-select":!1,"clear-option":!1,"allow-clear":!1,wider:""},on:{change:function(t){return e.removeError("working_time")}},model:{value:e.form.working_hours.end,callback:function(t){e.$set(e.form.working_hours,"end",t)},expression:"form.working_hours.end"}})],1)])],1),e._v(" "),t("div",{staticClass:"col-lg-4 mb-2 mb-lg-3",attrs:{id:"anchor-instagram"}},[t("form-text-input",{attrs:{type:"url",placeholder:"Instagram URL","icon-name":"link","block-class":"placeholder-dark-blue-3"},model:{value:e.form.instagram,callback:function(t){e.$set(e.form,"instagram",t)},expression:"form.instagram"}})],1),e._v(" "),t("div",{staticClass:"col-lg-4 mb-2 mb-lg-3",attrs:{id:"anchor-facebook"}},[t("form-text-input",{attrs:{type:"url",placeholder:"Facebook URL","icon-name":"link","block-class":"placeholder-dark-blue-3"},model:{value:e.form.facebook,callback:function(t){e.$set(e.form,"facebook",t)},expression:"form.facebook"}})],1),e._v(" "),t("div",{staticClass:"col-lg-12 mb-2 mb-lg-3",attrs:{id:"anchor-description"}},[t("form-textarea",{attrs:{maxlength:130,placeholder:e.$t("general_information"),invalid:e.isInvalid("description")},on:{change:function(t){return e.removeError("description")}},model:{value:e.form.description,callback:function(t){e.$set(e.form,"description",t)},expression:"form.description"}})],1),e._v(" "),t("div",{staticClass:"col-lg-12",attrs:{id:"anchor-saved_gallery"}},[t("form-gallery",{attrs:{itemClass:"col-4 col-lg-1-8 mb-lg-3 mt-2 mb-2",maxFiles:24,initialFiles:e.initialFiles},on:{change:e.filesOnChange,loading:function(t){e.pending=t}}})],1),e._v(" "),t("div",{staticClass:"col-lg-2 offset-lg-10 mt-2"},[t("button",{class:["btn btn--green full-width",{pending:e.pending}],on:{click:e.submit}},[e._v(e._s(e.$t("confirm"))+"\n                  ")])])],2)])])],1)])}),[],!1,null,null,null);t.default=component.exports}}]);