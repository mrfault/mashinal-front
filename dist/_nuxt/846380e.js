(window.webpackJsonp=window.webpackJsonp||[]).push([[76],{1587:function(t,e,n){"use strict";n.r(e);n(7),n(10),n(4),n(11);var r=n(0),o=n(25),c=n(1),d=(n(32),n(3),n(2),n(42),n(41),n(15),n(20),n(8),n(16)),m=n(1290),l=n(994),h=n(995),y=n(1013);function f(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function v(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?f(Object(source),!0).forEach((function(e){Object(r.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):f(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var O={name:"pages-moto-slug",layout:"search",components:{MotoSearchForm:m.a,Grid:l.a,NoResults:h.a,HandleIds:y.a},nuxtI18n:{paths:{az:"/moto/:moto"}},head:function(){return this.$headMeta({title:this.$t("meta-title_moto",{type:this.$t("meta-words_moto-types")[this.category.id-1]}),description:this.$t("meta-descr_moto",{type:this.$t("meta-words_moto-types")[this.category.id-1]})})},asyncData:function(t){return Object(c.a)(regeneratorRuntime.mark((function e(){var n,r,c,d,m,l,h,y,f;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.store,r=t.route,c=t.app,d=t.error,m={motorcycles:"motorcycles",motosikletler:"motorcycles",scooters:"scooters",skuterler:"scooters",atvs:"atvs",atvler:"atvs"}[r.params.moto]){e.next=4;break}return e.abrupt("return",d({statusCode:404}));case 4:return l={motorcycles:{id:1,type:"motorcycles",url:"/grid/moto"},scooters:{id:2,type:"scooters",url:"/grid/scooter"},atvs:{id:3,type:"atvs",url:"/grid/atv"}}[m],e.next=7,n.dispatch("i18n/setRouteParams",{az:{moto:c.i18n.t("slug_"+m,"az")},ru:{moto:c.i18n.t("slug_"+m,"ru")}});case 7:return h=JSON.parse(r.query.filter||"{}"),y=r.query.page||1,f={url:l.url,prefix:"moto"},e.next=12,Promise.all([n.dispatch("getOptions"),n.dispatch("getMotoOptions"),n.dispatch("getColors"),n.dispatch("getGridSearch",v(v({},f),{},{post:h,page:y,type:l.type}))].concat(Object(o.a)(Object.keys((null==h?void 0:h.additional_brands)||{}).filter((function(t){var e,n;return null==h||null===(e=h.additional_brands)||void 0===e||null===(n=e[t])||void 0===n?void 0:n.brand})).map((function(t){var e=h.additional_brands[t];return n.dispatch("getMotoModels",{category:l.id,id:e.brand,index:t})})))));case 12:return e.abrupt("return",{category:l,searchParams:f,pending:!1});case 13:case"end":return e.stop()}}),e)})))()},methods:v(v({},Object(d.b)(["getGridSearch"])),{},{searchMoto:function(){var t=arguments,e=this;return Object(c.a)(regeneratorRuntime.mark((function n(){var r,o;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=t.length>0&&void 0!==t[0]?t[0]:1,r=e.$route.query.page||1,o=JSON.parse(e.$route.query.filter||"{}"),e.pending=!0,n.next=6,e.getGridSearch(v(v({},e.searchParams),{},{post:o,page:r,type:e.category.type}));case 6:return n.next=8,e.$store.dispatch("fetchInfiniteMainMonetized",{type:"moto",data:o});case 8:e.pending=!1,1===r?e.scrollTo(".announcements-sorting"):e.scrollTo(".announcements-grid.paginated",[-15,-20]);case 10:case"end":return n.stop()}}),n)})))()}}),computed:v(v({},Object(d.c)(["motoAnnouncements","getMainMonetized"])),{},{crumbs:function(){return[{name:this.$t("moto"),route:"/moto"},{name:this.$t(this.category.type)}]}}),mounted:function(){this.$store.dispatch("fetchInfiniteMainMonetized",{type:"moto"})},beforeRouteLeave:function(t,e,n){this.$nuxt.$emit("prevent-popstate"),n()}},j=O,w=n(12),component=Object(w.a)(j,(function(){var t,e=this,n=e._self._c;return n("div",{staticClass:"pages-moto"},[n("div",{staticClass:"container"},[n("breadcrumbs",{attrs:{crumbs:e.crumbs}}),e._v(" "),n("moto-search-form",{attrs:{"total-count":e.$paginate(e.motoAnnouncements).total,pending:e.pending,category:e.category},on:{pending:function(t){e.pending=!0},submit:e.searchMoto}}),e._v(" "),e.getMainMonetized.length?n("grid",{attrs:{announcements:e.getMainMonetized,"show-title":!0,"escape-duplicates":""}}):e._e(),e._v(" "),e.motoAnnouncements.data.length?n("grid",{attrs:{announcements:e.motoAnnouncements.data,paginate:e.$paginate(e.motoAnnouncements),pending:e.pending,"escape-duplicates":""},on:{"change-page":e.searchMoto}}):n("no-results"),e._v(" "),n("HandleIds",{attrs:{type:null===(t=e.category)||void 0===t?void 0:t.type,items:e.motoAnnouncements.data}})],1)])}),[],!1,null,null,null);e.default=component.exports}}]);