(window.webpackJsonp=window.webpackJsonp||[]).push([[68],{1550:function(e,t,r){"use strict";r.r(t);var n=r(1),o=(r(32),r(27),r(123),{layout:"ticket",data:function(){return{types:["car","moto","moto_atv","scooters","commercial","part","plate"]}},mounted:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){var r,n,data;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.$nuxt.$emit("loading_status",!0),t.next=3,e.$auth.setUserToken("Bearer ".concat(e.$route.query.token));case 3:return t.next=5,e.$axios.$get("/user");case 5:if((r=t.sent).user.is_admin){t.next=8;break}return t.abrupt("return",!1);case 8:if(2===r.user.admin_group){t.next=10;break}return t.abrupt("return",!1);case 10:return t.next=12,e.$axios.$get("/ticket/checkNonCompletedTask");case 12:if(!((n=t.sent).data.length>0)){t.next=16;break}return e.$router.push("/moderator/ticket/"+n.data[0]+"?token="+e.$route.query.token+"&type="+n.data[1]),t.abrupt("return",!1);case 16:return t.next=18,e.getAnnounce(e.getRandomData());case 18:(data=t.sent).data&&(["moto","moto_atv","scooters"].includes(data.randomType)?e.$router.push("/moderator/ticket/moto?token="+e.$route.query.token+"&type="+data.randomType):e.$router.push("/moderator/ticket/"+data.randomType+"?token="+e.$route.query.token)),e.$nuxt.$emit("loading_status",!1);case 21:case"end":return t.stop()}}),t)})))()},methods:{getRandomData:function(){return this.types[Math.floor(Math.random()*this.types.length)]},getAnnounce:function(e){var t=this;return Object(n.a)(regeneratorRuntime.mark((function r(){var data,n,o;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(data=!1,r.prev=1,!["moto","moto_atv","scooters"].includes(e)){r.next=8;break}return r.next=5,t.$axios.$get("/ticket/moto?type=".concat(e));case 5:data=r.sent,r.next=11;break;case 8:return r.next=10,t.$axios.$get("/ticket/"+e);case 10:data=r.sent;case 11:if(void 0===data.code||200===data.code){r.next=18;break}if(n=t.types.indexOf(e),t.types.splice(n,1),!t.types.length){r.next=18;break}return r.next=17,t.getAnnounce(t.getRandomData());case 17:return r.abrupt("return",r.sent);case 18:r.next=28;break;case 20:if(r.prev=20,r.t0=r.catch(1),o=t.types.indexOf(e),t.types.splice(o,1),!t.types.length){r.next=28;break}return r.next=27,t.getAnnounce(t.getRandomData());case 27:return r.abrupt("return",r.sent);case 28:return r.abrupt("return",{data:data,randomType:e});case 29:case"end":return r.stop()}}),r,null,[[1,20]])})))()}}}),c=r(12),component=Object(c.a)(o,(function(){var e=this,t=e._self._c;return t("div",[e.types.length?t("div"):t("div",[t("div",{staticStyle:{"text-align":"center"}},[t("br"),t("br"),e._v(" "),t("h2",[e._v(e._s(e.$t("not_have_panding_cars")))]),e._v(" "),t("a",{attrs:{href:"/alvcp/resources/announce-moderators"}},[t("button",{staticClass:"section-post__btn add_announce"},[e._v(e._s(e.$t("back_to_moderator_page")))])]),e._v(" "),t("br"),t("br")])])])}),[],!1,null,"7787d456",null);t.default=component.exports}}]);