(window.webpackJsonp=window.webpackJsonp||[]).push([[122],{1023:function(e,t,n){"use strict";n(8),n(7),n(3),n(2),n(10),n(4),n(11);var r=n(0),o=n(16);function l(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}function c(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?l(Object(source),!0).forEach((function(t){Object(r.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):l(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var h={props:{form:{default:function(){return{}}}},computed:c(c({},Object(o.c)(["sellProgress"])),{},{progress:function(){var progress=5;return(this.form.brand||this.form.selectedBrand)&&(progress+=5),(this.form.model||this.form.selectedModel)&&(progress+=10),(this.form.year||this.form.selectedYear)&&(progress+=10),progress}}),methods:c({},Object(o.b)(["setSellProgress"])),watch:{progress:function(e){this.setSellProgress(e)}},beforeDestroy:function(){this.setSellProgress(5)}},d=n(12),component=Object(d.a)(h,(function(){var e=this._self._c;return e("div",{staticClass:"sell_progress mb-lg-3"},[e("span",{style:{width:"".concat(this.sellProgress,"%")}})])}),[],!1,null,null,null);t.a=component.exports},1045:function(e,t,n){"use strict";n(27),n(52),n(63),n(2);var r={props:{value:{},options:Array,iconsOnly:Boolean,groupBy:{type:Number,default:3}},computed:{selected:{get:function(){return this.value},set:function(e){var t=this.value===e.title||this.value===e.key||this.value===e.id;this.$emit("input",e),t||this.$emit("change",e)}}},methods:{getKey:function(option){return option.id||this.options.find((function(e){return e.title===option.title})).icon.split("-").pop()}}},o=n(12),component=Object(o.a)(r,(function(){var e=this,t=e._self._c;return t("div",{class:["row",e.iconsOnly||5===e.groupBy?"":"mb-n2 mb-lg-n3"]},e._l(e.options,(function(option,n){return t("div",{key:option.title,class:["item mb-2 mb-lg-3",e.iconsOnly?"col-2 col-lg-1":"col-6 col-lg-".concat(5===e.groupBy?"1-5":[1,2,3,4,6,12].includes(e.groupBy)?12/e.groupBy:4)]},[t("div",{directives:[{name:"tooltip",rawName:"v-tooltip",value:e.iconsOnly&&e.$t(option.title),expression:"iconsOnly && $t(option.title)"}],class:["selectable-block",{disabled:option.disabled,active:e.selected===option.title||e.selected===e.getKey(option),"icons-only":e.iconsOnly,"custom-width":"parts"===option.title}],on:{click:function(t){t.stopPropagation(),e.selected={value:option.id||option.title,index:n,key:e.getKey(option)}}}},[t("div",{staticClass:"block-icon"},["registration_marks"!==option.title?t("icon",{attrs:{name:option.icon}}):t("inline-svg",{attrs:{src:option.icon}})],1),e._v(" "),e.iconsOnly?e._e():t("span",{staticClass:"block-info"},[e._v("\n            "+e._s(e.$t(option.title))+"\n\n            "),"registration_marks"===option.title?t("inline-svg",{attrs:{src:"/icons/new_badge_2.svg",width:"39px"}}):e._e()],1)])])})),0)}),[],!1,null,null,null);t.a=component.exports},1200:function(e,t,n){"use strict";n(8),n(7),n(3),n(2),n(10),n(4),n(11);var r=n(1),o=n(0),l=(n(32),n(14),n(21),n(16)),c=n(174),h=n(277);function d(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}function f(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?d(Object(source),!0).forEach((function(t){Object(o.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):d(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var m={data:function(){return{form:{phone:""},pending:!1}},validations:{form:{phone:{required:c.required,isPhoneNumber:h.a}}},methods:f(f({},Object(l.b)(["checkSellTokens"])),{},{checkPhone:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.$v.$touch(),!e.pending&&!e.$v.$error){t.next=3;break}return t.abrupt("return");case 3:return e.pending=!0,t.prev=4,t.next=7,e.checkSellTokens(e.form.phone.replace(/[^0-9]+/g,""));case 7:e.mutate({property:"sellPhoneEntered",value:e.form.phone}),e.pending=!1,t.next=14;break;case 11:t.prev=11,t.t0=t.catch(4),e.pending=!1;case 14:case"end":return t.stop()}}),t,null,[[4,11]])})))()}}),fetch:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.form.phone=e.$parsePhone(e.$route.query.phone),!e.form.phone){t.next=4;break}return t.next=4,e.checkPhone();case 4:case"end":return t.stop()}}),t)})))()}},v=n(12),component=Object(v.a)(m,(function(){var e=this,t=e._self._c;return t("form",{staticClass:"form form--v2",attrs:{novalidate:""},on:{submit:function(t){return t.preventDefault(),e.checkPhone.apply(null,arguments)}}},[t("div",{staticClass:"row"},[t("div",{staticClass:"col-lg-6 mb-2 mb-lg-0"},[t("form-text-input",{attrs:{autocomplete:"tel",placeholder:e.$t("contact_number"),invalid:e.$v.form.phone.$error,mask:e.$maskPhone()},model:{value:e.form.phone,callback:function(t){e.$set(e.form,"phone",t)},expression:"form.phone"}})],1),e._v(" "),t("div",{staticClass:"col-lg-6"},[t("button",{staticClass:"btn btn--green full-width",attrs:{type:"submit"}},[e._v(e._s(e.$t("go_further")))])])])])}),[],!1,null,null,null);t.a=component.exports},1238:function(e,t,n){var content=n(1370);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(39).default)("6f8c9302",content,!0,{sourceMap:!1})},1369:function(e,t,n){"use strict";n(1238)},1370:function(e,t,n){var r=n(38)((function(i){return i[1]}));r.push([e.i,".pages-sell .card .item .selectable-block.custom-width{justify-content:center;width:calc(200% + 20px)}.pages-sell .card .item .selectable-block.custom-width .block-info{width:auto}.pages-sell .login-forms{margin:0;width:100%}",""]),r.locals={},e.exports=r},1541:function(e,t,n){"use strict";n.r(t);n(8),n(7),n(10),n(4),n(11);var r=n(0),o=n(1),l=(n(22),n(27),n(20),n(15),n(14),n(21),n(24),n(3),n(2),n(32),n(16)),c=n(64),h=n(1200),d=n(1045),f=n(1023),m=n(278),v=n(286);function _(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}function y(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?_(Object(source),!0).forEach((function(t){Object(r.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):_(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var O={name:"pages-sell-index",components:{SellCheckTokens:h.a,VehicleOptions:d.a,SellProgress:f.a,QrcodeBox:m.a,SignInForm:v.a},mixins:[c.a],nuxtI18n:{paths:{az:"/satmaq"}},data:function(){return{tabOptions:{header:!1,signInForm:!0,confirmPhone:!0,qrCode:!1}}},head:function(){return this.$headMeta({title:this.$t("meta-title_sell"),description:this.$t("meta-descr_sell")})},asyncData:function(e){return Object(o.a)(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.store,e.route.query.phone||n.dispatch("resetSellTokens"),t.abrupt("return",{vehicleType:"",vehicleCategory:"",selectedIndex:""});case 3:case"end":return t.stop()}}),t)})))()},computed:y(y({},Object(l.c)(["sellTokens","sellPhoneEntered"])),{},{crumbs:function(){return[{name:this.$t("place_an_ad")}]},tokens:function(){for(var e,t,n,r,o={cars:0,moto:0,commercial:0,parts:0,registration_marks:0,parts_unlimited:!!this.loggedIn||this.sellTokens.parts_unlimited,salon_unlimited:this.loggedIn?1===(null===(e=this.user)||void 0===e||null===(t=e.autosalon)||void 0===t?void 0:t.status)&&(null===(n=this.user)||void 0===n||null===(r=n.autosalon)||void 0===r?void 0:r.is_unlimited):this.sellTokens.salon_unlimited},l=0,c=["cars","moto","commercial","parts","registration_marks"];l<c.length;l++){var h=c[l],d="announce_left_".concat(h);"cars"===h?d=d.slice(0,-1):"parts"===h&&(d="part_announce_left"),this.loggedIn?o[h]=this.user[d]:this.sellTokens&&(o[h]=this.sellTokens[h])}return o},hasCategories:function(){return["moto","commercial"].includes(this.vehicleType)},vehicleOptions:function(){var e=this;return this.searchMenus.map((function(menu){var t;return y(y({},menu),{},{disabled:!(null===(t=e.user)||void 0===t||!t.external_salon)&&"parts"===menu.title||e.tokens[menu.title]<=0&&!e.tokens["parts"===menu.title?"parts_unlimited":"salon_unlimited"]})}))}}),methods:{handleVehicleType:function(e){var t=this;this.vehicleCategory="","registration_marks"===e.value?this.vehicleType="/plates/create":this.vehicleType=e.value,this.selectedIndex=e.index,this.hasCategories?this.$nextTick((function(){t.isMobileBreakpoint&&t.scrollTo(t.$refs.categories,-20)})):this.nextSteps()},handleVehicleCategory:function(e){this.vehicleCategory=e.value,this.nextSteps()},nextSteps:function(){var path;path="/plates/create"===this.vehicleType?this.$localePath("".concat(this.vehicleType).concat(this.vehicleCategory?"?category=".concat(this.vehicleCategory):"")):this.$localePath("/sell/".concat(this.vehicleType).concat(this.vehicleCategory?"?category=".concat(this.vehicleCategory):"")),this.$router.push(path)},getTextLines:function(e){var t,n,r,o=this.loggedIn&&this.user.autosalon||this.user.external_salon,l=this.loggedIn&&this.user.part_salon,c=this.$maxInArray([this.tokens.cars,this.tokens.moto,this.tokens.commercial,0]),h=this.$maxInArray([this.tokens.parts,0]),d=c>0||this.tokens.salon_unlimited,f=this.user.external_salon?0:h>0||this.tokens.parts_unlimited,m=d&&f?"":d?"_transport":"_parts",v=d||f?d?"_parts":"_transport":"";return(d||f)&&(t=this.$t("you_can_create_announcement".concat(m),{phone:e.replace("+994 (","(0"),plural:this.$readPlural(this.tokens.salon_unlimited?1e3:c,this.$t("plural_forms_announcements"),!1),plural_parts:this.$readPlural(this.tokens.parts_unlimited?1e3:h,this.$t("plural_forms_announcements"),!1),left:this.tokens.salon_unlimited?this.$t("unlimited_count"):c,left_parts:this.tokens.parts_unlimited?this.$t("unlimited_count"):h})),d&&f||(v&&this.user.external_salon&&this.user.external_salon||(n='<strong class="text-red">*</strong> '+this.$t("no_announcements_on_balance".concat(v))),r=this.$t("contact_for_more_info",{phone:"*8787",email:o||l?"sales@al.ventures":"office@al.ventures"})),[t,n,r].filter((function(line){return line})).map((function(line){return"".concat(line)})).join("<br/><br/>")}}},k=(n(1369),n(12)),component=Object(k.a)(O,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"pages-sell"},[t("div",{staticClass:"container"},[t("breadcrumbs",{attrs:{crumbs:e.crumbs}}),e._v(" "),e.isMobileBreakpoint?e._e():t("sell-progress"),e._v(" "),t("div",{staticClass:"row"},[t("div",{staticClass:"col-lg-5"},[t("div",{staticClass:"card mt-5 mt-lg-0"},[t("h2",{staticClass:"title-with-line full-width"},[e.loggedIn?t("span",[e._v(e._s(e.$t("new_announce")))]):e._e(),e._v(" "),e.loggedIn?e._e():t("span",[e._v(e._s(e.$t("login")))])]),e._v(" "),t("div",{staticClass:"sell_tokens-info"},[t("client-only",[e.loggedIn||!1!==e.sellTokens?[e.loggedIn?t("p",{domProps:{innerHTML:e._s(e.getTextLines(e.$parsePhone(e.user.phone)))}}):t("p",{domProps:{innerHTML:e._s(e.getTextLines(e.sellPhoneEntered))}})]:[t("p",{domProps:{innerHTML:e._s(e.$t("you_can_only_have_some_free_announcement_within_30_days"))}}),e._v(" "),t("login-tabs",{attrs:{tabOptions:e.tabOptions,sellCheckTokens:!0}})]],2)],1),e._v(" "),t("qrcode-box",{attrs:{inSellPage:!0}})],1)]),e._v(" "),t("div",{staticClass:"col-lg-7"},[t("div",{staticClass:"card mt-2 mt-lg-0"},[t("h2",{staticClass:"title-with-line full-width"},[t("span",[e._v(e._s(e.$t("vehicle_type")))])]),e._v(" "),t("vehicle-options",{attrs:{"group-by":2,options:e.vehicleOptions,value:e.vehicleType},on:{change:e.handleVehicleType}}),e._v(" "),e.hasCategories?[t("h2",{ref:"categories",staticClass:"title-with-line full-width mt-3"},[t("span",[e._v(e._s(e.$t(e.vehicleOptions[e.selectedIndex].title)))])]),e._v(" "),t("vehicle-options",{attrs:{"group-by":2,options:e.vehicleOptions[e.selectedIndex].children,value:e.vehicleCategory},on:{change:e.handleVehicleCategory}})]:e._e()],2)])])],1)])}),[],!1,null,null,null);t.default=component.exports}}]);