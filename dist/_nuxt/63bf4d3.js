(window.webpackJsonp=window.webpackJsonp||[]).push([[74],{1265:function(e,t,r){var content=r(1427);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(39).default)("b7e3e3d2",content,!0,{sourceMap:!1})},1426:function(e,t,r){"use strict";r(1265)},1427:function(e,t,r){var n=r(38)((function(i){return i[1]}));n.push([e.i,".form-keywords{position:relative;z-index:0}.form-keywords .keyword,.form-keywords input{z-index:1}.form-keywords-overlay{background:hsla(0,0%,50%,.3);height:100%;left:0;position:absolute;top:0;width:100%;z-index:4}",""]),n.locals={},e.exports=n},1511:function(e,t,r){"use strict";r.r(t);var n=r(0),o=r(25),c=(r(7),r(53),r(20),r(17),r(15),r(27),r(48),r(2),r(41),r(3),r(10),r(11),r(28)),l=r(29),d=r(1),m=(r(32),r(8),r(123),r(42),r(175),r(4),r(63),r(16)),f=r(1086),_=r(1155),h=r(1011),v=r(1097),y=r(1109),k=r(1163),w=r(1037),$=r(1052),x=r(999),C=r(1111),j=r(1113),O=r(1164),I=(r(59),{props:{isModerator:Boolean,disabled:Boolean,value:{type:Array,required:!0}},data:function(){return{highlightLastKeyword:!1}},methods:{inputHandler:function(e){"Backspace"===e.key&&""===e.target.value?this.highlightLastKeyword?(this.keywords.pop(),this.highlightLastKeyword=!1):this.highlightLastKeyword=!0:(["Enter"," "].includes(e.key)&&this.addKeyword(e),this.highlightLastKeyword=!1)},addKeyword:function(e){var t=e.target.value.trim();t&&(this.keywords.includes(t)||this.keywords.push({text:t})),this.$refs.keywordInput.value=""},removeKeyword:function(e){this.keywords.splice(e,1)}},computed:{keywords:{get:function(){return this.value},set:function(e){this.$emit("input",e)}}}}),R=(r(1426),r(12)),A=Object(R.a)(I,(function(){var e=this,t=e._self._c;return t("label",{staticClass:"form-keywords",attrs:{for:"keywords"}},[e.disabled?t("div",{staticClass:"form-keywords-overlay"}):e._e(),e._v(" "),t("div",{staticClass:"keywords"},e._l(e.keywords,(function(r,n){return t("span",{key:r,staticClass:"keyword",class:{"keyword--highlighted":e.highlightLastKeyword&&n===e.keywords.length-1},on:{click:function(t){return e.removeKeyword(n)}}},[t("icon",{attrs:{name:"cross"}}),e._v(" "),e._v("\n        "+e._s(r.text)+"\n    ")],1)})),0),e._v(" "),e.disabled?e._e():t("input",{ref:"keywordInput",staticClass:"w-100",attrs:{id:"keywords",placeholder:e.$t("add_keywords"),maxlength:"50",type:"text"},on:{keyup:e.inputHandler}})])}),[],!1,null,null,null).exports,F=r(1112),B=r(1108);function P(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}function S(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?P(Object(source),!0).forEach((function(t){Object(n.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):P(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var E={name:"parts-pages-moderation",layout:"moderator",components:{TitleWithLine:j.a,UserDetails:f.a,TitleWithLineAndRejectReason:x.a,MultiselectComponent:_.a,RejectReason:h.a,PhotoRejectReason:v.default,UploadImageModerator:y.a,ColorOptions:w.a,PickOnMapButton:$.a,SellFilters:C.a,PopularComments:k.a,FormRadioGroup:O.a,ModeratorActions:F.a,FormKeywordsModerator:A,ModerationHeader:B.a},data:function(){return{imageIsUploading:!1,loading:!1,button_loading:!1,openLog:!1,transferModal:!1,transferComment:"",rejectArray:[],refresh:1,date:Math.floor(Date.now()/1e3),popup:!1,deleteArr:[],errors:[],selectedBadges:[],modalIsActive:!1,files:{},showStoreSelect:!1,filter_data:{brands:[],filters:[],regions:[],sub_categories:[]},tag:"",tags:[],saved_images:[],showPhotoReject:!1,form:{category_id:null,commercial_part:!1,rejectArray:[],tags:[],delay_comment:"",sub_category_id:null,region_id:null,brand_id:null,is_new:!1,is_original:!1,is_negotiable:!1,have_delivery:!1,have_warranty:!1,price:null,product_code:"",title:"",description:"",filter:{},media:[],saved_images:[],currency_id:1},newForm:{},announceId:null,admin_user:{},imagesBase64:[],commercialPartDisabledOptions:["diameter","height","shine_width","run_flat"],minFiles:1,maxFiles:20,imageModal:{isOpen:!1,options:["part_photo_reject_1","part_photo_reject_2","part_photo_reject_3","part_photo_reject_4"],initialOptions:["front_error","back_error","left_error","right_error","interior_error","not_this_car_error","logo_on_the_picture"],rejectArray:["front_error","back_error","left_error"],modalToggled:!1},category:{selected:{},hasChild:!1}}},beforeDestroy:function(){this.$toasted.clear()},methods:{changeIsNegotiable:function(e){1==e&&(this.form.price=0)},handleLoading:function(e){this.loading=e},getAnnounceData:function(){var e=this;return Object(d.a)(regeneratorRuntime.mark((function t(){var r,data,n,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.loading=!0,t.next=3,e.$auth.setUserToken("Bearer ".concat(e.$route.query.token));case 3:return e.$axios.setHeader("Authorization","Bearer ".concat(e.$route.query.token)),t.next=6,e.$axios.$get("/user");case 6:if((r=t.sent).user.is_admin){t.next=9;break}return t.abrupt("return",!1);case 9:return t.prev=9,e.loading=!0,t.next=13,e.$axios.$get("/ticket/part");case 13:return data=t.sent,e.$store.commit("mutate",{property:"single_announce",value:data.announce}),e.$store.commit("moderator/moderatorMutator",{with:data.moderator,property:"moderator"}),t.next=18,e.$axios.$get("/part/categories");case 18:n=t.sent,e.$store.commit("mutate",{property:"partCategories",value:n}),o=JSON.parse(JSON.stringify(e.single_announce)),e.checkCategoryValidation(parseInt(o.category_id)),o.category_id&&(e.getFilters(o.category_id),e.filter_data=e.getPartFilters(o.category_id)),e.announceId=o.id,e.form.delay_comment="",e.form.category_id=parseInt(o.category_id),e.form.sub_category_id=o.sub_category_id,e.form.region_id=o.region_id,e.form.brand_id=o.brand_id,e.category.hasChild&&(e.form.brand_id=null),e.form.is_new=o.is_new,e.form.is_original=o.is_original,e.form.is_negotiable=o.is_negotiable,e.form.have_delivery=o.have_delivery,e.form.have_warranty=o.have_warranty,e.form.price=o.price_int,e.form.product_code=o.product_code,e.form.title=o.title,e.form.description=o.description,e.form.media=o.mediaIds,e.form.saved_images=o.mediaIds,e.form.commercial_part=parseInt(o.commercial_size)>0,e.form.commercial_size=o.commercial_size,e.saved_images=o.mediaIds,o.filters&&(e.form.filter=o.filters),e.form.tags=o.all_tags,e.admin_user=r.user,e.loading=!1,t.next=55;break;case 50:return t.prev=50,t.t0=t.catch(9),e.loading=!1,t.abrupt("return");case 55:case"end":return t.stop()}}),t,null,[[9,50]])})))()},getPartFilters:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.form.category_id;return this.$axios.$get("/part/category/".concat(e,"/filters"))},handleCheck:function(object){var e=Object.keys(object)[0];this.handleChange({key:e,value:{id:object[e]}})},handleInput:function(object){this.handleCheck(object)},handleBackToList:function(){var e=this;return Object(d.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$axios.$post("/ticket/detach/"+e.announceId+"/parts");case 2:location.href="/alvcp/resources/parts";case 3:case"end":return t.stop()}}),t)})))()},handleBackList:function(){2==this.user.admin_group?location.href="/alvcp/resources/announce-moderators":location.href="/alvcp/resources/announcements"},getValue:function(e,t){return"status"===e?[this.$t("rejected"),this.$t("active"),this.$t("pending")][t]:t},changeReason:function(e){"image"===e?this.imageModal.isOpen=!0:this.rejectArray.includes(e)?this.rejectArray.splice(this.rejectArray.indexOf(e),1):this.rejectArray.push(e)},addComment:function(e){null===this.form.comment&&(this.form.comment=""),this.form.comment=this.form.comment+e+" "},numericPrice:function(){return this.single_announce.price_int},removeFromError:function(e){var t=this.errors.indexOf(e);-1!==t&&this.errors.splice(t,1)},deleteByIndex:function(e){var t=this;return Object(d.a)(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!t.saved_images[e]){r.next=4;break}t.deleteArr.push(t.saved_images[e]),r.next=6;break;case 4:return r.next=6,t.$axios.$post("/remove_temporary_image/"+t.saved_images[e]);case 6:t.saved_images.splice(e,1);case 7:case"end":return r.stop()}}),r)})))()},addFiles:function(e){var t=this;return Object(d.a)(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t.imageIsUploading=!0,r.next=3,Promise.all(e.map(function(){var e=Object(d.a)(regeneratorRuntime.mark((function e(image){var r,data,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=new FormData).append("temp_id",t.date),r.append("images[]",image),e.prev=3,e.next=6,t.$axios.$post("/upload_temporary_images",r,{headers:{"Content-Type":"multipart/form-data"}});case 6:data=e.sent,t.imageIsUploading=!1,t.saved_images=t.saved_images.concat(data.ids),t.$store.commit("setSavedImageUrls",data.images),t.$nuxt.$emit("remove_image_loading_by_index",t.saved_images.length),e.next=22;break;case 13:e.prev=13,e.t0=e.catch(3),n=e.t0.response.data.data,t.imageIsUploading=!1,t.$nuxt.$emit("remove_image_by_index",t.saved_images.length),t.$nuxt.$emit("remove_image_on_catch"),t.errors=[],t.$toasted.clear(),Object.keys(n).map((function(e){t.$toasted.show(n[e],{type:"error"})}));case 22:case"end":return e.stop()}}),e,null,[[3,13]])})));return function(t){return e.apply(this,arguments)}}()));case 3:case"end":return r.stop()}}),r)})))()},progressing:function(i){this.progress_width=0===i?0:10*i},handleChange:function(object){var e=this;return Object(d.a)(regeneratorRuntime.mark((function t(){var data;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("category_id"!==object.key){t.next=5;break}return t.next=3,e.$axios.$get("/part/category/".concat(object.value.id,"/filters"));case 3:data=t.sent,e.filter_data=data;case 5:e.$set(e.form,object.key,object.value.id);case 6:case"end":return t.stop()}}),t)})))()},passBase64Images:function(e){this.imagesBase64=e},replaceImage:function(object){this.saved_images.length===this.imagesBase64.length&&(this.imagesBase64=object.images,this.move(this.saved_images,object.v.oldIndex,object.v.newIndex))},deleteArrHandler:function(e){this.deleteArr=e},getAddress:function(address){this.removeFromError("address"),this.form.address=address,this.address=address},getLatLng:function(e){this.form.lat=e.lat,this.form.lng=e.lng,this.lat=e.lat,this.lng=e.lng},closeModal:function(){this.modalIsActive=!1},openModal:function(){this.modalIsActive=!0},closePopup:function(){this.showPhotoReject=!1,this.show={}},savePhotoIssues:function(e){var t=this,r=!0;Object.keys(e.data).map((function(n){t.rejectArray.includes(n)&&t.rejectArray.splice(t.rejectArray.indexOf(n),1),e.data[n]&&(r=!1,t.rejectArray.push(n))})),this.$nuxt.$emit("image-checkbox-change",r)},handleMultiselect:function(e){this.removeFromError(e.key),this.form[e.key]=e.value.key},handleAllOptions:function(e,t){this.form[t]=e},showSellModal:function(e){this.show={},this.show[e]=e},_can_upload_file:function(e){var t=this.files[e];return!t.attempted&&!t.bad_size},transferToSupervisor:function(){var e=arguments,t=this;return Object(d.a)(regeneratorRuntime.mark((function r(){var n;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n=e.length>0&&void 0!==e[0]&&e[0],t.button_loading=!0,n&&(t.transferComment=t.rejectArray),r.next=5,t.$axios.$post("/ticket/transfer/part/"+t.announceId,{comment:t.transferComment});case 5:2==t.user.admin_group?location.href="/alvcp/resources/announce-moderators":location.href="/alvcp/resources/parts";case 6:case"end":return r.stop()}}),r)})))()},sendData:function(){var e=arguments,t=this;return Object(d.a)(regeneratorRuntime.mark((function r(){var n,o,c,d,m,f,_,data;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(n=e.length>0&&void 0!==e[0]?e[0]:2,t.saved_images.length===t.imagesBase64.length){r.next=4;break}return t.$toasted.show(t.$t("please_wait_for_all_image_loading"),{type:"error"}),r.abrupt("return",!1);case 4:for(o=0,c=Object.entries(t.form.filter);o<c.length;o++)d=Object(l.a)(c[o],2),m=d[0],f=d[1],t.form[m]=f;return t.form.brand_id||delete t.form.brand_id,t.form.sub_category_id||delete t.form.sub_category_id,_=new FormData,t.form.status=n,t.form.saved_images=t.saved_images,delete t.form["filter-undefined"],_.append("data",JSON.stringify(t.form)),_.append("deletedImages",JSON.stringify(t.deleteArr)),t.$nuxt.$emit("loading_status",!0),t.button_loading=!0,r.prev=15,r.next=18,t.$axios.$post("/ticket/part/"+t.announceId,_);case 18:2==t.user.admin_group?location.href="/alvcp/resources/announce-moderators":location.href="/alvcp/resources/parts",r.next=33;break;case 21:if(r.prev=21,r.t0=r.catch(15),data=r.t0.response.data.data,t.$nuxt.$emit("loading_status",!1),t.button_loading=!1,t.errors=[],t.$toasted.clear(),!data){r.next=32;break}Object.keys(data).reverse().map((function(e){t.errors.push(e),t.$toasted.show(data[e][0],{type:"error",duration:0,action:{text:"Go to fix",onClick:function(t,r){document.querySelector("#"+e)&&document.querySelector("#"+e).scrollIntoView({behavior:"smooth",block:"center"}),r.goAway(0)}}})})),r.next=33;break;case 32:return r.abrupt("return");case 33:case"end":return r.stop()}}),r,null,[[15,21]])})))()},addImages:function(e){this.files=e,this.getInfo(),this.$nuxt.$emit("progress_change",{type:"images",count:Object.keys(this.files).length})},move:function(input,e,t){var r=1,n=input.splice(e,r)[0];r=0,input.splice(t,r,n)},isInvalid:function(e){return this.errors.includes(e)},removeError:function(e){(arguments.length>1&&void 0!==arguments[1]&&arguments[1]||this.form[e]&&""!==this.form[e])&&this.errors.includes(e)&&(this.errors=this.errors.filter((function(t){return t!==e})),this.toasts[e].goAway(100))},checkCategoryValidation:function(e){var t=this;this.categories.forEach((function(r){r.id==e&&(t.category.selected=r,r.child.length?t.category.hasChild=!0:t.category.hasChild=!1)}))},categorySelected:function(e){var t=this;delete this.form.brand_id,this.checkCategoryValidation(e),this.form=S(S({},this.form),{},{is_new:!0,is_original:!0,commercial_size:""}),this.filter_data.filters&&this.filter_data.filters.length&&this.filter_data.filters.forEach((function(filter){delete t.form[filter.key]})),this.filter_data={sub_categories:[],brands:[],regions:[],filters:[]},e&&this.getFilters(e)},getFilters:function(e){var t=this;return Object(d.a)(regeneratorRuntime.mark((function r(){var n,o,c;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.$axios.$get("/part/category/".concat(e,"/filters"));case 2:t.filter_data=r.sent,t.filter_data.sub_categories.length&&(null===(n=t.filter_data.sub_categories.find((function(e){var r;return e.id===(null===(r=t.initialForm)||void 0===r?void 0:r.sub_category_id)})))||void 0===n?void 0:n.id),t.filter_data.brands.length&&(null===(o=t.filter_data.brands.find((function(e){var r;return e.id===(null==t||null===(r=t.initialForm)||void 0===r?void 0:r.brand_id)})))||void 0===o?void 0:o.id),c={"multiselect-component":"","checkbox-component":!1,"filter-single-input":""},t.filter_data.filters.forEach((function(filter){Object.keys(t.form).includes(filter.key)||(t.form[filter.key]=c[filter.component])}));case 7:case"end":return r.stop()}}),r)})))()},dynamicFilterOnChange:function(e,t){this.form=S({},this.form),this.errors.includes(e)&&t&&(this.errors=this.errors.filter((function(t){return t!==e})))},removeImage:function(e){this.files=e,this.$nuxt.$emit("progress_change",{type:"images",count:Object.keys(this.files).length}),this.getInfo()},getInfo:function(){var e=this,i=-3;Object.keys(this.form).map((function(t){"object"!==Object(c.a)(e.form[t])&&""!==e.form[t]&&"currency"!==t&&i++})),this.files.length&&(i+=1),this.$nuxt.$emit("progress_change",{type:"all",count:i,all:33})}},computed:S(S({},Object(m.c)({single_announce:"single_announce",sell_options:"sellOptions",all_sell_options:"allSellOptions",partCategories:"partCategories",moderator:"moderator/moderator"})),{},{notValid:function(){return!this.form.title||!this.form.category_id},crumbs:function(){return[{name:this.$t("moderation")}]},isAdmin:function(){return 1==this.user.admin_group||2==this.user.admin_group},isModerator:function(){return this.user.admin_group&&2==this.user.admin_group},conditionButtons:function(){return[{key:!0,name:this.$t("new")},{key:!1,name:this.$t("S_H")}]},originalityButtons:function(){return[{key:!0,name:this.$t("original")},{key:!1,name:this.$t("duplicate")}]},dynamicFilters:function(){return(null==this?void 0:this.filter_data.filters)||[]},getCurrencyOptions:function(){return[{key:1,name:"AZN",sign:"₼"},{key:2,name:"USD",sign:"$"},{key:3,name:"EUR",sign:"€"}]},regions:function(){var e;return(null==this||null===(e=this.filter_data)||void 0===e?void 0:e.regions)||[]},categories:function(){return this.$store.getters["parts/categories"].filter((function(e){return e.show_on_form}))},brands:function(){var e;return(null==this||null===(e=this.filter_data)||void 0===e?void 0:e.brands)||[]}}),mounted:function(){this.getAnnounceData(),this.single_announce.category_id&&(this.filter_data=this.getPartFilters()),this.single_announce.category_id&&this.getFilters(this.single_announce.category_id)},fetch:function(){var e=this;return Object(d.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$store.dispatch("parts/getCategories");case 2:case"end":return t.stop()}}),t)})))()}},M=E,L=Object(R.a)(M,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"container"},[t("breadcrumbs",{attrs:{id:"brdcrmbsTicketParts",crumbs:e.crumbs}}),e._v(" "),e.loading?t("div",[t("elements-loader")],1):e.single_announce&&e.single_announce.id&&!e.loading?t("div",{staticClass:"card w-100"},[[t("moderation-header",{attrs:{single_announce:e.single_announce,form:e.form,button_loading:e.button_loading}})],e._v(" "),t("section",{staticClass:"row mb-4"},[t("div",{staticClass:"col-12"},[t("title-with-line-and-reject-reason",{attrs:{"no-approval":!e.isAdmin,title:"general_informations"},on:{change:e.changeReason}})],1),e._v(" "),t("div",{staticClass:"col-12 col-md-6 col-lg-3"},[t("label",[e._v(e._s(e.$t("product_code")))]),e._v(" "),t("form-text-input",{attrs:{placeholder:e.$t("product_code")},model:{value:e.form.product_code,callback:function(t){e.$set(e.form,"product_code",t)},expression:"form.product_code"}})],1),e._v(" "),t("div",{staticClass:"col-12 col-md-6 col-lg-3"},[t("label",[e._v(e._s(e.$t("headline")))]),e._v(" "),t("form-text-input",{attrs:{maxlength:25,placeholder:e.$t("title_max_character",{max:25})},model:{value:e.form.title,callback:function(t){e.$set(e.form,"title",t)},expression:"form.title"}})],1),e._v(" "),t("div",{staticClass:"col-12 mt-3"},[t("label",[e._v(e._s(e.$t("description_placeholder_part")))]),e._v(" "),t("form-textarea",{attrs:{maxlength:3e3,placeholder:e.$t("description_placeholder_part")},model:{value:e.form.description,callback:function(t){e.$set(e.form,"description",t)},expression:"form.description"}})],1),e._v(" "),t("div",{staticClass:"col-12"},[t("small",{staticClass:"px-2"},[e._v("\n          "+e._s(e.$t("sell_parts_description_warning"))+"\n        ")])])]),e._v(" "),t("h2",{staticClass:"title-with-line mt-3 mt-lg-0",attrs:{id:"anchor-specification"}},[t("span",[e._v("\n        "+e._s(e.$t("parts"))+"\n        "),t("span",{staticClass:"star"},[e._v("*")])])]),e._v(" "),t("div",{staticClass:"row"},[e.categories&&e.categories.length?t("div",{staticClass:"col-lg-4 mb-3 mb-lg-0",attrs:{id:"anchor-category_id"}},[t("form-select",{attrs:{"allow-clear":!1,"clear-option":!1,disabled:e.ismoderator,invalid:e.isInvalid("category_id"),label:e.$t("category"),options:e.categories},on:{change:function(t){e.categorySelected(t),e.removeError("category_id"),e.form.commercial_part=!1}},model:{value:e.form.category_id,callback:function(t){e.$set(e.form,"category_id",t)},expression:"form.category_id"}})],1):e._e(),e._v(" "),e.filter_data.sub_categories&&e.filter_data.sub_categories.length?t("div",{staticClass:"col-lg-4 mb-3 mb-lg-0",attrs:{id:"anchor-sub_category_id"}},[t("form-select",{attrs:{"allow-clear":!1,"clear-option":!1,invalid:e.isInvalid("sub_category"),label:e.$t("sub_category"),options:e.filter_data.sub_categories.map((function(e){return{name:e.name,key:e.id}}))},on:{change:function(t){return e.removeError("sub_category")}},model:{value:e.form.sub_category_id,callback:function(t){e.$set(e.form,"sub_category_id",t)},expression:"form.sub_category_id"}})],1):e._e(),e._v(" "),e.filter_data.brands&&e.filter_data.brands.length?t("div",{staticClass:"col-lg-4 mb-3 mb-lg-0",attrs:{id:"anchor-brand_id"}},[t("form-select",{attrs:{"allow-clear":!1,"clear-option":!1,invalid:e.isInvalid("brand_id"),label:e.$t("select_brand"),options:[{id:0,name:e.$t("other")}].concat(Object(o.a)(e.brands)),"has-search":""},on:{change:function(t){return e.removeError("brand_id")}},model:{value:e.form.brand_id,callback:function(t){e.$set(e.form,"brand_id",t)},expression:"form.brand_id"}})],1):e._e(),e._v(" "),[19,20].includes(e.form.category_id)?t("div",{staticClass:"col-lg-4 mb-3 mb-lg-0"},[t("form-checkbox",{attrs:{id:"commercial_part","checked-value":e.form.commercial_part,label:e.$t("commercial_part")},on:{change:function(t){!t&&(e.form.commercial_size="")}},model:{value:e.form.commercial_part,callback:function(t){e.$set(e.form,"commercial_part",t)},expression:"form.commercial_part"}})],1):e._e(),e._v(" "),e.form.category_id?t("div",{staticClass:"col-12 mt-3"},[t("div",{staticClass:"row"},[t("div",{staticClass:"col-lg-4 mb-3"},[t("form-buttons",{attrs:{id:"anchor-is_new","group-by":2,invalid:e.isInvalid("is_new"),label:"".concat(e.$t("new"),"/").concat(e.$t("S_H")),options:e.conditionButtons,"btn-class":"primary-outline"},on:{change:function(t){return e.removeError("is_new")}},model:{value:e.form.is_new,callback:function(t){e.$set(e.form,"is_new",t)},expression:"form.is_new"}})],1),e._v(" "),t("div",{staticClass:"col-lg-4 mb-3"},[t("form-buttons",{attrs:{id:"anchor-is_original","group-by":2,invalid:e.isInvalid("is_original"),label:"".concat(e.$t("original"),"/").concat(e.$t("duplicate")),options:e.originalityButtons,"btn-class":"primary-outline"},on:{change:function(t){return e.removeError("is_original")}},model:{value:e.form.is_original,callback:function(t){e.$set(e.form,"is_original",t)},expression:"form.is_original"}})],1),e._v(" "),e._l(e.dynamicFilters,(function(filter){return e.form.commercial_part&&e.commercialPartDisabledOptions.includes(filter.key)?e._e():t("div",{key:"filter-"+filter.id,staticClass:"col-lg-4 mb-3",attrs:{id:"anchor-"+filter.key}},[t("label",[e._v(e._s(e.$t(filter.key)))]),e._v(" "),"multiselect-component"===filter.component?t("form-select",{attrs:{"allow-clear":!1,"clear-option":!filter.is_required,invalid:e.isInvalid(filter.key),label:e.$t(filter.key),options:filter.values,translateOptions:"number"!=typeof filter.values[0].name,"has-search":""},on:{change:function(t){e.removeError(filter.key),e.dynamicFilterOnChange(filter.key,t)}},model:{value:e.form.filter[filter.key],callback:function(t){e.$set(e.form.filter,filter.key,t)},expression:"form.filter[filter.key]"}}):e._e(),e._v(" "),"checkbox-component"===filter.component?t("form-checkbox",{attrs:{id:filter.key,"checked-value":e.form.filter[filter.key],invalid:e.isInvalid(filter.key),label:e.$t(filter.key)},on:{change:function(t){return e.removeError(filter.key)}},model:{value:e.form.filter[filter.key],callback:function(t){e.$set(e.form.filter,filter.key,t)},expression:"form.filter[filter.key]"}}):e._e(),e._v(" "),"filter-single-input"===filter.component?t("form-numeric-input",{attrs:{invalid:e.isInvalid(filter.key),placeholder:e.$t("capacity"===filter.key?"battery_capacity":filter.key)},on:{change:function(t){return e.removeError(filter.key)},input:function(t){e.form[filter.key]=String(t),e.dynamicFilterOnChange(filter.key,t)}},model:{value:e.form.filter[filter.key],callback:function(t){e.$set(e.form.filter,filter.key,t)},expression:"form.filter[filter.key]"}}):e._e()],1)})),e._v(" "),e.form.commercial_part?t("div",{staticClass:"col-lg-4 mb-3",staticStyle:{"align-items":"center"},attrs:{id:"anchor-commercial_size"}},[t("form-text-input",{attrs:{"clear-option":!1,invalid:e.isInvalid("commercial_size"),maxlength:50,placeholder:e.$t("commercial_size")},on:{change:function(t){return e.removeError("commercial_size")}},model:{value:e.form.commercial_size,callback:function(t){e.$set(e.form,"commercial_size",t)},expression:"form.commercial_size"}})],1):e._e(),e._v(" "),t("div",{staticClass:"col-12 mb-3"},[t("div",{staticClass:"row"},[t("div",{staticClass:"col-12"},[t("title-with-line-and-reject-reason",{attrs:{"no-approval":"",title:"price"},on:{change:e.changeReason}})],1),e._v(" "),t("div",{staticClass:"col-auto"},[t("form-price-input",{attrs:{id:"anchor-price",invalid:e.isInvalid("price"),maxlength:5,placeholder:e.$t("price"),float:""},on:{change:function(t){return e.removeError("price")}},model:{value:e.form.price,callback:function(t){e.$set(e.form,"price",t)},expression:"form.price"}})],1),e._v(" "),t("div",{staticClass:"col-auto"},[t("form-switch",{attrs:{options:e.getCurrencyOptions},on:{change:function(t){return e.updatePreview("currency")}},model:{value:e.form.currency_id,callback:function(t){e.$set(e.form,"currency_id",t)},expression:"form.currency_id"}})],1),e._v(" "),t("div",{staticClass:"col-auto"},[t("form-checkbox",{attrs:{id:"anchor-is_negotiable",invalid:e.isInvalid("is_negotiable"),label:e.$t("is_negotiable"),"checked-value":"is_negotiable"},on:{change:function(t){e.changeIsNegotiable(t),e.removeError("is_negotiable")}},model:{value:e.form.is_negotiable,callback:function(t){e.$set(e.form,"is_negotiable",t)},expression:"form.is_negotiable"}})],1),e._v(" "),t("div",{staticClass:"col-auto"})])]),e._v(" "),t("div",{staticClass:"col-12"},[t("div",{staticClass:"row"},[t("div",{staticClass:"col-12"},[t("title-with-line-and-reject-reason",{attrs:{"no-approval":"",title:"region"},on:{change:e.changeReason}})],1),e._v(" "),e.regions.length?t("div",{staticClass:"col-lg-4 mb-3",attrs:{id:"anchor-region_id"}},[t("form-select",{attrs:{"allow-clear":!1,"clear-option":!1,invalid:e.isInvalid("region_id"),label:e.$t("region"),options:e.regions,"has-search":""},on:{change:function(t){return e.removeError("region_id")}},model:{value:e.form.region_id,callback:function(t){e.$set(e.form,"region_id",t)},expression:"form.region_id"}})],1):e._e(),e._v(" "),t("div",{staticClass:"col-lg-4 mb-3"},[t("form-checkbox",{attrs:{id:"anchor-have_delivery",invalid:e.isInvalid("have_delivery"),label:e.$t("have_delivery"),"checked-value":"delivery"},on:{change:function(t){return e.removeError("have_delivery")}},model:{value:e.form.have_delivery,callback:function(t){e.$set(e.form,"have_delivery",t)},expression:"form.have_delivery"}})],1),e._v(" "),t("div",{staticClass:"col-lg-4 mb-3"},[t("form-checkbox",{attrs:{id:"anchor-have_warranty",invalid:e.isInvalid("have_warranty"),label:e.$t("have_warranty"),"checked-value":"warranty"},on:{change:function(t){return e.removeError("have_warranty")}},model:{value:e.form.have_warranty,callback:function(t){e.$set(e.form,"have_warranty",t)},expression:"form.have_warranty"}})],1)])])],2)]):e._e(),e._v(" "),t("div",{staticClass:"col-12"},[t("form-keywords-moderator",{staticClass:"w-100",attrs:{"is-moderator":""},model:{value:e.form.tags,callback:function(t){e.$set(e.form,"tags",t)},expression:"form.tags"}})],1),e._v(" "),t("div",{staticClass:"col-12"},[t("p",{staticClass:"px-2"},[e._v("\n          "+e._s(e.$t("sell_parts_keywords_info"))+"\n        ")])])]),e._v(" "),t("section",{staticClass:"row"},[t("div",{staticClass:"col-12"},[t("title-with-line-and-reject-reason",{attrs:{subtitle:e.$t("at_least_5_photos",{min:e.minFiles,max:e.maxFiles}).toLowerCase(),hideRejectReason:"",title:"photos"}},[t("div",{staticClass:"mb-2 ml-2",staticStyle:{display:"inline-block","z-index":"0"}},[t("reject-reason",{attrs:{"disabled-value":!0,rejectKey:"image"},on:{change:e.changeReason}})],1)]),e._v(" "),t("transition",{attrs:{name:"fade"}},[e.imageModal.isOpen?t("photo-reject-reason",{attrs:Object(n.a)({default_data:e.rejectArray,modal__title:e.$t("image_reject_reason"),type:"car"},"type","part"),on:{close:function(t){e.imageModal.isOpen=!1},save:e.savePhotoIssues}}):e._e()],1)],1),e._v(" "),t("div",{staticClass:"col-12 pl-2"},[t("upload-image-moderator",{attrs:{announce:e.single_announce,changePosition:e.saved_images.length===e.imagesBase64.length,"default-images":e.single_announce.media,imageIsUploading:e.imageIsUploading,"is-edit":!1,"load-croppa":!0,max_files:30,saved_images:e.saved_images,stopUploading:e.imagesBase64.length>=20,page:"sell",url:"/"},on:{addFiles:e.addFiles,change:e.addImages,delete:e.removeImage,deletedIndex:e.deleteByIndex,passBase64Images:e.passBase64Images,replaceImage:e.replaceImage}})],1)]),e._v(" "),t("moderator-actions",{attrs:{id:e.single_announce.id,announcement:e.form,button_loading:e.button_loading,imageCount:e.imagesBase64.length,notValid:e.notValid,rejectArray:e.rejectArray,"saved-images":e.saved_images,single_announce:e.single_announce,type:"part","reject-array":e.rejectArray},on:{formChanged:function(t){return e.form=t},handleLoading:e.handleLoading,openTransferModal:function(t){e.transferModal=!0},sendData:e.sendData,transferToSupervisor:e.transferToSupervisor,changeReason:e.changeReason}})],2):t("div",[t("div",{staticStyle:{"text-align":"center"}},[t("br"),t("br"),e._v(" "),t("h2",[e._v(e._s(e.$t("Baxılmayanlar mövcud deyil"))+" "+e._s(e.$route.query.type))]),e._v(" "),t("a",{attrs:{href:"javascript:void(0);"}},[t("button",{staticClass:"btn btn--yellow w-50",on:{click:e.handleBackList}},[e._v(e._s(e.$t("back_to_list")))])]),e._v(" "),t("br"),t("br")])]),e._v(" "),t("modal-popup",{attrs:{"modal-class":"",title:"".concat(e.$t("logs")),toggle:2!==e.user.admin_group&&e.openLog},on:{close:function(t){e.openLog=!1}}},[e.single_announce&&e.single_announce.btl_announces?[t("change-log",{attrs:{btl:e.single_announce.btl_announces,logs:e.single_announce.change_log,"user-id":e.single_announce.user_id}})]:e._e()],2),e._v(" "),t("modal-popup",{attrs:{"modal-class":"",title:"".concat(e.$t("transfer_comment")),toggle:e.transferModal,closeable:""},on:{close:function(t){e.transferModal=!1}}},[t("div",{staticClass:"body"},[t("textarea",{directives:[{name:"model",rawName:"v-model",value:e.transferComment,expression:"transferComment"}],key:"ma-moderation-comment-2",staticClass:"ma-input",attrs:{placeholder:e.$t("transfer_comment")},domProps:{value:e.transferComment},on:{input:function(t){t.target.composing||(e.transferComment=t.target.value)}}}),e._v(" "),t("div",{staticClass:"row justify-content-center"},[t("button",{staticClass:"btn btn--green mt-1",class:{pending:e.button_loading,disabled:""==e.transferComment||e.notValid},attrs:{disabled:e.notValid||null==e.transferComment||""===e.transferComment},on:{click:function(t){return t.preventDefault(),e.transferToSupervisor()}}},[e._v("\n          "+e._s(e.$t("transfer_to_supervisor"))+"\n        ")])])])])],1)}),[],!1,null,null,null);t.default=L.exports}}]);